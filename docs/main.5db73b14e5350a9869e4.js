(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return u});var r=n("30Go"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:s,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(s)}catch(h){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService(c);u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=s),this.instances.has(t)},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===s?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"30Go":function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return a}),n.d(e,"h",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l}),n.d(e,"g",function(){return h});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("ZUHj"),i=n("l7GE"),o=n("51Dv"),s=n("lJxs"),a=n("Cfvw");function u(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(u((n,r)=>Object(a.a)(t(n,r)).pipe(Object(s.a)((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new c(t,n)))}class c{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new l(t,this.project,this.concurrent))}}class l extends i.a{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const i=new o.a(this,e,n),s=this.destination;s.add(i);const a=Object(r.a)(this,t,void 0,void 0,i);a!==i&&s.add(a)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"51Dv":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");class i extends r.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return u});var r=n("XNiG"),i=n("HDdC"),o=(n("7o/Q"),n("quSY")),s=n("x+ZX");class a extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.a,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.a.EMPTY)),t}refCount(){return Object(s.a)()(this)}}const u=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.2.9","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},ZUHj:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("51Dv"),i=n("SeVD"),o=n("HDdC");function s(t,e,n,s,a=new r.a(t,n,s)){if(!a.closed)return e instanceof o.a?e.subscribe(a):Object(i.a)(e)(a)}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return tn}),n.d(e,"b",function(){return Qa}),n.d(e,"c",function(){return Ba}),n.d(e,"d",function(){return Ha}),n.d(e,"e",function(){return za}),n.d(e,"f",function(){return Hu}),n.d(e,"g",function(){return Nu}),n.d(e,"h",function(){return Xs}),n.d(e,"i",function(){return su}),n.d(e,"j",function(){return _s}),n.d(e,"k",function(){return Za}),n.d(e,"l",function(){return Cs}),n.d(e,"m",function(){return dr}),n.d(e,"n",function(){return Ia}),n.d(e,"o",function(){return Ki}),n.d(e,"p",function(){return _n}),n.d(e,"q",function(){return k}),n.d(e,"r",function(){return Je}),n.d(e,"s",function(){return lo}),n.d(e,"t",function(){return zs}),n.d(e,"u",function(){return Gs}),n.d(e,"v",function(){return Ya}),n.d(e,"w",function(){return aa}),n.d(e,"x",function(){return Ru}),n.d(e,"y",function(){return sa}),n.d(e,"z",function(){return Tu}),n.d(e,"A",function(){return cu}),n.d(e,"B",function(){return wn}),n.d(e,"C",function(){return Ka}),n.d(e,"D",function(){return Wa}),n.d(e,"E",function(){return Ts}),n.d(e,"F",function(){return Ss}),n.d(e,"G",function(){return yr}),n.d(e,"H",function(){return As}),n.d(e,"I",function(){return ur}),n.d(e,"J",function(){return On}),n.d(e,"K",function(){return Vu}),n.d(e,"L",function(){return na}),n.d(e,"M",function(){return vu}),n.d(e,"N",function(){return en}),n.d(e,"O",function(){return ks}),n.d(e,"P",function(){return js}),n.d(e,"Q",function(){return ca}),n.d(e,"R",function(){return V}),n.d(e,"S",function(){return xu}),n.d(e,"T",function(){return Iu}),n.d(e,"U",function(){return g}),n.d(e,"V",function(){return Cu}),n.d(e,"W",function(){return Fu}),n.d(e,"X",function(){return bu}),n.d(e,"Y",function(){return Xa}),n.d(e,"Z",function(){return Xi}),n.d(e,"ab",function(){return ss}),n.d(e,"bb",function(){return sr}),n.d(e,"cb",function(){return zn}),n.d(e,"db",function(){return Nn}),n.d(e,"eb",function(){return Rn}),n.d(e,"fb",function(){return Ln}),n.d(e,"gb",function(){return Mn}),n.d(e,"hb",function(){return Dn}),n.d(e,"ib",function(){return Vn}),n.d(e,"jb",function(){return ns}),n.d(e,"kb",function(){return Uu}),n.d(e,"lb",function(){return rs}),n.d(e,"mb",function(){return is}),n.d(e,"nb",function(){return Pn}),n.d(e,"ob",function(){return H}),n.d(e,"pb",function(){return _o}),n.d(e,"qb",function(){return Do}),n.d(e,"rb",function(){return Po}),n.d(e,"sb",function(){return Ro}),n.d(e,"tb",function(){return es}),n.d(e,"ub",function(){return St}),n.d(e,"vb",function(){return f}),n.d(e,"wb",function(){return kn}),n.d(e,"xb",function(){return fo}),n.d(e,"yb",function(){return _t}),n.d(e,"zb",function(){return ys}),n.d(e,"Ab",function(){return ti}),n.d(e,"Bb",function(){return Eo}),n.d(e,"Cb",function(){return zo}),n.d(e,"Db",function(){return La}),n.d(e,"Eb",function(){return J}),n.d(e,"Fb",function(){return st}),n.d(e,"Gb",function(){return O}),n.d(e,"Hb",function(){return E}),n.d(e,"Ib",function(){return rt}),n.d(e,"Jb",function(){return at}),n.d(e,"Kb",function(){return So}),n.d(e,"Lb",function(){return ko}),n.d(e,"Mb",function(){return jo}),n.d(e,"Nb",function(){return Ao}),n.d(e,"Ob",function(){return No}),n.d(e,"Pb",function(){return Qe}),n.d(e,"Qb",function(){return Yo}),n.d(e,"Rb",function(){return yn}),n.d(e,"Sb",function(){return Xe}),n.d(e,"Tb",function(){return qa}),n.d(e,"Ub",function(){return Mo}),n.d(e,"Vb",function(){return Ua}),n.d(e,"Wb",function(){return Uo}),n.d(e,"Xb",function(){return To}),n.d(e,"Yb",function(){return Ca}),n.d(e,"Zb",function(){return Va}),n.d(e,"ac",function(){return Io}),n.d(e,"bc",function(){return Bt}),n.d(e,"cc",function(){return cr}),n.d(e,"dc",function(){return it}),n.d(e,"ec",function(){return Co}),n.d(e,"fc",function(){return Ko}),n.d(e,"gc",function(){return Qo}),n.d(e,"hc",function(){return Xo});var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("EQ5u"),u=n("x+ZX");function c(){return new r.a}function l(t){for(let e in t)if(t[e]===l)return e;throw Error("Could not find renamed property on target object.")}function h(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function f(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(f).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function d(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const p=l({__forward_ref__:l});function g(t){return t.__forward_ref__=g,t.toString=function(){return f(this())},t}function v(t){return y(t)?t():t}function y(t){return"function"==typeof t&&t.hasOwnProperty(p)&&t.__forward_ref__===g}class m extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function b(t){return"string"==typeof t?t:null==t?"":String(t)}function _(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():b(t)}function w(t,e){const n=e?` in ${e}`:"";throw new m("201",`No provider for ${_(t)} found${n}`)}function O(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function E(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function C(t){return I(t,T)||I(t,A)}function I(t,e){return t.hasOwnProperty(e)?t[e]:null}function S(t){return t&&(t.hasOwnProperty(x)||t.hasOwnProperty(j))?t[x]:null}const T=l({"\u0275prov":l}),x=l({"\u0275inj":l}),A=l({ngInjectableDef:l}),j=l({ngInjectorDef:l});var k=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let N;function P(t){const e=N;return N=t,e}function R(t,e,n){const r=C(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&k.Optional?null:void 0!==e?e:void w(f(t),"Injector")}function D(t){return{toString:t}.toString()}var M=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),V=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const L="undefined"!=typeof globalThis&&globalThis,U="undefined"!=typeof window&&window,F="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,q="undefined"!=typeof global&&global,H=L||q||U||F,z={},B=[],G=l({"\u0275cmp":l}),$=l({"\u0275dir":l}),W=l({"\u0275pipe":l}),K=l({"\u0275mod":l}),Q=l({"\u0275loc":l}),X=l({"\u0275fac":l}),Y=l({__NG_ELEMENT_ID__:l});let Z=0;function J(t){return D(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===M.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||B,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||V.Emulated,id:"c",styles:t.styles||B,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=Z++,n.inputs=ot(t.inputs,e),n.outputs=ot(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(tt):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(et):null,n})}function tt(t){return ut(t)||function(t){return t[$]||null}(t)}function et(t){return function(t){return t[W]||null}(t)}const nt={};function rt(t){const e={type:t.type,bootstrap:t.bootstrap||B,declarations:t.declarations||B,imports:t.imports||B,exports:t.exports||B,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&D(()=>{nt[t.id]=t.type}),e}function it(t,e){return D(()=>{const n=ct(t,!0);n.declarations=e.declarations||B,n.imports=e.imports||B,n.exports=e.exports||B})}function ot(t,e){if(null==t)return z;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const st=J;function at(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ut(t){return t[G]||null}function ct(t,e){const n=t[K]||null;if(!n&&!0===e)throw new Error(`Type ${f(t)} does not have '\u0275mod' property.`);return n}const lt=20,ht=10;function ft(t){return Array.isArray(t)&&"object"==typeof t[1]}function dt(t){return Array.isArray(t)&&!0===t[1]}function pt(t){return 0!=(8&t.flags)}function gt(t){return 2==(2&t.flags)}function vt(t){return 1==(1&t.flags)}function yt(t){return null!==t.template}function mt(t,e){return t.hasOwnProperty(X)?t[X]:null}class bt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function _t(){return wt}function wt(t){return t.type.prototype.ngOnChanges&&(t.setInput=Et),Ot}function Ot(){const t=Ct(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===z)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Et(t,e,n,r){const i=Ct(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:z,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new bt(u&&u.currentValue,e,s===z),t[r]=e}function Ct(t){return t.__ngSimpleChanges__||null}let It;function St(t){It=t}function Tt(t){return!!t.listen}_t.ngInherit=!0;const xt={createRenderer:(t,e)=>void 0!==It?It:"undefined"!=typeof document?document:void 0};function At(t){for(;Array.isArray(t);)t=t[0];return t}function jt(t,e){return At(e[t])}function kt(t,e){return At(e[t.index])}function Nt(t,e){return t.data[e]}function Pt(t,e){const n=e[t];return ft(n)?n:n[0]}function Rt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Dt(t){return 4==(4&t[2])}function Mt(t){return 128==(128&t[2])}function Vt(t,e){return null==e?null:t[e]}function Lt(t){t[18]=0}function Ut(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Ft={lFrame:se(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function qt(){return Ft.bindingsEnabled}function Ht(){return Ft.lFrame.lView}function zt(){return Ft.lFrame.tView}function Bt(t){Ft.lFrame.contextLView=t}function Gt(){let t=$t();for(;null!==t&&64===t.type;)t=t.parent;return t}function $t(){return Ft.lFrame.currentTNode}function Wt(t,e){const n=Ft.lFrame;n.currentTNode=t,n.isParent=e}function Kt(){return Ft.lFrame.isParent}function Qt(){return Ft.isInCheckNoChangesMode}function Xt(t){Ft.isInCheckNoChangesMode=t}function Yt(){return Ft.lFrame.bindingIndex++}function Zt(t,e){const n=Ft.lFrame;n.bindingIndex=n.bindingRootIndex=t,Jt(e)}function Jt(t){Ft.lFrame.currentDirectiveIndex=t}function te(){return Ft.lFrame.currentQueryIndex}function ee(t){Ft.lFrame.currentQueryIndex=t}function ne(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function re(t,e,n){if(n&k.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&k.Host||(r=ne(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Ft.lFrame=oe();return r.currentTNode=e,r.lView=t,!0}function ie(t){const e=oe(),n=t[1];Ft.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function oe(){const t=Ft.lFrame,e=null===t?null:t.child;return null===e?se(t):e}function se(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function ae(){const t=Ft.lFrame;return Ft.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ue=ae;function ce(){const t=ae();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function le(){return Ft.lFrame.selectedIndex}function he(t){Ft.lFrame.selectedIndex=t}function fe(){const t=Ft.lFrame;return Nt(t.tView,t.selectedIndex)}function de(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function pe(t,e,n){ye(t,e,3,n)}function ge(t,e,n,r){(3&t[2])===n&&ye(t,e,n,r)}function ve(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function ye(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let a=void 0!==r?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=r&&s>=r)break}else e[a]<0&&(t[18]+=65536),(s<i||-1==i)&&(me(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function me(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}const be=-1;class _e{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function we(t,e,n){const r=Tt(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];Ee(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function Oe(t){return 3===t||4===t||6===t}function Ee(t){return 64===t.charCodeAt(0)}function Ce(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Ie(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Ie(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Se(t){return t!==be}function Te(t){return 32767&t}function xe(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Ae=!0;function je(t){const e=Ae;return Ae=t,e}let ke=0;function Ne(t,e){const n=Re(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Pe(r.data,t),Pe(e,null),Pe(r.blueprint,null));const i=De(t,e),o=t.injectorIndex;if(Se(i)){const t=Te(i),n=xe(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function Pe(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Re(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function De(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return be;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return be}function Me(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Y)&&(r=n[Y]),null==r&&(r=n[Y]=ke++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Ve(t,e,n){if(n&k.Optional)return t;w(e,"NodeInjector")}function Le(t,e,n,r){if(n&k.Optional&&void 0===r&&(r=null),0==(n&(k.Self|k.Host))){const i=t[9],o=P(void 0);try{return i?i.get(e,r,n&k.Optional):R(e,r,n&k.Optional)}finally{P(o)}}return Ve(r,e,n)}function Ue(t,e,n,r=k.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Y)?t[Y]:void 0;return"number"==typeof e?e>=0?255&e:qe:e}(n);if("function"==typeof o){if(!re(e,t,r))return r&k.Host?Ve(i,n,r):Le(e,n,r,i);try{const t=o();if(null!=t||r&k.Optional)return t;w(n)}finally{ue()}}else if("number"==typeof o){let i=null,s=Re(t,e),a=be,u=r&k.Host?e[16][6]:null;for((-1===s||r&k.SkipSelf)&&(a=-1===s?De(t,e):e[s+8],a!==be&&$e(r,!1)?(i=e[1],s=Te(a),e=xe(a,e)):s=-1);-1!==s;){const t=e[1];if(Ge(o,s,t.data)){const t=He(s,e,n,i,r,u);if(t!==Fe)return t}a=e[s+8],a!==be&&$e(r,e[1].data[s+8]===u)&&Ge(o,s,e)?(i=t,s=Te(a),e=xe(a,e)):s=-1}}}return Le(e,n,r,i)}const Fe={};function qe(){return new We(Gt(),Ht())}function He(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=ze(a,s,n,null==r?gt(a)&&Ae:r!=s&&0!=(3&a.type),i&k.Host&&o===a);return null!==u?Be(e,s,u,a):Fe}function ze(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&yt(t)&&t.type===n)return u}return null}function Be(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof _e){const s=i;s.resolving&&function(t,e){throw new m("200",`Circular dependency in DI detected for ${t}`)}(_(o[n]));const a=je(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?P(s.injectImpl):null;re(t,r,k.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=wt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&P(u),je(a),s.resolving=!1,ue()}}return i}function Ge(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function $e(t,e){return!(t&k.Self||t&k.Host&&e)}class We{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Ue(this._tNode,this._lView,t,void 0,e)}}function Ke(t){const e=t;if(y(t))return()=>{const t=Ke(v(e));return t?t():null};let n=mt(e);if(null===n){const t=S(e);n=t&&t.factory}return n||null}function Qe(t){return D(()=>{const e=t.prototype.constructor,n=e[X]||Ke(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[X]||Ke(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function Xe(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Oe(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Gt(),t)}const Ye="__parameters__";function Ze(t,e,n){return D(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(Ye)?t[Ye]:Object.defineProperty(t,Ye,{value:[]})[Ye];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class Je{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=O({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const tn=new Je("AnalyzeForEntryComponents"),en=Function;function nn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),nn(r,e)):e!==t&&e.push(r)}return e}function rn(t,e){t.forEach(t=>Array.isArray(t)?rn(t,e):e(t))}function on(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function sn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function an(t,e,n){let r=cn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function un(t,e){const n=cn(t,e);if(n>=0)return t[1|n]}function cn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const ln={},hn=/\n/gm,fn="__source",dn=l({provide:String,useValue:l});let pn;function gn(t){const e=pn;return pn=t,e}function vn(t,e=k.Default){if(void 0===pn)throw new Error("inject() must be called from an injection context");return null===pn?R(t,void 0,e):pn.get(t,e&k.Optional?null:void 0,e)}function yn(t,e=k.Default){return(N||vn)(v(t),e)}function mn(t){const e=[];for(let n=0;n<t.length;n++){const r=v(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=k.Default;for(let e=0;e<r.length;e++){const i=r[e],o=i.__NG_DI_FLAG__;"number"==typeof o?-1===o?t=i.token:n|=o:t=i}e.push(yn(t,n))}else e.push(yn(r))}return e}function bn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const _n=bn(Ze("Inject",t=>({token:t})),-1),wn=bn(Ze("Optional"),8),On=bn(Ze("SkipSelf"),4);let En;function Cn(t){var e;return(null===(e=function(){if(void 0===En&&(En=null,H.trustedTypes))try{En=H.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return En}())||void 0===e?void 0:e.createHTML(t))||t}class In{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Sn extends In{getTypeName(){return"HTML"}}class Tn extends In{getTypeName(){return"Style"}}class xn extends In{getTypeName(){return"Script"}}class An extends In{getTypeName(){return"URL"}}class jn extends In{getTypeName(){return"ResourceURL"}}function kn(t){return t instanceof In?t.changingThisBreaksApplicationSecurity:t}function Nn(t,e){const n=Pn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Pn(t){return t instanceof In&&t.getTypeName()||null}function Rn(t){return new Sn(t)}function Dn(t){return new Tn(t)}function Mn(t){return new xn(t)}function Vn(t){return new An(t)}function Ln(t){return new jn(t)}class Un{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Cn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Fn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Cn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Cn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const qn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Hn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function zn(t){return(t=String(t)).match(qn)||t.match(Hn)?t:"unsafe:"+t}function Bn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Gn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const $n=Bn("area,br,col,hr,img,wbr"),Wn=Bn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Kn=Bn("rp,rt"),Qn=Gn(Kn,Wn),Xn=Gn($n,Gn(Wn,Bn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Gn(Kn,Bn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Qn),Yn=Bn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Zn=Bn("srcset"),Jn=Gn(Yn,Zn,Bn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Bn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),tr=Bn("script,style,template");class er{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Xn.hasOwnProperty(e))return this.sanitizedSomething=!0,!tr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!Jn.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;Yn[o]&&(s=zn(s)),Zn[o]&&(r=s,s=(r=String(r)).split(",").map(t=>zn(t.trim())).join(", ")),this.buf.push(" ",e,'="',ir(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Xn.hasOwnProperty(e)&&!$n.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(ir(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const nr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,rr=/([^\#-~ |!])/g;function ir(t){return t.replace(/&/g,"&amp;").replace(nr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(rr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let or;function sr(t,e){let n=null;try{or=or||function(t){const e=new Fn(t);return function(){try{return!!(new window.DOMParser).parseFromString(Cn(""),"text/html")}catch(t){return!1}}()?new Un(e):e}(t);let r=e?String(e):"";n=or.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=or.getInertBodyElement(r)}while(r!==o);return Cn((new er).sanitizeChildren(ar(n)||n))}finally{if(n){const t=ar(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function ar(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var ur=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function cr(t){const e=function(){const t=Ht();return t&&t[12]}();return e?e.sanitize(ur.URL,t)||"":Nn(t,"URL")?kn(t):zn(b(t))}function lr(t){return t.ngDebugContext}function hr(t){return t.ngOriginalError}function fr(t,...e){t.error(...e)}class dr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||fr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?lr(t)?lr(t):this._findContext(hr(t)):null}_findOriginalError(t){let e=hr(t);for(;e&&hr(e);)e=hr(e);return e}}function pr(t,e){t.__ngContext__=e}const gr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(H))();function vr(t){return t instanceof Function?t():t}var yr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function mr(t,e){return(void 0)(t,e)}function br(t){const e=t[3];return dt(e)?e[3]:e}function _r(t){return Or(t[13])}function wr(t){return Or(t[4])}function Or(t){for(;null!==t&&!dt(t);)t=t[4];return t}function Er(t,e,n,r,i){if(null!=r){let o,s=!1;dt(r)?o=r:ft(r)&&(s=!0,r=r[0]);const a=At(r);0===t&&null!==n?null==i?jr(e,n,a):Ar(e,n,a,i||null,!0):1===t&&null!==n?Ar(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Nr(t,e);r&&function(t,e,n,r){Tt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==At(n)&&Er(e,t,r,o,i);for(let s=ht;s<n.length;s++){const i=n[s];Lr(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Cr(t,e,n){return Tt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Ir(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Ut(i,-1)),n.splice(r,1)}function Sr(t,e){if(t.length<=ht)return;const n=ht+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Ir(o,r),e>0&&(t[n-1][4]=r[4]);const s=sn(t,ht+e);Lr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Tr(t,e){if(!(256&e[2])){const n=e[11];Tt(n)&&n.destroyNode&&Lr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return xr(t[1],t);for(;e;){let n=null;if(ft(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ft(e)&&xr(e[1],e),e=e[3];null===e&&(e=t),ft(e)&&xr(e[1],e),n=e&&e[4]}e=n}}(e)}}function xr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof _e)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):At(e[t]),a=r[i=n[o+2]],u=n[o+3];"boolean"==typeof u?s.removeEventListener(n[o],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&Tt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&dt(e[3])){n!==e[3]&&Ir(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Ar(t,e,n,r,i){Tt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function jr(t,e,n){Tt(t)?t.appendChild(e,n):e.appendChild(n)}function kr(t,e,n,r,i){null!==r?Ar(t,e,n,r,i):jr(t,e,n)}function Nr(t,e){return Tt(t)?t.parentNode(e):e.parentNode}function Pr(t,e,n,r){const i=function(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===V.None||e===V.Emulated)return null}return kt(r,n)}(t,e.parent,n)}(t,r,e),o=e[11],s=function(t,e,n){return function(t,e,n){return 40&t.type?kt(t,n):null}(t,0,n)}(r.parent||e[6],0,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)kr(o,i,n[a],s,!1);else kr(o,i,n,s,!1)}function Rr(t,e){if(null!==e){const n=e.type;if(3&n)return kt(e,t);if(4&n)return Mr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Rr(t,n);{const n=t[e.index];return dt(n)?Mr(-1,n):At(n)}}if(32&n)return mr(e,t)()||At(t[e.index]);{const n=Dr(t,e);return null!==n?Array.isArray(n)?n[0]:Rr(br(t[16]),n):Rr(t,e.next)}}return null}function Dr(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Mr(t,e){const n=ht+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Rr(t,r)}return e[7]}function Vr(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&pr(At(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Vr(t,e,n.child,r,i,o,!1),Er(e,t,i,a,o);else if(32&u){const s=mr(n,r);let u;for(;u=s();)Er(e,t,i,u,o);Er(e,t,i,a,o)}else 16&u?Ur(t,e,r,n,i,o):Er(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Lr(t,e,n,r,i,o){Vr(n,r,t.firstChild,e,i,o,!1)}function Ur(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Er(e,t,i,a[u],o);else Vr(t,e,a,s[3],i,o,!0)}function Fr(t,e,n){Tt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function qr(t,e,n){Tt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Hr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const zr="ng-template";function Br(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Hr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Gr(t){return 4===t.type&&t.value!==zr}function $r(t,e,n){return e===(4!==t.type||n?t.value:zr)}function Wr(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Oe(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!$r(t,u,n)||""===u&&1===e.length){if(Kr(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Br(t.attrs,c,n)){if(Kr(r))return!1;s=!0}continue}const l=Qr(8&r?"class":u,i,Gr(t),n);if(-1===l){if(Kr(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Hr(e,c,0)||2&r&&c!==t){if(Kr(r))return!1;s=!0}}}}else{if(!s&&!Kr(r)&&!Kr(u))return!1;if(s&&Kr(u))continue;s=!1,r=u|1&r}}return Kr(r)||s}function Kr(t){return 0==(1&t)}function Qr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Xr(t,e,n=!1){for(let r=0;r<e.length;r++)if(Wr(t,e[r],n))return!0;return!1}function Yr(t,e){return t?":not("+e.trim()+")":e}function Zr(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||Kr(s)||(e+=Yr(o,i),i=""),r=s,o=o||!Kr(r);n++}return""!==i&&(e+=Yr(o,i)),e}const Jr={};function ti(t){ei(zt(),Ht(),le()+t,Qt())}function ei(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&pe(e,r,n)}else{const r=t.preOrderHooks;null!==r&&ge(e,r,0,n)}he(n)}function ni(t,e){return t<<17|e<<2}function ri(t){return t>>17&32767}function ii(t){return 2|t}function oi(t){return(131068&t)>>2}function si(t,e){return-131069&t|e<<2}function ai(t){return 1|t}function ui(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];ee(i),n.contentQueries(2,e[o],o)}}}function ci(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Lt(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function li(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=$t(),s=Kt(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,r,i),Ft.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=Ft.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return Wt(o,!0),o}function hi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function fi(t,e,n){ie(e);try{const r=t.viewQuery;null!==r&&qi(1,r,n);const i=t.template;null!==i&&gi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&ui(t,e),t.staticViewQueries&&qi(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Mi(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,ce()}}function di(t,e,n,r){const i=e[2];if(256==(256&i))return;ie(e);const o=Qt();try{Lt(e),Ft.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&gi(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&pe(e,n,null)}else{const n=t.preOrderHooks;null!==n&&ge(e,n,0,null),ve(e,0)}if(function(t){for(let e=_r(t);null!==e;e=wr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Ut(r,1),n[2]|=1024}}}(e),function(t){for(let e=_r(t);null!==e;e=wr(e))for(let t=ht;t<e.length;t++){const n=e[t],r=n[1];Mt(n)&&di(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&ui(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&pe(e,n)}else{const n=t.contentHooks;null!==n&&ge(e,n,1),ve(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)he(~r);else{const i=r,o=n[++t],s=n[++t];Zt(o,i),s(2,e[i])}}}finally{he(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Ri(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&qi(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&pe(e,n)}else{const n=t.viewHooks;null!==n&&ge(e,n,2),ve(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Ut(e[3],-1))}finally{ce()}}function pi(t,e,n,r){const i=e[10],o=!Qt(),s=Dt(e);try{o&&!s&&i.begin&&i.begin(),s&&fi(t,e,r),di(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function gi(t,e,n,r,i){const o=le();try{he(-1),2&r&&e.length>lt&&ei(t,e,lt,Qt()),n(r,i)}finally{he(o)}}function vi(t,e,n){qt()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Ne(n,e),pr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=yt(r);o&&ji(e,n,r);const u=Be(e,t,a,n);pr(u,e),null!==s&&ki(0,a-i,u,r,0,s),o&&(Pt(n.index,e)[8]=u)}}(t,e,n,kt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Ft.lFrame.currentDirectiveIndex;try{he(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];Jt(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Ii(r,i)}}finally{he(-1),Jt(s)}}(t,e,n))}function yi(t,e,n=kt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function mi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=bi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function bi(t,e,n,r,i,o,s,a,u,c){const l=lt+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Jr);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function _i(t,e,n,r){const i=zi(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Bi(t).push(r,i.length-1))}function wi(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Oi(t,e,n,r,i,o,s,a){const u=kt(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?($i(t,n,c,r,i),gt(e)&&function(t,e){const n=Pt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.value||"",r):i,Tt(o)?o.setProperty(u,r,i):Ee(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Ei(t,e,n,r){let i=!1;if(qt()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];Xr(n,s.selectors,!1)&&(i||(i=[]),Me(Ne(n,e),t,s.type),yt(s)?(Si(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,xi(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=hi(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=Ce(n.mergedAttrs,c.hostAttrs),Ai(t,n,e,u,c),Ti(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||Gr(e)?null:Ni(n,i);o.push(c),s=wi(n,u,s),a=wi(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new m("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=Ce(n.mergedAttrs,n.attrs),i}function Ci(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function Ii(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Si(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Ti(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;yt(e)&&(n[""]=t)}}function xi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Ai(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=mt(i.type)),s=new _e(o,yt(i),null);t.blueprint[r]=s,n[r]=s,Ci(t,e,0,r,hi(t,n,i.hostVars,Jr),i)}function ji(t,e,n){const r=kt(e,t),i=mi(n),o=t[10],s=Vi(t,ci(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function ki(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function Ni(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Pi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Ri(t,e){const n=Pt(e,t);if(Mt(n)){const t=n[1];80&n[2]?di(t,n,t.template,n[8]):n[5]>0&&Di(n)}}function Di(t){for(let n=_r(t);null!==n;n=wr(n))for(let t=ht;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];di(t,e,t.template,e[8])}else e[5]>0&&Di(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Pt(e[n],t);Mt(r)&&r[5]>0&&Di(r)}}function Mi(t,e){const n=Pt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),fi(r,n,n[8])}function Vi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Li(t){for(;t;){t[2]|=64;const e=br(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Ui(t,e,n){const r=e[10];r.begin&&r.begin();try{di(t,e,t.template,n)}catch(i){throw Gi(e,i),i}finally{r.end&&r.end()}}function Fi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Rt(n),i=r[1];pi(i,r,i.template,n)}}(t[8])}function qi(t,e,n){ee(0),e(t,n)}const Hi=(()=>Promise.resolve(null))();function zi(t){return t[7]||(t[7]=[])}function Bi(t){return t.cleanup||(t.cleanup=[])}function Gi(t,e){const n=t[9],r=n?n.get(dr,null):null;r&&r.handleError(e)}function $i(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Wi(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=d(i,t):2==o&&(r=d(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Ki=new Je("INJECTOR",-1);class Qi{get(t,e=ln){if(e===ln){const e=new Error(`NullInjectorError: No provider for ${f(t)}!`);throw e.name="NullInjectorError",e}return e}}const Xi=new Je("Set Injector scope."),Yi={},Zi={},Ji=[];let to;function eo(){return void 0===to&&(to=new Qi),to}function no(t,e=null,n=null,r){return new ro(t,n,e||eo(),r)}class ro{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&rn(e,n=>this.processProvider(n,t,e)),rn([t],t=>this.processInjectorType(t,[],i)),this.records.set(Ki,so(void 0,this));const o=this.records.get(Xi);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:f(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=ln,n=k.Default){this.assertNotDestroyed();const r=gn(this);try{if(!(n&k.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof Je)&&C(t);e=n&&this.injectableDefInScope(n)?so(io(t),Yi):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&k.Self?eo():this.parent).get(t,e=n&k.Optional&&e===ln?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(f(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[fn]&&i.unshift(e[fn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=f(e);if(Array.isArray(e))i=e.map(f).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):f(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(hn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{gn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(f(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=v(t)))return!1;let r=S(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=S(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{rn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];rn(r,t=>this.processProvider(t,n,r||Ji))}}this.injectorDefTypes.add(o),this.records.set(o,so(r.factory,Yi));const a=r.providers;if(null!=a&&!s){const e=t;rn(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=uo(t=v(t))?t:v(t&&t.provide);const i=function(t,e,n){return ao(t)?so(void 0,t.useValue):so(oo(t),Yi)}(t);if(uo(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=so(void 0,Yi,!0),e.factory=()=>mn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===Yi&&(e.value=Zi,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function io(t){const e=C(t),n=null!==e?e.factory:mt(t);if(null!==n)return n;const r=S(t);if(null!==r)return r.factory;if(t instanceof Je)throw new Error(`Token ${f(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${f(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[T]||t[A]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function oo(t,e,n){let r;if(uo(t)){const e=v(t);return mt(e)||io(e)}if(ao(t))r=()=>v(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...mn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>yn(v(t.useExisting));else{const e=v(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return mt(e)||io(e);r=()=>new e(...mn(t.deps))}var i;return r}function so(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function ao(t){return null!==t&&"object"==typeof t&&dn in t}function uo(t){return"function"==typeof t}const co=function(t,e,n){return function(t,e=null,n=null,r){const i=no(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let lo=(()=>{class t{static create(t,e){return Array.isArray(t)?co(t,e,""):co(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=ln,t.NULL=new Qi,t.\u0275prov=O({token:t,providedIn:"any",factory:()=>yn(Ki)}),t.__NG_ELEMENT_ID__=-1,t})();function ho(t,e){de(Rt(t)[1],Gt())}function fo(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(yt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=po(t.inputs),e.declaredInputs=po(t.declaredInputs),e.outputs=po(t.outputs);const n=i.hostBindings;n&&yo(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&go(t,o),s&&vo(t,s),h(t.inputs,i.inputs),h(t.declaredInputs,i.declaredInputs),h(t.outputs,i.outputs),yt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===fo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ce(i.hostAttrs,n=Ce(n,i.hostAttrs))}}(r)}function po(t){return t===z?{}:t===B?[]:t}function go(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function vo(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function yo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let mo=null;function bo(){if(!mo){const t=H.Symbol;if(t&&t.iterator)mo=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(mo=n)}}}return mo}function _o(t){return!!wo(t)&&(Array.isArray(t)||!(t instanceof Map)&&bo()in t)}function wo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Oo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Eo(t,e,n,r){const i=Ht();return Oo(i,Yt(),e)&&(zt(),function(t,e,n,r,i,o){const s=kt(t,e);!function(t,e,n,r,i,o,s){if(null==o)Tt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?b(o):s(o,r||"",i);Tt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],s,o,t.value,n,r,i)}(fe(),i,t,e,n,r)),Eo}function Co(t,e,n,r,i,o,s,a){const u=Ht(),c=zt(),l=t+lt,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=li(e,t,4,s||null,Vt(c,a));Ei(e,n,l,Vt(c,u)),de(e,l);const h=l.tViews=bi(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];Wt(h,!1);const f=u[11].createComment("");Pr(c,u,f,h),pr(f,u),Vi(u,u[l]=Pi(f,u,f,h)),vt(h)&&vi(c,u,h),null!=s&&yi(u,h,a)}function Io(t){return function(t,e){return t[e]}(Ft.lFrame.contextLView,lt+t)}function So(t,e=k.Default){const n=Ht();return null===n?yn(t,e):Ue(Gt(),n,v(t),e)}function To(t,e,n){const r=Ht();return Oo(r,Yt(),e)&&Oi(zt(),fe(),r,t,e,r[11],n,!1),To}function xo(t,e,n,r,i){const o=i?"class":"style";$i(t,n,e.inputs[o],o,r)}function Ao(t,e,n,r){const i=Ht(),o=zt(),s=lt+t,a=i[11],u=i[s]=Cr(a,e,Ft.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=li(e,t,2,i,Vt(a,o));return Ei(e,n,u,Vt(a,s)),null!==u.attrs&&Wi(u,u.attrs,!1),null!==u.mergedAttrs&&Wi(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,n,r):o.data[s];Wt(c,!0);const l=c.mergedAttrs;null!==l&&we(a,u,l);const h=c.classes;null!==h&&qr(a,u,h);const f=c.styles;null!==f&&Fr(a,u,f),64!=(64&c.flags)&&Pr(o,i,u,c),0===Ft.lFrame.elementDepthCount&&pr(u,i),Ft.lFrame.elementDepthCount++,vt(c)&&(vi(o,i,c),function(t,e,n){if(pt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&yi(i,c)}function jo(){let t=Gt();Kt()?Ft.lFrame.isParent=!1:(t=t.parent,Wt(t,!1));const e=t;Ft.lFrame.elementDepthCount--;const n=zt();n.firstCreatePass&&(de(n,t),pt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&xo(n,e,Ht(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&xo(n,e,Ht(),e.stylesWithoutHost,!1)}function ko(t,e,n,r){Ao(t,e,n,r),jo()}function No(){return Ht()}function Po(t){return!!t&&"function"==typeof t.then}function Ro(t){return!!t&&"function"==typeof t.subscribe}const Do=Ro;function Mo(t,e,n=!1,r){const i=Ht(),o=zt(),s=Gt();return function(t,e,n,r,i,o,s=!1,a){const u=vt(r),c=t.firstCreatePass&&Bi(t),l=zi(e);let h=!0;if(3&r.type){const f=kt(r,e),d=a?a(f):z,p=d.target||f,g=l.length,v=a?t=>a(At(t[r.index])).target:r.index;if(Tt(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Lo(r,e,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,v,g,g+1)}}else o=Lo(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,v,g,s)}else o=Lo(r,e,o,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),Mo}function Vo(t,e,n){try{return!1!==e(n)}catch(r){return Gi(t,r),!1}}function Lo(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?Pt(t.index,e):e;0==(32&e[2])&&Li(s);let a=Vo(e,n,o),u=i.__ngNextListenerFn__;for(;u;)a=Vo(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Uo(t=1){return function(t){return(Ft.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Ft.lFrame.contextLView))[8]}(t)}const Fo=[];function qo(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?ri(o):oi(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];Ho(t[a],e)&&(u=!0,t[a+1]=r?ai(n):ii(n)),a=r?ri(n):oi(n)}u&&(t[n+1]=r?ii(o):ai(o))}function Ho(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&cn(t,e)>=0}function zo(t,e){return function(t,e,n,r){const i=Ht(),o=zt(),s=function(t){const e=Ft.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();o.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[le()],s=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(o)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Ft.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=e.residualClasses;if(null===i)0===e.classBindings&&(n=Go(n=Bo(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Bo(i,t,e,n,r),null===o){let n=function(t,e,n){const r=e.classBindings;if(0!==oi(r))return t[ri(r)]}(t,e);void 0!==n&&Array.isArray(n)&&(n=Bo(null,t,e,n[1],r),n=Go(n,e.attrs,r),function(t,e,n,r){t[ri(e.classBindings)]=r}(t,e,0,n))}else o=function(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Go(r,t[o].hostAttrs,true);return Go(r,e.attrs,true)}(t,e)}return void 0!==o&&(e.residualClasses=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=e.classBindings,a=ri(s),u=oi(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||cn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=ri(t[a+1]);t[r+1]=ni(e,a),0!==e&&(t[e+1]=si(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=ni(a,0),0!==a&&(t[a+1]=si(t[a+1],r)),a=r;else t[r+1]=ni(u,0),0===a?a=r:t[u+1]=si(t[u+1],r),u=r;l&&(t[r+1]=ii(t[r+1])),qo(t,c,r,!0),qo(t,c,r,!1),function(t,e,n,r,i){const o=t.residualClasses;null!=o&&"string"==typeof e&&cn(o,e)>=0&&(n[r+1]=ai(n[r+1]))}(e,c,t,r),s=ni(a,u),e.classBindings=s}(i,o,e,n,s)}}(o,t,s,true),e!==Jr&&Oo(i,s,e)&&function(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];Wo(1==(1&c)?$o(u,e,n,i,oi(c),s):void 0)||(Wo(o)||function(t){return 2==(2&t)}(c)&&(o=$o(u,null,n,i,a,s)),function(t,e,n,r,i){const o=Tt(t);i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r)}(r,0,jt(le(),n),i,o))}(o,o.data[le()],i,i[11],t,i[s+1]=function(t,e){return null==t||"object"==typeof t&&(t=f(kn(t))),t}(e),true,s)}(t,e),zo}function Bo(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=Go(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Go(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),an(t,s,!!n||e[++o]))}return void 0===t?null:t}function $o(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===Jr&&(l=c?Fo:void 0);let h=c?un(l,r):u===r?l:void 0;if(o&&!Wo(h)&&(h=un(e,r)),Wo(h)&&(a=h,s))return a;const f=t[i+1];i=s?ri(f):oi(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=un(t,r))}return a}function Wo(t){return void 0!==t}function Ko(t,e=""){const n=Ht(),r=zt(),i=t+lt,o=r.firstCreatePass?li(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return Tt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Pr(r,n,s,o),Wt(o,!1)}function Qo(t){return Xo("",t,""),Qo}function Xo(t,e,n){const r=Ht(),i=function(t,e,n,r){return Oo(t,Yt(),n)?e+b(n)+r:Jr}(r,t,e,n);return i!==Jr&&function(t,e,n){const r=jt(e,t);!function(t,e,n){Tt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,le(),i),Xo}function Yo(t,e,n){const r=Ht();return Oo(r,Yt(),e)&&Oi(zt(),fe(),r,t,e,r[11],n,!0),Yo}const Zo=void 0;var Jo=["en",[["a","p"],["AM","PM"],Zo],[["AM","PM"],Zo,Zo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Zo,"{1} 'at' {0}",Zo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let ts={};function es(t,e,n){"string"!=typeof e&&(n=e,e=t[ss.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),ts[e]=t,n&&(ts[e][ss.ExtraData]=n)}function ns(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=os(e);if(n)return n;const r=e.split("-")[0];if(n=os(r),n)return n;if("en"===r)return Jo;throw new Error(`Missing locale data for the locale "${t}".`)}function rs(t){return ns(t)[ss.CurrencyCode]||null}function is(t){return ns(t)[ss.PluralCase]}function os(t){return t in ts||(ts[t]=H.ng&&H.ng.common&&H.ng.common.locales&&H.ng.common.locales[t]),ts[t]}var ss=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const as="en-US";let us=as;function cs(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(us=t.toLowerCase().replace(/_/g,"-"))}function ls(t,e,n,r,i){if(t=v(t),Array.isArray(t))for(let o=0;o<t.length;o++)ls(t[o],e,n,r,i);else{const o=zt(),s=Ht();let a=uo(t)?t:v(t.provide),u=oo(t);const c=Gt(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(uo(t)||!t.multi){const r=new _e(u,i,So),d=ds(a,e,i?l:l+f,h);-1===d?(Me(Ne(c,s),o,a),hs(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=ds(a,e,l+f,h),p=ds(a,e,l,l+f),g=d>=0&&n[d],v=p>=0&&n[p];if(i&&!v||!i&&!g){Me(Ne(c,s),o,a);const l=function(t,e,n,r,i){const o=new _e(t,n,So);return o.multi=[],o.index=e,o.componentProviders=0,fs(o,i,r&&!n),o}(i?gs:ps,n.length,i,r,u);!i&&v&&(n[p].providerFactory=l),hs(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else hs(o,t,d>-1?d:p,fs(n[i?p:d],u,!i&&r));!i&&r&&v&&n[p].componentProviders++}}}function hs(t,e,n,r){const i=uo(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function fs(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ds(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function ps(t,e,n,r){return vs(this.multi,[])}function gs(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Be(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),vs(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],vs(i,o);return o}function vs(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function ys(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=zt();if(r.firstCreatePass){const i=yt(t);ls(n,r.data,r.blueprint,i,!0),ls(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class ms{}class bs{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${f(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let _s=(()=>{class t{}return t.NULL=new bs,t})();function ws(...t){}function Os(t,e){return new Cs(kt(t,e))}const Es=function(){return Os(Gt(),Ht())};let Cs=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Es,t})();function Is(t){return t instanceof Cs?t.nativeElement:t}class Ss{}let Ts=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>xs(),t})();const xs=function(){const t=Ht(),e=Pt(Gt().index,t);return function(t){return t[11]}(ft(e)?e:t)};let As=(()=>{class t{}return t.\u0275prov=O({token:t,providedIn:"root",factory:()=>null}),t})();class js{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const ks=new js("11.2.3");class Ns{constructor(){}supports(t){return _o(t)}create(t){return new Rs(t)}}const Ps=(t,e)=>e;class Rs{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ps}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Ls(n,r,i)?e:n,s=Ls(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!_o(t))throw new Error(`Error trying to diff '${f(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[bo()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new Ds(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Vs),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Vs),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Ds{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ms{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Vs{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Ms,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ls(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Us{constructor(){}supports(t){return t instanceof Map||wo(t)}create(){return new Fs}}class Fs{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||wo(t)))throw new Error(`Error trying to diff '${f(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new qs(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class qs{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Hs(){return new zs([new Ns])}let zs=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Hs()),deps:[[t,new On,new wn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=O({token:t,providedIn:"root",factory:Hs}),t})();function Bs(){return new Gs([new Us])}let Gs=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Bs()),deps:[[t,new On,new wn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=O({token:t,providedIn:"root",factory:Bs}),t})();function $s(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(At(o)),dt(o))for(let t=ht;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&$s(e[1],e,n,r)}const s=n.type;if(8&s)$s(t,e,n.child,r);else if(32&s){const t=mr(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=Dr(e,n);if(Array.isArray(t))r.push(...t);else{const n=br(e[16]);$s(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class Ws{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return $s(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(dt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Sr(t,n),sn(e,n))}this._attachedToViewContainer=!1}Tr(this._lView[1],this._lView)}onDestroy(t){_i(this._lView[1],this._lView,null,t)}markForCheck(){Li(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ui(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Xt(!0);try{Ui(t,e,n)}finally{Xt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Lr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Ks extends Ws{constructor(t){super(t),this._view=t}detectChanges(){Fi(this._view)}checkNoChanges(){!function(t){Xt(!0);try{Fi(t)}finally{Xt(!1)}}(this._view)}get context(){return null}}const Qs=Ys;let Xs=(()=>{class t{}return t.__NG_ELEMENT_ID__=Qs,t.__ChangeDetectorRef__=!0,t})();function Ys(t=!1){return function(t,e,n){if(!n&&gt(t)){const n=Pt(t.index,e);return new Ws(n,n)}return 47&t.type?new Ws(e[16],e):null}(Gt(),Ht(),t)}const Zs=[new Us],Js=new zs([new Ns]),ta=new Gs(Zs),ea=function(){return oa(Gt(),Ht())};let na=(()=>{class t{}return t.__NG_ELEMENT_ID__=ea,t})();const ra=na,ia=class extends ra{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=ci(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),fi(e,n,t),new Ws(n)}};function oa(t,e){return 4&t.type?new ia(e,t,Os(t,e)):null}class sa{}class aa{}const ua=function(){return pa(Gt(),Ht())};let ca=(()=>{class t{}return t.__NG_ELEMENT_ID__=ua,t})();const la=ca,ha=class extends la{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Os(this._hostTNode,this._hostLView)}get injector(){return new We(this._hostTNode,this._hostLView)}get parentInjector(){const t=De(this._hostTNode,this._hostLView);if(Se(t)){const e=xe(t,this._hostLView),n=Te(t);return new We(e[1].data[n+8],e)}return new We(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=fa(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ht}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(sa,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(dt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new ha(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=ht+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-ht?(e[4]=n[i],on(n,ht+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=Mr(i,o),a=n[11],u=Nr(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Lr(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(),on(da(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=fa(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Sr(this._lContainer,e);n&&(sn(da(this._lContainer),e),Tr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Sr(this._lContainer,e);return n&&null!=sn(da(this._lContainer),e)?new Ws(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function fa(t){return t[8]}function da(t){return t[8]||(t[8]=[])}function pa(t,e){let n;const r=e[t.index];if(dt(r))n=r;else{let i;if(8&t.type)i=At(r);else{const n=e[11];i=n.createComment("");const r=kt(t,e);Ar(n,Nr(n,r),i,function(t,e){return Tt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Pi(r,e,i,t),Vi(e,n)}return new ha(n,t,e)}const ga={};class va extends _s{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ut(t);return new ba(e,this.ngModule)}}function ya(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const ma=new Je("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>gr});class ba extends ms{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Zr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return ya(this.componentDef.inputs)}get outputs(){return ya(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,ga,i);return o!==ga||r===ga?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(Ss,xt),s=i.get(As,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Tt(t))return t.selectRootElement(e,n===V.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Cr(o.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:gr,clean:Hi,playerHandler:null,flags:0},f=bi(0,null,null,1,0,null,null,null,null,null),d=ci(null,f,h,l,null,null,o,a,s,i);let p,g;ie(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=li(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(Wi(a,u,!0),null!==t&&(we(i,t,u),null!==a.classes&&qr(i,t,a.classes),null!==a.styles&&Fr(i,t,a.styles)));const c=r.createRenderer(t,e),l=ci(n,mi(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(Me(Ne(a,n),s,e.type),Si(s,a),xi(a,n.length,1)),Vi(n,l),n[20]=l}(c,this.componentDef,d,o,a);if(c)if(n)we(a,c,["ng-version",ks.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Kr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&we(a,c,t),e&&e.length>0&&qr(a,c,e.join(" "))}if(g=Nt(f,lt),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Gt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Ai(t,r,e,hi(t,e,1,null),n));const i=Be(e,t,r.directiveStart,r);pr(i,e);const o=kt(r,e);return o&&pr(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=Gt();e.contentQueries(1,s,t.directiveStart)}const a=Gt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(he(a.index),Ci(n[1],a,0,a.directiveStart,a.directiveEnd,e),Ii(e,s)),s}(t,this.componentDef,d,h,[ho]),fi(f,d,null)}finally{ce()}return new _a(this.componentType,p,Os(g,d),d,g)}}class _a extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Ks(r),this.componentType=t}get injector(){return new We(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const wa=new Map;class Oa extends sa{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new va(this);const n=ct(t),r=t[Q]||null;r&&cs(r),this._bootstrapComponents=vr(n.bootstrap),this._r3Injector=no(t,e,[{provide:sa,useValue:this},{provide:_s,useValue:this.componentFactoryResolver}],f(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=lo.THROW_IF_NOT_FOUND,n=k.Default){return t===lo||t===sa||t===Ki?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Ea extends aa{constructor(t){super(),this.moduleType=t,null!==ct(t)&&function(t){const e=new Set;!function t(n){const r=ct(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${f(e)} vs ${f(e.name)}`)}(i,wa.get(i),n),wa.set(i,n));const o=vr(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new Oa(this.moduleType,t)}}function Ca(t,e,n,r){return function(t,e,n,r,i,o){const s=e+n;return Oo(t,s,i)?function(t,e,n){return t[e]=n}(t,s+1,o?r.call(o,i):r(i)):function(t,e){const n=t[e];return n===Jr?void 0:n}(t,s+1)}(Ht(),function(){const t=Ft.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),t,e,n,r)}const Ia=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,o,s);return t instanceof i.a&&t.add(a),a}};function Sa(){return this._results[bo()]()}class Ta{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=bo(),n=Ta.prototype;n[e]||(n[e]=Sa)}get changes(){return this._changes||(this._changes=new Ia)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=nn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class xa{constructor(t){this.queryList=t,this.matches=null}clone(){return new xa(this.queryList)}setDirty(){this.queryList.setDirty()}}class Aa{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Aa(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Fa(t,e).matches&&this.queries[e].setDirty()}}class ja{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class ka{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new ka(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Na{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Na(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Pa(e,i)),this.matchTNodeWithReadOption(t,e,ze(e,t,i,!1,!1))}else n===na?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,ze(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Cs||r===ca||r===na&&4&e.type)this.addMatch(e.index,-2);else{const n=ze(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Pa(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Ra(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Os(t,e):4&t.type?oa(t,e):null}(e,t):-2===n?function(t,e,n){return n===Cs?Os(e,t):n===na?oa(e,t):n===ca?pa(e,t):void 0}(t,e,r):Be(t,t[1],n,e)}function Da(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Ra(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Ma(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=Da(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=ht;t<s.length;t++){const e=s[t];e[17]===e[3]&&Ma(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];Ma(n[1],n,i,r)}}}}}return r}function Va(t){const e=Ht(),n=zt(),r=te();ee(r+1);const i=Fa(n,r);if(t.dirty&&Dt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?Ma(n,e,r,[]):Da(n,e,i,r);t.reset(o,Is),t.notifyOnChanges()}return!0}return!1}function La(t,e,n,r){const i=zt();if(i.firstCreatePass){const o=Gt();(function(t,e,n){null===t.queries&&(t.queries=new ka),t.queries.track(new Na(e,n))})(i,new ja(e,n,r),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}!function(t,e,n){const r=new Ta(4==(4&n));_i(t,e,r,r.destroy),null===e[19]&&(e[19]=new Aa),e[19].queries.push(new xa(r))}(i,Ht(),n)}function Ua(){return t=Ht(),e=te(),t[19].queries[e].queryList;var t,e}function Fa(t,e){return t.queries.getByIndex(e)}function qa(t=k.Default){const e=Ys(!0);if(null!=e||t&k.Optional)return e;w("ChangeDetectorRef")}const Ha=new Je("Application Initializer");let za=(()=>{class t{constructor(t){this.appInits=t,this.resolve=ws,this.reject=ws,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Po(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(yn(Ha,8))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();const Ba=new Je("AppId"),Ga={provide:Ba,useFactory:function(){return`${$a()}${$a()}${$a()}`},deps:[]};function $a(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Wa=new Je("Platform Initializer"),Ka=new Je("Platform ID"),Qa=new Je("appBootstrapListener");let Xa=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();const Ya=new Je("LocaleId"),Za=new Je("DefaultCurrencyCode");class Ja{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const tu=function(t){return new Ea(t)},eu=tu,nu=function(t){return Promise.resolve(tu(t))},ru=function(t){const e=tu(t),n=vr(ct(t).declarations).reduce((t,e)=>{const n=ut(e);return n&&t.push(new ba(n)),t},[]);return new Ja(e,n)},iu=ru,ou=function(t){return Promise.resolve(ru(t))};let su=(()=>{class t{constructor(){this.compileModuleSync=eu,this.compileModuleAsync=nu,this.compileModuleAndAllComponentsSync=iu,this.compileModuleAndAllComponentsAsync=ou}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();const au=(()=>Promise.resolve(0))();function uu(t){"undefined"==typeof Zone?au.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class cu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ia(!1),this.onMicrotaskEmpty=new Ia(!1),this.onStable=new Ia(!1),this.onError=new Ia(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=H.requestAnimationFrame,e=H.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(H,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,fu(t),hu(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),fu(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return du(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),pu(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return du(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),pu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,fu(t),hu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!cu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(cu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,lu,ws,ws);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const lu={};function hu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function fu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function du(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function pu(t){t._nesting--,hu(t)}class gu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ia,this.onMicrotaskEmpty=new Ia,this.onStable=new Ia,this.onError=new Ia}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let vu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{cu.assertNotInAngularZone(),uu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())uu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(yn(cu))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})(),yu=(()=>{class t{constructor(){this._applications=new Map,wu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return wu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();class mu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function bu(t){wu=t}let _u,wu=new mu,Ou=!0,Eu=!1;function Cu(){return Eu=!0,Ou}function Iu(){if(Eu)throw new Error("Cannot enable prod mode after platform setup.");Ou=!1}const Su=new Je("AllowMultipleToken");class Tu{constructor(t,e){this.name=t,this.token=e}}function xu(t,e,n=[]){const r=`Platform: ${e}`,i=new Je(r);return(e=[])=>{let o=Au();if(!o||o.injector.get(Su,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Xi,useValue:"platform"});!function(t){if(_u&&!_u.destroyed&&!_u.injector.get(Su,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");_u=t.get(ju);const e=t.get(Wa,null);e&&e.forEach(t=>t())}(lo.create({providers:t,name:r}))}return function(t){const e=Au();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Au(){return _u&&!_u.destroyed?_u:null}let ju=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new gu:("zone.js"===t?void 0:t)||new cu({enableLongStackTrace:Cu(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:cu,useValue:n}];return n.run(()=>{const e=lo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(dr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{Pu(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return Po(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(za);return t.runInitializers(),t.donePromise.then(()=>(cs(i.injector.get(Ya,as)||as),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=ku({},e);return function(t,e,n){const r=new Ea(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Nu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${f(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(yn(lo))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();function ku(t,e){return Array.isArray(e)?e.reduce(ku,t):Object.assign(Object.assign({},t),e)}let Nu=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),h=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{cu.assertNotInAngularZone(),uu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{cu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(l,h.pipe(t=>{return Object(u.a)()((e=c,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,a.b);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof ms?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(sa),i=n.create(lo.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(vu,null),a=s&&i.injector.get(yu);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),Pu(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Pu(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Qa,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(yn(cu),yn(lo),yn(dr),yn(_s),yn(za))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();function Pu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Ru{}class Du{}const Mu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Vu=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Mu}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Lu(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Lu(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(yn(su),yn(Du,8))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();function Lu(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Uu=function(t){return null},Fu=xu(null,"core",[{provide:Ka,useValue:"unknown"},{provide:ju,deps:[lo]},{provide:yu,deps:[]},{provide:Xa,deps:[]}]),qu=[{provide:Nu,useClass:Nu,deps:[cu,lo,dr,_s,za]},{provide:ma,deps:[cu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:za,useClass:za,deps:[[new wn,Ha]]},{provide:su,useClass:su,deps:[]},Ga,{provide:zs,useFactory:function(){return Js},deps:[]},{provide:Gs,useFactory:function(){return ta},deps:[]},{provide:Ya,useFactory:function(t){return cs(t=t||"undefined"!=typeof $localize&&$localize.locale||as),t},deps:[[new _n(Ya),new wn,new On]]},{provide:Za,useValue:"USD"}];let Hu=(()=>{class t{constructor(t){}}return t.\u0275mod=rt({type:t}),t.\u0275inj=E({factory:function(e){return new(e||t)(yn(Nu))},providers:qu}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},l7GE:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");class i extends r.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),o=n("LRne"),s=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return t=this.error,new s.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",function(){return s}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return y}),n.d(e,"c",function(){return _}),n.d(e,"d",function(){return w}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return o}),n.d(e,"g",function(){return a}),n.d(e,"h",function(){return l}),n.d(e,"i",function(){return h}),n.d(e,"j",function(){return d}),n.d(e,"k",function(){return p}),n.d(e,"l",function(){return u}),n.d(e,"m",function(){return c}),n.d(e,"n",function(){return f}),n.d(e,"o",function(){return g});var r=n("30Go");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return a().indexOf("MSAppHost/")>=0}var v=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,y.prototype.create),o}return Object(r.c)(e,t),e}(Error),y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?m(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new v(i,a,r);return u},t}();function m(t,e){return t.replace(b,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var b=/\{\$([^}]+)}/g;function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new O(t,e);return n.subscribe.bind(n)}var O=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function E(){}},qgXg:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i)},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:a,_subscriptions:c}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(a))try{a.call(this)}catch(l){e=l instanceof s?u(l.errors):[l]}if(Object(r.a)(c)){let t=-1,n=c.length;for(;++t<n;){const n=c[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(l){e=e||[],l instanceof s?e=e.concat(u(l.errors)):e.push(l)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return S}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return m}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return C}),n.d(e,"g",function(){return w}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return v}),n.d(e,"j",function(){return O});var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.a){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],v=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},m=new u.r("angularfire2.app.options"),b=new u.r("angularfire2.app.nameOrConfig"),_=new u.P("6.1.4");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&E("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const O=()=>{E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=(t,...e)=>{Object(u.V)()&&"undefined"!=typeof console&&console[t](...e)};function C(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&E("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const I={provide:class{},useFactory:w,deps:[m,u.A,[new u.B,b]]};let S=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",_.full,t.toString()),c.a.registerVersion("angular",u.O.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:m,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275mod=u.Ib({type:t}),t.\u0275inj=u.Hb({factory:function(e){return new(e||t)(u.Rb(u.C))},providers:[I]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return v});var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=d){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function v(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(){return function(t){return t.lift(new o(t))}}class o{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new s(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class s extends r.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,o=n("30Go"),s=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.e)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var v=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),u=e.match(/\s|\//);if(s||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.2.9",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(s.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&Object(s.f)(u,o.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.f)(e,t)},createSubscribe:s.d,ErrorFactory:s.b,deepExtend:s.f}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(s.h)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=v.initializeApp;v.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.m)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var _=v;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.15",void 0),t.registerVersion("fire-js","")}(_),e.a=_},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");let i=null;function o(){return i}const s=new r.r("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return Object(r.Rb)(l)}const c=new r.r("Location Initialized");let l=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(s))},t.\u0275prov=Object(r.Gb)({factory:f,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function f(){return new l(Object(r.Rb)(s))}function d(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}let v=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=Object(r.Rb)(s).location;return new b(Object(r.Rb)(a),e&&e.origin||"")}const m=new r.r("appBaseHref");let b=(()=>{class t extends v{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return d(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(a),r.Rb(m,8))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends v{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=d(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(a),r.Rb(m,8))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(E(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+g(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,E(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(v),r.Rb(a))},t.normalizeQueryParams=g,t.joinWithSlash=d,t.stripTrailingSlash=p,t.\u0275prov=Object(r.Gb)({factory:O,token:t,providedIn:"root"}),t})();function O(){return new w(Object(r.Rb)(v),Object(r.Rb)(a))}function E(t){return t.replace(/\/index.html$/,"")}var C=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const I=r.mb;class S{}let T=(()=>{class t extends S{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(I(e||this.locale)(t)){case C.Zero:return"zero";case C.One:return"one";case C.Two:return"two";case C.Few:return"few";case C.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.v))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),x=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.pb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Object(r.vb)(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.t),r.Kb(r.u),r.Kb(r.l),r.Kb(r.E))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class A{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let j=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new A(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new k(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new k(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.Q),r.Kb(r.L),r.Kb(r.t))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class k{constructor(t,e){this.record=t,this.view=e}}let N=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new P,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){R("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){R("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.Q),r.Kb(r.L))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class P{constructor(){this.$implicit=null,this.ngIf=null}}function R(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.vb)(e)}'.`)}let D=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[{provide:S,useClass:T}]}),t})();function M(t){return"server"===t}let V=(()=>{class t{}return t.\u0275prov=Object(r.Gb)({token:t,providedIn:"root",factory:()=>new L(Object(r.Rb)(s),window)}),t})();class L{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){var e;if(!this.supportsScrolling())return;const n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=U(this.window.history)||U(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function U(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class F extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new F,i||(i=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=H||(H=document.querySelector("base"),H)?H.getAttribute("href"):null;return null==e?null:(n=e,q||(q=document.createElement("a")),q.setAttribute("href",n),"/"===q.pathname.charAt(0)?q.pathname:"/"+q.pathname);var n}resetBaseElement(){H=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let q,H=null;const z=new r.r("TRANSITION_ID"),B=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[z,s,r.s],multi:!0}];class G{static init(){Object(r.X)(new G)}addToWindow(t){r.ob.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.ob.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.ob.getAllAngularRootElements=()=>t.getAllRootElements(),r.ob.frameworkStabilizers||(r.ob.frameworkStabilizers=[]),r.ob.frameworkStabilizers.push(t=>{const e=r.ob.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const $=new r.r("EventManagerPlugins");let W=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb($),r.Rb(r.A))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class K{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=o().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Q=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),X=(()=>{class t extends Q{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>o().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(s))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const Y={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Z=/%COMP%/g;function J(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?J(t,i,n):(i=i.replace(Z,t),n.push(i))}return n}function tt(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let et=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new nt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.R.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new rt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.R.ShadowDom:return new it(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=J(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(W),r.Rb(X),r.Rb(r.c))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class nt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Y[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=Y[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=Y[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.G.DashCase|r.G.Important)?t.style.setProperty(e,n,i&r.G.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.G.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,tt(n)):this.eventManager.addEventListener(t,e,tt(n))}}class rt extends nt{constructor(t,e,n,r){super(t),this.component=n;const i=J(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Z,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(Z,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class it extends nt{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=J(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ot=(()=>{class t extends K{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(s))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const st=["alt","control","meta","shift"],at={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ut={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ct={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let lt=(()=>{class t extends K{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(st.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&ut.hasOwnProperty(e)&&(e=ut[e]))}return at[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),st.forEach(r=>{r!=n&&(0,ct[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(s))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const ht=[{provide:r.C,useValue:"browser"},{provide:r.D,useValue:function(){F.makeCurrent(),G.init()},multi:!0},{provide:s,useFactory:function(){return Object(r.ub)(document),document},deps:[]}],ft=Object(r.S)(r.W,"browser",ht),dt=[[],{provide:r.Z,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:$,useClass:ot,multi:!0,deps:[s,r.A,r.C]},{provide:$,useClass:lt,multi:!0,deps:[s]},[],{provide:et,useClass:et,deps:[W,X,r.c]},{provide:r.F,useExisting:et},{provide:Q,useExisting:X},{provide:X,useClass:X,deps:[s]},{provide:r.M,useClass:r.M,deps:[r.A]},{provide:W,useClass:W,deps:[$,r.A]},[]];let pt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:z,useExisting:r.c},B]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)(r.Rb(t,12))},providers:dt,imports:[D,r.f]}),t})();"undefined"!=typeof window&&window;const gt={apiKey:"AIzaSyDx1R3Mx0fzX52SM9Tp-PhmZAflUeWvPbs",authDomain:"taskapp-8deda.firebaseapp.com",projectId:"taskapp-8deda",storageBucket:"taskapp-8deda.appspot.com",messagingSenderId:"342862123453",appId:"1:342862123453:web:55ce41104dd39aaf1bc2d4"};var vt=n("XNiG"),yt=n("LRne"),mt=n("HDdC"),bt=n("Cfvw"),_t=n("VRyK"),wt=n("pxpQ"),Ot=n("l7GE"),Et=n("51Dv"),Ct=n("ZUHj"),It=n("lJxs");function St(t,e){return"function"==typeof e?n=>n.pipe(St((n,r)=>Object(bt.a)(t(n,r)).pipe(Object(It.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Tt(t))}class Tt{constructor(t){this.project=t}call(t,e){return e.subscribe(new xt(t,this.project))}}class xt extends Ot.a{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new Et.a(this,e,n),o=this.destination;o.add(i),this.innerSubscription=Object(Ct.a)(this,t,void 0,void 0,i),this.innerSubscription!==i&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}var At=n("qgXg"),jt=n("quSY"),kt=n("9ppp"),Nt=n("Ylt2");class Pt extends vt.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift(),super.next(t)}nextTimeWindow(t){this._events.push(new Rt(this._getNow(),t)),this._trimBufferThenGetEvents(),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new kt.a;if(this.isStopped||this.hasError?o=jt.a.EMPTY:(this.observers.push(t),o=new Nt.a(this,t)),r&&t.add(t=new wt.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||At.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class Rt{constructor(t,e){this.time=t,this.value=e}}function Dt(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){s++,i&&!a||(a=!1,i=new Pt(t,e,r),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}}));const l=i.subscribe(this);this.add(()=>{s--,l.unsubscribe(),o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}const Mt=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Vt=n("7o/Q");function Lt(t,e){return function(n){return n.lift(new Ut(t,e))}}class Ut{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Ft(t,this.predicate,this.thisArg))}}class Ft extends Vt.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const qt=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();var Ht=n("EY2u");function zt(t){return e=>0===t?Object(Ht.b)():e.lift(new Bt(t))}class Bt{constructor(t){if(this.total=t,this.total<0)throw new qt}call(t,e){return e.subscribe(new Gt(t,this.total))}}class Gt extends Vt.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function $t(t=null){return e=>e.lift(new Wt(t))}class Wt{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Kt(t,this.defaultValue))}}class Kt extends Vt.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Qt(t=Zt){return e=>e.lift(new Xt(t))}class Xt{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Yt(t,this.errorFactory))}}class Yt extends Vt.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(rb){t=rb}this.destination.error(t)}}}function Zt(){return new Mt}var Jt=n("SpAZ");function te(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Lt((e,n)=>t(e,n,r)):Jt.a,zt(1),n?$t(e):Qt(()=>new Mt))}function ee(t,e){return e?St(()=>t,e):St(()=>t)}var ne=n("tf+s"),re=n("spgP");const ie=new r.r("angularfire2.auth.use-emulator"),oe=new r.r("angularfire2.auth.settings"),se=new r.r("angularfire2.auth.tenant-id"),ae=new r.r("angularfire2.auth.langugage-code"),ue=new r.r("angularfire2.auth.use-device-language"),ce=new r.r("angularfire.auth.persistence");let le=(()=>{class t{constructor(t,e,r,i,o,s,a,u,c,l){const h=new re.d(i),f=Object(re.h)(h),d=new vt.a,p=Object(yt.a)(void 0).pipe(Object(wt.b)(h.outsideAngular),St(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(It.a)(()=>Object(re.g)(t,i,e)),Object(It.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(re.f)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator(`http://${e.join(":")}`),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),Dt({bufferSize:1,refCount:!1}));if(M(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(yt.a)(null);else{p.pipe(te()).subscribe();const t=p.pipe(St(t=>t.getRedirectResult().then(t=>t,()=>null)),f,Dt({bufferSize:1,refCount:!1})),e=t=>new mt.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(St(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(St(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(ee(n),Object(ne.a)(h.outsideAngular),Object(wt.b)(h.insideAngular)),this.user=t.pipe(ee(r),Object(ne.a)(h.outsideAngular),Object(wt.b)(h.insideAngular)),this.idToken=this.user.pipe(St(t=>t?Object(bt.a)(t.getIdToken()):Object(yt.a)(null))),this.idTokenResult=this.user.pipe(St(t=>t?Object(bt.a)(t.getIdTokenResult()):Object(yt.a)(null))),this.credential=Object(_t.a)(t,d,this.authState.pipe(Lt(t=>!t))).pipe(Object(It.a)(t=>(null==t?void 0:t.user)?t:null),Object(ne.a)(h.outsideAngular),Object(wt.b)(h.insideAngular))}return Object(re.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(re.c),r.Rb(re.b,8),r.Rb(r.C),r.Rb(r.A),r.Rb(ie,8),r.Rb(oe,8),r.Rb(se,8),r.Rb(ae,8),r.Rb(ue,8),r.Rb(ce,8))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Rb)(re.c),Object(r.Rb)(re.b,8),Object(r.Rb)(r.C),Object(r.Rb)(r.A),Object(r.Rb)(ie,8),Object(r.Rb)(oe,8),Object(r.Rb)(se,8),Object(r.Rb)(ae,8),Object(r.Rb)(ue,8),Object(r.Rb)(ce,8))},token:t,providedIn:"any"}),t})();Object(re.e)(le,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);let he=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[le]}),t})();class fe extends vt.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new kt.a;return this._value}next(t){super.next(this._value=t)}}var de=n("z+Ro"),pe=n("DH7j"),ge=n("yCtX");const ve={};class ye{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new me(t,this.resultSelector))}}class me extends Ot.a{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(ve),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(Object(Ct.a)(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,r,i){const o=this.values,s=this.toRespond?o[n]===ve?--this.toRespond:this.toRespond:0;o[n]=e,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}var be=n("bHdf");function _e(...t){return Object(be.a)(1)(Object(yt.a)(...t))}function we(t){return new mt.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(bt.a)(n):Object(Ht.b)()).subscribe(e)})}var Oe=n("EQ5u");function Ee(...t){const e=t[t.length-1];return Object(de.a)(e)?(t.pop(),n=>_e(t,n,e)):e=>_e(t,e)}function Ce(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Ie(t,e,n))}}class Ie{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Se(t,this.accumulator,this.seed,this.hasSeed))}}class Se extends Vt.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Te(t){return function(e){const n=new xe(t),r=e.lift(n);return n.caught=r}}class xe{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Ae(t,this.selector,this.caught))}}class Ae extends Ot.a{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Et.a(this,void 0,void 0);this.add(r);const i=Object(Ct.a)(this,n,void 0,void 0,r);i!==r&&this.add(i)}}}var je=n("5+tZ");function ke(t,e){return Object(je.a)(t,e,1)}function Ne(t){return function(e){return 0===t?Object(Ht.b)():e.lift(new Pe(t))}}class Pe{constructor(t){if(this.total=t,this.total<0)throw new qt}call(t,e){return e.subscribe(new Re(t,this.total))}}class Re extends Vt.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}var De=n("vkgz"),Me=n("x+ZX");class Ve{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Le(t,this.callback))}}class Le extends Vt.a{constructor(t,e){super(t),this.add(new jt.a(e))}}class Ue{constructor(t,e){this.id=t,this.url=e}}class Fe extends Ue{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class qe extends Ue{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class He extends Ue{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ze extends Ue{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Be extends Ue{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ge extends Ue{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $e extends Ue{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class We extends Ue{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ke extends Ue{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qe{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Xe{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ye{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ze{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Je{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tn{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class en{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const nn="primary";class rn{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function on(t){return new rn(t)}function sn(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function an(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function un(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!cn(t[i],e[i]))return!1;return!0}function cn(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function ln(t){return Array.prototype.concat.apply([],t)}function hn(t){return t.length>0?t[t.length-1]:null}function fn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function dn(t){return Object(r.qb)(t)?t:Object(r.rb)(t)?Object(bt.a)(Promise.resolve(t)):Object(yt.a)(t)}function pn(t,e,n){return n?function(t,e){return un(t,e)}(t.queryParams,e.queryParams)&&gn(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>cn(t[n],e[n]))}(t.queryParams,e.queryParams)&&vn(t.root,e.root)}function gn(t,e){if(!wn(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!gn(t.children[n],e.children[n]))return!1}return!0}function vn(t,e){return yn(t,e,e.segments)}function yn(t,e,n){if(t.segments.length>n.length)return!!wn(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!wn(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!vn(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!wn(t.segments,r)&&!!t.children.primary&&yn(t.children.primary,e,i)}}class mn{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=on(this.queryParams)),this._queryParamMap}toString(){return Cn.serialize(this)}}class bn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,fn(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return In(this)}}class _n{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=on(this.parameters)),this._parameterMap}toString(){return Nn(this)}}function wn(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class On{}class En{parse(t){const e=new Vn(t);return new mn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${Sn(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${xn(e)}=${xn(t)}`).join("&"):`${xn(e)}=${xn(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const Cn=new En;function In(t){return t.segments.map(t=>Nn(t)).join("/")}function Sn(t,e){if(!t.hasChildren())return In(t);if(e){const e=t.children.primary?Sn(t.children.primary,!1):"",n=[];return fn(t.children,(t,e)=>{e!==nn&&n.push(`${e}:${Sn(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return fn(t.children,(t,r)=>{r===nn&&(n=n.concat(e(t,r)))}),fn(t.children,(t,r)=>{r!==nn&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===nn?[Sn(t.children.primary,!1)]:[`${n}:${Sn(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${In(t)}/${e[0]}`:`${In(t)}/(${e.join("//")})`}}function Tn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xn(t){return Tn(t).replace(/%3B/gi,";")}function An(t){return Tn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jn(t){return decodeURIComponent(t)}function kn(t){return jn(t.replace(/\+/g,"%20"))}function Nn(t){return`${An(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${An(t)}=${An(e[t])}`).join("")}`;var e}const Pn=/^[^\/()?;=#]+/;function Rn(t){const e=t.match(Pn);return e?e[0]:""}const Dn=/^[^=?&#]+/,Mn=/^[^?&#]+/;class Vn{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new bn([],{}):new bn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new bn(t,e)),n}parseSegment(){const t=Rn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new _n(jn(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Rn(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Rn(this.remaining);t&&(n=t,this.capture(n))}t[jn(e)]=jn(n)}parseQueryParam(t){const e=function(t){const e=t.match(Dn);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Mn);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=kn(e),i=kn(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Rn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=nn);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new bn([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Ln{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Un(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Un(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Fn(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Fn(t,this._root).map(t=>t.value)}}function Un(t,e){if(t===e.value)return e;for(const n of e.children){const e=Un(t,n);if(e)return e}return null}function Fn(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Fn(t,n);if(r.length)return r.unshift(e),r}return[]}class qn{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Hn(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class zn extends Ln{constructor(t,e){super(t),this.snapshot=e,Qn(this,t)}toString(){return this.snapshot.toString()}}function Bn(t,e){const n=function(t,e){const n=new Wn([],{},{},"",{},nn,e,null,t.root,-1,{});return new Kn("",new qn(n,[]))}(t,e),r=new fe([new _n("",{})]),i=new fe({}),o=new fe({}),s=new fe({}),a=new fe(""),u=new Gn(r,i,s,a,o,nn,e,n.root);return u.snapshot=n.root,new zn(new qn(u,[]),n)}class Gn{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(It.a)(t=>on(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(It.a)(t=>on(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function $n(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Wn{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=on(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=on(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Kn extends Ln{constructor(t,e){super(e),this.url=t,Qn(this,e)}toString(){return Xn(this._root)}}function Qn(t,e){e.value._routerState=t,e.children.forEach(e=>Qn(t,e))}function Xn(t){const e=t.children.length>0?` { ${t.children.map(Xn).join(", ")} } `:"";return`${t.value}${e}`}function Yn(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,un(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),un(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!un(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),un(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Zn(t,e){return un(t.params,e.params)&&function(t,e){return wn(t,e)&&t.every((t,n)=>un(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Zn(t.parent,e.parent))}function Jn(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return Jn(t,e,r);return Jn(t,e)})}(t,e,n);return new qn(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return tr(e,t),t}{const n=new Gn(new fe((r=e.value).url),new fe(r.params),new fe(r.queryParams),new fe(r.fragment),new fe(r.data),r.outlet,r.component,r),i=e.children.map(e=>Jn(t,e));return new qn(n,i)}}var r}function tr(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)tr(t.children[n],e.children[n])}function er(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function nr(t){return"object"==typeof t&&null!=t&&t.outlets}function rr(t,e,n,r,i){let o={};return r&&fn(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new mn(n.root===t?e:ir(n.root,t,e),o,i)}function ir(t,e,n){const r={};return fn(t.children,(t,i)=>{r[i]=t===e?n:ir(t,e,n)}),new bn(t.segments,r)}class or{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&er(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(nr);if(r&&r!==hn(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class sr{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function ar(t,e,n){if(t||(t=new bn([],{})),0===t.segments.length&&t.hasChildren())return ur(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(nr(s))break;const a=`${s}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!fr(a,u,e))return o;r+=2}else{if(!fr(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new bn(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new bn(t.segments.slice(r.pathIndex),t.children),ur(e,0,i)}return r.match&&0===i.length?new bn(t.segments,{}):r.match&&!t.hasChildren()?cr(t,e,n):r.match?ur(t,0,i):cr(t,e,n)}function ur(t,e,n){if(0===n.length)return new bn(t.segments,{});{const r=function(t){return nr(t[0])?t[0].outlets:{[nn]:t}}(n),i={};return fn(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=ar(t.children[r],e,n))}),fn(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new bn(t.segments,i)}}function cr(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(nr(o)){const t=lr(o.outlets);return new bn(r,t)}if(0===i&&er(n[0])){r.push(new _n(t.segments[e].path,hr(n[0]))),i++;continue}const s=nr(o)?o.outlets.primary:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&er(a)?(r.push(new _n(s,hr(a))),i+=2):(r.push(new _n(s,{})),i++)}return new bn(r,{})}function lr(t){const e={};return fn(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=cr(new bn([],{}),0,t))}),e}function hr(t){const e={};return fn(t,(t,n)=>e[n]=`${t}`),e}function fr(t,e,n){return t==n.path&&un(e,n.parameters)}class dr{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Yn(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Hn(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),fn(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=Hn(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}activateChildRoutes(t,e,n){const r=Hn(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new tn(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Ze(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Yn(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),pr(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function pr(t){Yn(t.value),t.children.forEach(pr)}class gr{constructor(t,e){this.routes=t,this.module=e}}function vr(t){return"function"==typeof t}function yr(t){return t instanceof mn}const mr=Symbol("INITIAL_VALUE");function br(){return St(t=>function(...t){let e=null,n=null;return Object(de.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(pe.a)(t[0])&&(t=t[0]),Object(ge.a)(t,n).lift(new ye(e))}(t.map(t=>t.pipe(zt(1),Ee(mr)))).pipe(Ce((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==mr)return t;if(r===mr&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||yr(r))return r}return t},t)},mr),Lt(t=>t!==mr),Object(It.a)(t=>yr(t)?t:!0===t),zt(1)))}let _r=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Lb(0,"router-outlet")},directives:function(){return[di]},encapsulation:2}),t})();function wr(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Or(r,Er(e,r))}}function Or(t,e){t.children&&wr(t.children,e)}function Er(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Cr(t){const e=t.children&&t.children.map(Cr),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==nn&&(n.component=_r),n}function Ir(t){return t.outlet||nn}function Sr(t,e){const n=t.filter(t=>Ir(t)===e);return n.push(...t.filter(t=>Ir(t)!==e)),n}const Tr={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function xr(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Tr):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||an)(n,t,e);if(!i)return Object.assign({},Tr);const o={};fn(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function Ar(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>jr(t,e,n)&&Ir(n)!==nn)}(t,n,r)){const i=new bn(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&Ir(o)!==nn){const n=new bn([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Ir(o)]=n}return i}(t,e,r,new bn(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>jr(t,e,n))}(t,n,r)){const o=new bn(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(jr(t,n,a)&&!i[Ir(a)]){const n=new bn([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Ir(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new bn(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function jr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function kr(t,e,n,r){return!!(Ir(t)===r||r!==nn&&jr(e,n,t))&&("**"===t.path||xr(e,t,n).matched)}function Nr(t,e,n){return 0===e.length&&!t.children[n]}class Pr{constructor(t){this.segmentGroup=t||null}}class Rr{constructor(t){this.urlTree=t}}function Dr(t){return new mt.a(e=>e.error(new Pr(t)))}function Mr(t){return new mt.a(e=>e.error(new Rr(t)))}function Vr(t){return new mt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Lr{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.y)}apply(){const t=Ar(this.urlTree.root,[],[],this.config).segmentGroup,e=new bn(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,nn).pipe(Object(It.a)(t=>this.createUrlTree(Ur(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Te(t=>{if(t instanceof Rr)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Pr)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,nn).pipe(Object(It.a)(e=>this.createUrlTree(Ur(e),t.queryParams,t.fragment))).pipe(Te(t=>{if(t instanceof Pr)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new bn([],{[nn]:t}):t;return new mn(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(It.a)(t=>new bn([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(bt.a)(r).pipe(ke(r=>{const i=n.children[r],o=Sr(e,r);return this.expandSegmentGroup(t,o,i,r).pipe(Object(It.a)(t=>({segment:t,outlet:r})))}),Ce((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Lt((e,n)=>t(e,n,r)):Jt.a,Ne(1),n?$t(e):Qt(()=>new Mt))}())}expandSegment(t,e,n,r,i,o){return Object(bt.a)(n).pipe(ke(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(Te(t=>{if(t instanceof Pr)return Object(yt.a)(null);throw t}))),te(t=>!!t),Te((t,n)=>{if(t instanceof Mt||"EmptyError"===t.name){if(Nr(e,r,i))return Object(yt.a)(new bn([],{}));throw new Pr(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return kr(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Dr(e):Dr(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Mr(i):this.lineralizeSegments(n,i).pipe(Object(je.a)(n=>{const i=new bn(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=xr(e,r,i);if(!s)return Dr(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Mr(l):this.lineralizeSegments(r,l).pipe(Object(je.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?Object(yt.a)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(Object(It.a)(t=>(n._loadedConfig=t,new bn(r,{})))):Object(yt.a)(new bn(r,{}));const{matched:o,consumedSegments:s,lastChild:a}=xr(e,n,r);if(!o)return Dr(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(je.a)(t=>{const r=t.module,o=t.routes,{segmentGroup:a,slicedSegments:c}=Ar(e,s,u,o),l=new bn(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,o,l).pipe(Object(It.a)(t=>new bn(s,t)));if(0===o.length&&0===c.length)return Object(yt.a)(new bn(s,{}));const h=Ir(n)===i;return this.expandSegment(r,l,o,c,h?nn:i,!0).pipe(Object(It.a)(t=>new bn(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(yt.a)(new gr(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(yt.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(je.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(It.a)(t=>(e._loadedConfig=t,t))):function(t){return new mt.a(e=>e.error(sn(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(yt.a)(new gr([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(yt.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&vr(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!vr(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return dn(o)});return Object(yt.a)(i).pipe(br(),Object(De.a)(t=>{if(!yr(t))return;const e=sn(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(It.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(yt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Vr(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new mn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return fn(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return fn(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new bn(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Ur(t){const e={};for(const n of Object.keys(t.children)){const r=Ur(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new bn(t.segments.concat(e.segments),e.children)}return t}(new bn(t.segments,e))}class Fr{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class qr{constructor(t,e){this.component=t,this.route=e}}function Hr(t,e,n){const r=t._root;return Br(r,e?e._root:null,n,[r.value])}function zr(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Br(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Hn(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!wn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!wn(t.url,e.url)||!un(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Zn(t,e)||!un(t.queryParams,e.queryParams);case"paramsChange":default:return!Zn(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Fr(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Br(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new qr(a.outlet.component,s))}else s&&Gr(e,a,i),i.canActivateChecks.push(new Fr(r)),Br(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),fn(o,(t,e)=>Gr(t,n.getContext(e),i)),i}function Gr(t,e,n){const r=Hn(t),i=t.value;fn(r,(t,r)=>{Gr(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new qr(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class $r{}function Wr(t){return new mt.a(e=>e.error(t))}class Kr{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=Ar(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,nn);if(null===e)return null;const n=new Wn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},nn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new qn(n,e),i=new Kn(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=$n(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=Sr(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=function(t){const e=[];for(const n of t){if(!Qr(n)){e.push(n);continue}const t=e.find(t=>n.value.routeConfig===t.value.routeConfig);void 0!==t?t.children.push(...n.children):e.push(n)}return e}(n);return r.sort((t,e)=>t.value.outlet===nn?-1:e.value.outlet===nn?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return Nr(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!kr(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?hn(n).parameters:{};i=new Wn(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Zr(t),Ir(t),t.component,t,Xr(e),Yr(e)+n.length,Jr(t))}else{const r=xr(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new Wn(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Zr(t),Ir(t),t.component,t,Xr(e),Yr(e)+o.length,Jr(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=Ar(e,o,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new qn(i,t)]}if(0===a.length&&0===c.length)return[new qn(i,[])];const l=Ir(t)===r,h=this.processSegment(a,u,c,l?nn:r);return null===h?null:[new qn(i,h)]}}function Qr(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Xr(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Yr(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Zr(t){return t.data||{}}function Jr(t){return t.resolve||{}}function ti(t){return St(e=>{const n=t(e);return n?Object(bt.a)(n).pipe(Object(It.a)(()=>e)):Object(yt.a)(e)})}class ei extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const ni=new r.r("ROUTES");class ri{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(Object(It.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new gr(ln(i.injector.get(ni,void 0,r.q.Self|r.q.Optional)).map(Cr),i)}),Te(t=>{throw e._loader$=void 0,t}));return e._loader$=new Oe.a(n,()=>new vt.a).pipe(Object(Me.a)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?Object(bt.a)(this.loader.load(t)):dn(t()).pipe(Object(je.a)(t=>t instanceof r.w?Object(yt.a)(t):Object(bt.a)(this.compiler.compileModuleAsync(t))))}}class ii{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new oi,this.attachRef=null}}class oi{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new ii,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class si{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function ai(t){throw t}function ui(t,e,n){return e.parse("/")}function ci(t,e){return Object(yt.a)(null)}let li=(()=>{class t{constructor(t,e,n,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new vt.a,this.errorHandler=ai,this.malformedUriErrorHandler=ui,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ci,afterPreactivation:ci},this.urlHandlingStrategy=new si,this.routeReuseStrategy=new ei,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(r.y),this.console=o.get(r.Y);const c=o.get(r.A);this.isNgZoneEnabled=c instanceof r.A&&r.A.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new mn(new bn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ri(s,a,t=>this.triggerEvent(new Qe(t)),t=>this.triggerEvent(new Xe(t))),this.routerState=Bn(this.currentUrlTree,this.rootComponentType),this.transitions=new fe({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Lt(t=>0!==t.id),Object(It.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),St(t=>{let n=!1,r=!1;return Object(yt.a)(t).pipe(Object(De.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),St(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(yt.a)(t).pipe(St(t=>{const n=this.transitions.getValue();return e.next(new Fe(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Ht.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,St(t=>function(t,e,n,r,i){return new Lr(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(It.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(De.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(je.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new Kr(t,e,n,r,i,o).recognize();return null===s?Wr(new $r):Object(yt.a)(s)}catch(rb){return Wr(rb)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(It.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(De.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new Be(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new Fe(n,this.serializeUrl(r),i,o);e.next(a);const u=Bn(r,this.rootComponentType).snapshot;return Object(yt.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Ht.a}),ti(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(De.a)(t=>{const e=new Ge(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(It.a)(t=>Object.assign(Object.assign({},t),{guards:Hr(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(je.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(yt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(bt.a)(t).pipe(Object(je.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(yt.a)(!0);const s=o.map(o=>{const s=zr(o,e,i);let a;if(function(t){return t&&vr(t.canDeactivate)}(s))a=dn(s.canDeactivate(t,e,n,r));else{if(!vr(s))throw new Error("Invalid CanDeactivate guard");a=dn(s(t,e,n,r))}return a.pipe(te())});return Object(yt.a)(s).pipe(br())}(t.component,t.route,n,e,r)),te(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(je.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(bt.a)(e).pipe(ke(e=>_e(function(t,e){return null!==t&&e&&e(new Ye(t)),Object(yt.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new Je(t)),Object(yt.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>we(()=>{const i=e.guards.map(i=>{const o=zr(i,e.node,n);let s;if(function(t){return t&&vr(t.canActivateChild)}(o))s=dn(o.canActivateChild(r,t));else{if(!vr(o))throw new Error("Invalid CanActivateChild guard");s=dn(o(r,t))}return s.pipe(te())});return Object(yt.a)(i).pipe(br())}));return Object(yt.a)(i).pipe(br())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(yt.a)(!0);const i=r.map(r=>we(()=>{const i=zr(r,e,n);let o;if(function(t){return t&&vr(t.canActivate)}(i))o=dn(i.canActivate(e,t));else{if(!vr(i))throw new Error("Invalid CanActivate guard");o=dn(i(e,t))}return o.pipe(te())}));return Object(yt.a)(i).pipe(br())}(t,e.route,n))),te(t=>!0!==t,!0))}(r,o,t,e):Object(yt.a)(n)),Object(It.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(De.a)(t=>{if(yr(t.guardsResult)){const e=sn(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new $e(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Lt(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new He(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),ti(t=>{if(t.guards.canActivateChecks.length)return Object(yt.a)(t).pipe(Object(De.a)(t=>{const e=new We(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),St(t=>{let n=!1;return Object(yt.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(je.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(yt.a)(t);let o=0;return Object(bt.a)(n).pipe(ke(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(yt.a)({});const o={};return Object(bt.a)(i).pipe(Object(je.a)(i=>function(t,e,n,r){const i=zr(t,e,r);return dn(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(De.a)(t=>{o[i]=t}))),Ne(1),Object(je.a)(()=>Object.keys(o).length===i.length?Object(yt.a)(o):Ht.a))}(t._resolve,t,e,r).pipe(Object(It.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),$n(t,n).resolve),null)))}(t.route,e,r,i)),Object(De.a)(()=>o++),Ne(1),Object(je.a)(e=>o===n.length?Object(yt.a)(t):Ht.a))})),Object(De.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new He(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(De.a)(t=>{const e=new Ke(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),ti(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(It.a)(t=>{const e=function(t,e,n){const r=Jn(t,e._root,n?n._root:void 0);return new zn(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(De.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(It.a)(t=>(new dr(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),Object(De.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new He(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Ve(i))),Te(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=yr(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new He(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new ze(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(Il){t.reject(Il)}}var i;return Ht.a}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){wr(t),this.config=t.map(Cr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return rr(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new or(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return fn(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new or(n,e,r)}(n);if(o.toRoot())return rr(e.root,new bn([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new sr(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new sr(t,t===e.root,0)}const r=er(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new sr(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?ur(s.segmentGroup,s.index,o.commands):ar(s.segmentGroup,s.index,o.commands);return rr(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=yr(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(rb){e=this.malformedUriErrorHandler(rb,this.urlSerializer,t)}return e}isActive(t,e){if(yr(t))return pn(this.currentUrlTree,t,e);const n=this.parseUrl(t);return pn(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new qe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.N),r.Rb(On),r.Rb(oi),r.Rb(w),r.Rb(r.s),r.Rb(r.x),r.Rb(r.i),r.Rb(void 0))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),hi=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new vt.a,this.subscription=t.events.subscribe(t=>{t instanceof qe&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:fi(this.skipLocationChange),replaceUrl:fi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:fi(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(li),r.Kb(Gn),r.Kb(v))},t.\u0275dir=r.Fb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Ub("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.Qb("href",e.href,r.cc),r.Bb("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.yb]}),t})();function fi(t){return""===t||!!t}let di=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||nn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new pi(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(oi),r.Kb(r.Q),r.Kb(r.j),r.Sb("name"),r.Kb(r.h))},t.\u0275dir=r.Fb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class pi{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Gn?this.route:t===oi?this.childContexts:this.parent.get(t,e)}}class gi{}class vi{preload(t,e){return Object(yt.a)(null)}}let yi=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new ri(e,n,e=>t.triggerEvent(new Qe(e)),e=>t.triggerEvent(new Xe(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Lt(t=>t instanceof qe),ke(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.y);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(bt.a)(n).pipe(Object(be.a)(),Object(It.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?Object(yt.a)(e._loadedConfig):this.loader.load(t.injector,e)).pipe(Object(je.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(li),r.Rb(r.x),r.Rb(r.i),r.Rb(r.s),r.Rb(gi))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),mi=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Fe?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof qe&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof en&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new en(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(li),r.Rb(V),r.Rb(void 0))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const bi=new r.r("ROUTER_CONFIGURATION"),_i=new r.r("ROUTER_FORROOT_GUARD"),wi=[w,{provide:On,useClass:En},{provide:li,useFactory:function(t,e,n,r,i,s,a,u={},c,l){const h=new li(null,t,e,n,r,i,s,ln(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=o();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[On,oi,w,r.s,r.x,r.i,ni,bi,[class{},new r.B],[class{},new r.B]]},oi,{provide:Gn,useFactory:function(t){return t.routerState.root},deps:[li]},{provide:r.x,useClass:r.K},yi,vi,class{preload(t,e){return e().pipe(Te(()=>Object(yt.a)(null)))}},{provide:bi,useValue:{enableTracing:!1}}];function Oi(){return new r.z("Router",li)}let Ei=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[wi,Ti(e),{provide:_i,useFactory:Si,deps:[[li,new r.B,new r.J]]},{provide:bi,useValue:n||{}},{provide:v,useFactory:Ii,deps:[a,[new r.p(m),new r.B],bi]},{provide:mi,useFactory:Ci,deps:[li,V,bi]},{provide:gi,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:vi},{provide:r.z,multi:!0,useFactory:Oi},[xi,{provide:r.d,multi:!0,useFactory:Ai,deps:[xi]},{provide:ki,useFactory:ji,deps:[xi]},{provide:r.b,multi:!0,useExisting:ki}]]}}static forChild(e){return{ngModule:t,providers:[Ti(e)]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)(r.Rb(_i,8),r.Rb(li,8))}}),t})();function Ci(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new mi(t,e,n)}function Ii(t,e,n={}){return n.useHash?new _(t,e):new b(t,e)}function Si(t){return"guarded"}function Ti(t){return[{provide:r.a,multi:!0,useValue:t},{provide:ni,multi:!0,useValue:t}]}let xi=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new vt.a}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(li),r=this.injector.get(bi);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(yt.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(bi),n=this.injector.get(yi),i=this.injector.get(mi),o=this.injector.get(li),s=this.injector.get(r.g);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.s))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();function Ai(t){return t.appInitializer.bind(t)}function ji(t){return t.bootstrapListener.bind(t)}const ki=new r.r("Router Initializer");var Ni=n("Jgta"),Pi=n("D0XW");function Ri(){return t=>t.lift(new Di)}class Di{call(t,e){return e.subscribe(new Mi(t))}}class Mi extends Vt.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class Vi{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Li(t,this.compare,this.keySelector))}}class Li extends Vt.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var Ui=n("zIRd"),Fi=n("q/0M"),qi=n("qOnz"),Hi=function(t,e){return(Hi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function zi(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Bi,Gi="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},$i=$i||{},Wi=Gi||self;function Ki(){}function Qi(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Xi(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Yi="closure_uid_"+(1e9*Math.random()>>>0),Zi=0;function Ji(t,e,n){return t.call.apply(t.bind,arguments)}function to(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function eo(t,e,n){return(eo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ji:to).apply(null,arguments)}function no(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function ro(){return Date.now()}function io(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function oo(){this.j=this.j,this.i=this.i}oo.prototype.j=!1,oo.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Yi)&&t[Yi]||(t[Yi]=++Zi)}(this)},oo.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var so=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},ao=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function uo(t){return Array.prototype.concat.apply([],arguments)}function co(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function lo(t){return/^[\s\xa0]*$/.test(t)}var ho,fo=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function po(t,e){return-1!=t.indexOf(e)}function go(t,e){return t<e?-1:t>e?1:0}t:{var vo=Wi.navigator;if(vo){var yo=vo.userAgent;if(yo){ho=yo;break t}}ho=""}function mo(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function bo(t){var e={};for(var n in t)e[n]=t[n];return e}var _o="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function wo(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<_o.length;o++)n=_o[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Oo(t){return Oo[" "](t),t}Oo[" "]=Ki;var Eo,Co,Io=po(ho,"Opera"),So=po(ho,"Trident")||po(ho,"MSIE"),To=po(ho,"Edge"),xo=To||So,Ao=po(ho,"Gecko")&&!(po(ho.toLowerCase(),"webkit")&&!po(ho,"Edge"))&&!(po(ho,"Trident")||po(ho,"MSIE"))&&!po(ho,"Edge"),jo=po(ho.toLowerCase(),"webkit")&&!po(ho,"Edge");function ko(){var t=Wi.document;return t?t.documentMode:void 0}t:{var No="",Po=(Co=ho,Ao?/rv:([^\);]+)(\)|;)/.exec(Co):To?/Edge\/([\d\.]+)/.exec(Co):So?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Co):jo?/WebKit\/(\S+)/.exec(Co):Io?/(?:Version)[ \/]?(\S+)/.exec(Co):void 0);if(Po&&(No=Po?Po[1]:""),So){var Ro=ko();if(null!=Ro&&Ro>parseFloat(No)){Eo=String(Ro);break t}}Eo=No}var Do={};function Mo(t){return function(t,e){var n=Do;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=fo(String(Eo)).split("."),r=fo(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=go(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||go(0==s[2].length,0==a[2].length)||go(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var Vo=Wi.document&&So&&(ko()||parseInt(Eo,10))||void 0,Lo=!So||9<=Number(Vo),Uo=So&&!Mo("9"),Fo=function(){if(!Wi.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Wi.addEventListener("test",Ki,e),Wi.removeEventListener("test",Ki,e)}catch(n){}return t}();function qo(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Ho(t,e){if(qo.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Ao){t:{try{Oo(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:zo[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}qo.prototype.b=function(){this.defaultPrevented=!0},io(Ho,qo);var zo={2:"touch",3:"pen",4:"mouse"};Ho.prototype.b=function(){Ho.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Uo)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Bo="closure_listenable_"+(1e6*Math.random()|0),Go=0;function $o(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Go,this.Y=this.Z=!1}function Wo(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Ko(t){this.src=t,this.a={},this.b=0}function Qo(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=so(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Wo(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Xo(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}Ko.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Xo(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new $o(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Yo="closure_lm_"+(1e6*Math.random()|0),Zo={};function Jo(t,e,n,r,i){if(r&&r.once)return es(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Jo(t,e[o],n,r,i);return null}return n=cs(n),t&&t[Bo]?t.va(e,n,Xi(r)?!!r.capture:!!r,i):ts(t,e,n,!1,r,i)}function ts(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Xi(i)?!!i.capture:!!i;if(s&&!Lo)return null;var a=as(t);if(a||(t[Yo]=a=new Ko(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=ss,e=Lo?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Fo||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(is(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function es(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)es(t,e[o],n,r,i);return null}return n=cs(n),t&&t[Bo]?t.wa(e,n,Xi(r)?!!r.capture:!!r,i):ts(t,e,n,!0,r,i)}function ns(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)ns(t,e[o],n,r,i);else r=Xi(r)?!!r.capture:!!r,n=cs(n),t&&t[Bo]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=Xo(o=t.a[e],n,r,i))&&(Wo(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=as(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Xo(e,n,r,i)),(n=-1<t?e[t]:null)&&rs(n))}function rs(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Bo])Qo(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(is(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=as(e))?(Qo(n,t),0==n.b&&(n.src=null,e[Yo]=null)):Wo(t)}}}function is(t){return t in Zo?Zo[t]:Zo[t]="on"+t}function os(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&rs(t),n.call(r,e)}function ss(t,e){if(t.Y)return!0;if(!Lo){if(!e)t:{e=["window","event"];for(var n=Wi,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return os(t,e=new Ho(e,this))}return os(t,new Ho(e,this))}function as(t){return(t=t[Yo])instanceof Ko?t:null}var us="__closure_events_fn_"+(1e9*Math.random()>>>0);function cs(t){return"function"==typeof t?t:(t[us]||(t[us]=function(e){return t.handleEvent(e)}),t[us])}function ls(){oo.call(this),this.c=new Ko(this),this.J=this,this.C=null}function hs(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new qo(e,t);else if(e instanceof qo)e.target=e.target||t;else{var i=e;wo(e=new qo(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=fs(s,r,!0,e)&&i}if(i=fs(s=e.a=t,r,!0,e)&&i,i=fs(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=fs(s=e.a=n[o],r,!1,e)&&i}function fs(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&Qo(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}io(ls,oo),ls.prototype[Bo]=!0,(Bi=ls.prototype).addEventListener=function(t,e,n,r){Jo(this,t,e,n,r)},Bi.removeEventListener=function(t,e,n,r){ns(this,t,e,n,r)},Bi.G=function(){if(ls.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Wo(n[r]);delete e.a[t],e.b--}}this.C=null},Bi.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Bi.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var ds=Wi.JSON.stringify;function ps(){this.b=this.a=null}var gs,vs=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new ms},function(t){t.reset()});function ys(){var t=Os,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function ms(){this.next=this.b=this.a=null}function bs(t){Wi.setTimeout(function(){throw t},0)}function _s(t,e){gs||function(){var t=Wi.Promise.resolve(void 0);gs=function(){t.then(Es)}}(),ws||(gs(),ws=!0),Os.add(t,e)}ps.prototype.add=function(t,e){var n=vs.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},ms.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},ms.prototype.reset=function(){this.next=this.b=this.a=null};var ws=!1,Os=new ps;function Es(){for(var t;t=ys();){try{t.a.call(t.b)}catch(n){bs(n)}var e=vs;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}ws=!1}function Cs(t,e){ls.call(this),this.b=t||1,this.a=e||Wi,this.f=eo(this.Za,this),this.g=ro()}function Is(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Ss(t,e,n){if("function"==typeof t)n&&(t=eo(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=eo(t.handleEvent,t)}return 2147483647<Number(e)?-1:Wi.setTimeout(t,e||0)}function Ts(t){t.a=Ss(function(){t.a=null,t.c&&(t.c=!1,Ts(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}io(Cs,ls),(Bi=Cs.prototype).aa=!1,Bi.M=null,Bi.Za=function(){if(this.aa){var t=ro()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),hs(this,"tick"),this.aa&&(Is(this),this.start()))}},Bi.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=ro())},Bi.G=function(){Cs.X.G.call(this),Is(this),delete this.a};var xs=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Hi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Ts(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Wi.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(oo);function As(t){oo.call(this),this.b=t,this.a={}}io(As,oo);var js=[];function ks(t,e,n,r){Array.isArray(n)||(n&&(js[0]=n.toString()),n=js);for(var i=0;i<n.length;i++){var o=Jo(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Ns(t){mo(t.a,function(t,e){this.a.hasOwnProperty(e)&&rs(t)},t),t.a={}}function Ps(){this.a=!0}function Rs(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return ds(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}As.prototype.G=function(){As.X.G.call(this),Ns(this)},As.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ps.prototype.info=function(){};var Ds={},Ms=null;function Vs(){return Ms=Ms||new ls}function Ls(t){qo.call(this,Ds.Fa,t)}function Us(t){var e=Vs();hs(e,new Ls(e,t))}function Fs(t,e){qo.call(this,Ds.STAT_EVENT,t),this.stat=e}function qs(t){var e=Vs();hs(e,new Fs(e,t))}function Hs(t){qo.call(this,Ds.Ga,t)}function zs(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Wi.setTimeout(function(){t()},e)}Ds.Fa="serverreachability",io(Ls,qo),Ds.STAT_EVENT="statevent",io(Fs,qo),Ds.Ga="timingevent",io(Hs,qo);var Bs={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Gs={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function $s(){}function Ws(){}$s.prototype.a=null;var Ks,Qs={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Xs(){qo.call(this,"d")}function Ys(){qo.call(this,"c")}function Zs(){}function Js(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new As(this),this.P=ta,this.R=new Cs(t=xo?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}io(Xs,qo),io(Ys,qo),io(Zs,$s),Ks=new Zs;var ta=45e3,ea={},na={};function ra(t,e,n){t.H=1,t.i=Ia(ba(e)),t.j=n,t.I=!0,ia(t,null)}function ia(t,e){t.u=ro(),aa(t),t.l=ba(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),La(n.b,"t",r),t.D=0,t.a=Nu(t.g,t.g.C?e:null),0<t.O&&(t.F=new xs(eo(t.Ca,t,t.a),t.O)),ks(t.J,t.a,"readystatechange",t.Xa),e=t.B?bo(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Us(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.S,t.j)}function oa(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=sa(t,n);if(i==na){4==e&&(t.h=4,qs(14),r=!1),Rs(t.c,t.f,null,"[Incomplete Response]");break}if(i==ea){t.h=4,qs(15),Rs(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Rs(t.c,t.f,i,null),fa(t,i)}4==e&&0==n.length&&(t.h=1,qs(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Cu(e),e.F=!0,qs(11))):(Rs(t.c,t.f,n,"[Invalid Chunked Response]"),ha(t),la(t))}function sa(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?na:(n=Number(e.substring(n,r)),isNaN(n)?ea:(r+=1)+n>e.length?na:(e=e.substr(r,n),t.D=r+n,e))}function aa(t){t.T=ro()+t.P,ua(t,t.P)}function ua(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=zs(eo(t.Va,t),e)}function ca(t){t.o&&(Wi.clearTimeout(t.o),t.o=null)}function la(t){0==t.g.v||t.A||Tu(t.g,t)}function ha(t){ca(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Is(t.R),Ns(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function fa(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Ga(n.b,t)))if(n.I=t.N,!t.C&&Ga(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(vm){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Su(n),gu(n)}Eu(n),qs(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=zs(eo(n.Sa,n),6e3));if(1>=Ba(n.b)&&n.ea){try{n.ea()}catch(vm){}n.ea=void 0}}else Au(n,11)}else if((t.C||n.a==t)&&Su(n),!lo(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(po(l,"spdy")||po(l,"quic")||po(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&($a(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Ca(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=ro()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=ku(u,u.C?u.ga:null,u.fa),d.C){Wa(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(ca(p),aa(p)),u.a=d}else Ou(u);0<n.g.length&&mu(n)}else"stop"!=i[0]&&"close"!=i[0]||Au(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Au(n,7):pu(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Us(4)}catch(vm){}}function da(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Qi(t)||"string"==typeof t)ao(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Qi(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Qi(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function pa(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof pa)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function ga(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];va(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)va(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function va(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Bi=Js.prototype).setTimeout=function(t){this.P=t},Bi.Xa=function(t){t=t.target;var e=this.F;e&&3==lu(t)?e.f():this.Ca(t)},Bi.Ca=function(t){try{if(t==this.a)t:{var e=lu(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!xo&&!this.a.$())){this.A||4!=e||7==n||Us(8==n||0>=r?3:2),ca(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!lo(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,qs(12),ha(this),la(this);break t}Rs(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,fa(this,u)}this.I?(oa(this,e,o),xo&&this.b&&3==e&&(ks(this.J,this.R,"tick",this.Wa),this.R.start())):(Rs(this.c,this.f,o,null),fa(this,o)),4==e&&ha(this),this.b&&!this.A&&(4==e?Tu(this.g,this):(this.b=!1,aa(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,qs(12)):(this.h=0,qs(13)),ha(this),la(this)}}}catch(c){}},Bi.Wa=function(){if(this.a){var t=lu(this.a),e=this.a.$();this.D<e.length&&(ca(this),oa(this,t,e),this.b&&4!=t&&aa(this))}},Bi.cancel=function(){this.A=!0,ha(this)},Bi.Va=function(){this.o=null;var t=ro();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(Us(3),qs(17)),ha(this),this.h=2,la(this)):ua(this,this.T-t)},(Bi=pa.prototype).K=function(){ga(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Bi.L=function(){return ga(this),this.a.concat()},Bi.get=function(t,e){return va(this.b,t)?this.b[t]:e},Bi.set=function(t,e){va(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Bi.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var ya=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ma(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof ma){this.a=void 0!==e?e:t.a,_a(this,t.f),this.j=t.j,wa(this,t.c),Oa(this,t.h),this.g=t.g,e=t.b;var n=new Ra;n.c=e.c,e.a&&(n.a=new pa(e.a),n.b=e.b),Ea(this,n),this.i=t.i}else t&&(n=String(t).match(ya))?(this.a=!!e,_a(this,n[1]||"",!0),this.j=Sa(n[2]||""),wa(this,n[3]||"",!0),Oa(this,n[4]),this.g=Sa(n[5]||"",!0),Ea(this,n[6]||"",!0),this.i=Sa(n[7]||"")):(this.a=!!e,this.b=new Ra(null,this.a))}function ba(t){return new ma(t)}function _a(t,e,n){t.f=n?Sa(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function wa(t,e,n){t.c=n?Sa(e,!0):e}function Oa(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Ea(t,e,n){e instanceof Ra?(t.b=e,function(t,e){e&&!t.f&&(Da(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Ma(this,e),La(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Ta(e,Na)),t.b=new Ra(e,t.a))}function Ca(t,e,n){t.b.set(e,n)}function Ia(t){return Ca(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^ro()).toString(36)),t}function Sa(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ta(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,xa),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function xa(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ma.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Ta(e,Aa,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Ta(e,Aa,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ta(n,"/"==n.charAt(0)?ka:ja,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Ta(n,Pa)),t.join("")};var Aa=/[#\/\?@]/g,ja=/[#\?:]/g,ka=/[#\?]/g,Na=/[#\?@]/g,Pa=/#/g;function Ra(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Da(t){t.a||(t.a=new pa,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Ma(t,e){Da(t),e=Ua(t,e),va(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,va((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&ga(t)))}function Va(t,e){return Da(t),e=Ua(t,e),va(t.a.b,e)}function La(t,e,n){Ma(t,e),0<n.length&&(t.c=null,t.a.set(Ua(t,e),co(n)),t.b+=n.length)}function Ua(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Bi=Ra.prototype).add=function(t,e){Da(this),this.c=null,t=Ua(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Bi.forEach=function(t,e){Da(this),this.a.forEach(function(n,r){ao(n,function(n){t.call(e,n,r,this)},this)},this)},Bi.L=function(){Da(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Bi.K=function(t){Da(this);var e=[];if("string"==typeof t)Va(this,t)&&(e=uo(e,this.a.get(Ua(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=uo(e,t[n])}return e},Bi.set=function(t,e){return Da(this),this.c=null,Va(this,t=Ua(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Bi.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Bi.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var Fa=function(){return function(t,e){this.b=t,this.a=e}}();function qa(t){this.g=t||Ha,t=Wi.PerformanceNavigationTiming?0<(t=Wi.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Wi.ia&&Wi.ia.ya&&Wi.ia.ya()&&Wi.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Ha=10;function za(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Ba(t){return t.b?1:t.a?t.a.size:0}function Ga(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function $a(t,e){t.a?t.a.add(e):t.b=e}function Wa(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Ka(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=zi(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return co(t.c)}function Qa(){}function Xa(){this.a=new Qa}function Ya(t,e,n){var r=n||"";try{da(t,function(t,n){var i=t;Xi(t)&&(i=ds(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(rb){throw e.push(r+"type="+encodeURIComponent("_badmap")),rb}}function Za(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}qa.prototype.cancel=function(){var t,e;if(this.c=Ka(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=zi(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Qa.prototype.stringify=function(t){return Wi.JSON.stringify(t,void 0)},Qa.prototype.parse=function(t){return Wi.JSON.parse(t,void 0)};var Ja=Wi.JSON.parse;function tu(t){ls.call(this),this.headers=new pa,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=eu,this.D=this.F=!1}io(tu,ls);var eu="",nu=/^https?$/i,ru=["POST","PUT"];function iu(t){return"content-type"==t.toLowerCase()}function ou(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,su(t),uu(t)}function su(t){t.u||(t.u=!0,hs(t,"complete"),hs(t,"error"))}function au(t){if(t.b&&void 0!==$i&&(!t.s[1]||4!=lu(t)||2!=t.W()))if(t.l&&4==lu(t))Ss(t.za,0,t);else if(hs(t,"readystatechange"),4==lu(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(ya)[1]||null;if(!o&&Wi.self&&Wi.self.location){var s=Wi.self.location.protocol;o=s.substr(0,s.length-1)}i=!nu.test(o?o.toLowerCase():"")}e=i}if(e)hs(t,"complete"),hs(t,"success");else{t.h=6;try{var a=2<lu(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",su(t)}}finally{uu(t)}}}function uu(t,e){if(t.a){cu(t);var n=t.a,r=t.s[0]?Ki:null;t.a=null,t.s=null,e||hs(t,"ready");try{n.onreadystatechange=r}catch(rb){}}}function cu(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Wi.clearTimeout(t.m),t.m=null)}function lu(t){return t.a?t.a.readyState:0}function hu(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return mo(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ca(t,e,n))}function fu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function du(t){this.pa=0,this.g=[],this.c=new Ps,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=fu("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=fu("baseRetryDelayMs",5e3,t),this.Ra=fu("retryDelaySeedMs",1e4,t),this.Ma=fu("forwardChannelMaxRetries",2,t),this.ma=fu("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new qa(t&&t.concurrentRequestLimit),this.ka=new Xa,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function pu(t){if(vu(t),3==t.v){var e=t.R++,n=ba(t.B);Ca(n,"SID",t.J),Ca(n,"RID",e),Ca(n,"TYPE","terminate"),_u(t,n),(e=new Js(t,t.c,e,void 0)).H=2,e.i=Ia(ba(n)),n=!1,Wi.navigator&&Wi.navigator.sendBeacon&&(n=Wi.navigator.sendBeacon(e.i.toString(),"")),!n&&Wi.Image&&((new Image).src=e.i,n=!0),n||(e.a=Nu(e.g,null),e.a.ba(e.i)),e.u=ro(),aa(e)}ju(t)}function gu(t){t.a&&(Cu(t),t.a.cancel(),t.a=null)}function vu(t){gu(t),t.j&&(Wi.clearTimeout(t.j),t.j=null),Su(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Wi.clearTimeout(t.h),t.h=null)}function yu(t,e){t.g.push(new Fa(t.Oa++,e)),3==t.v&&mu(t)}function mu(t){za(t.b)||t.h||(t.h=!0,_s(t.Ba,t),t.u=0)}function bu(t,e){var n;n=e?e.f:t.R++;var r=ba(t.B);Ca(r,"SID",t.J),Ca(r,"RID",n),Ca(r,"AID",t.P),_u(t,r),t.i&&t.l&&hu(r,t.i,t.l),n=new Js(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=wu(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),$a(t.b,n),ra(n,r,e)}function _u(t,e){t.f&&da({},function(t,n){Ca(e,n,t)})}function wu(t,e,n){n=Math.min(t.g.length,n);var r=t.f?eo(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{Ya(l,s,"req"+c+"_")}catch(pc){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Ou(t){t.a||t.j||(t.T=1,_s(t.Aa,t),t.o=0)}function Eu(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=zs(eo(t.Aa,t),xu(t,t.o)),t.o++,0))}function Cu(t){null!=t.s&&(Wi.clearTimeout(t.s),t.s=null)}function Iu(t){t.a=new Js(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=ba(t.la);Ca(e,"RID","rpc"),Ca(e,"SID",t.J),Ca(e,"CI",t.H?"0":"1"),Ca(e,"AID",t.P),_u(t,e),Ca(e,"TYPE","xmlhttp"),t.i&&t.l&&hu(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Ia(ba(e)),n.j=null,n.I=!0,ia(n,t)}function Su(t){null!=t.m&&(Wi.clearTimeout(t.m),t.m=null)}function Tu(t,e){var n=null;if(t.a==e){Su(t),Cu(t),t.a=null;var r=2}else{if(!Ga(t.b,e))return;n=e.s,Wa(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=ro()-e.u;var i=t.u;hs(r=Vs(),new Hs(r,n,e,i)),mu(t)}else Ou(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Ba(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=zs(eo(t.Ba,t,e),xu(t,t.u)),t.u++,0)))}(t,e)||2==r&&Eu(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Au(t,5);break;case 4:Au(t,10);break;case 3:Au(t,6);break;default:Au(t,2)}}function xu(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Au(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=eo(t.Ya,t);n||(n=new ma("//www.google.com/images/cleardot.gif"),Wi.location&&"http"==Wi.location.protocol||_a(n,"https"),Ia(n)),function(t,e){var n=new Ps;if(Wi.Image){var r=new Image;r.onload=no(Za,n,r,"TestLoadImage: loaded",!0,e),r.onerror=no(Za,n,r,"TestLoadImage: error",!1,e),r.onabort=no(Za,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=no(Za,n,r,"TestLoadImage: timeout",!1,e),Wi.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else qs(2);t.v=0,t.f&&t.f.ra(e),ju(t),vu(t)}function ju(t){t.v=0,t.I=-1,t.f&&(0==Ka(t.b).length&&0==t.g.length||(t.b.c.length=0,co(t.g),t.g.length=0),t.f.qa())}function ku(t,e,n){var r=function(t){return t instanceof ma?ba(t):new ma(t,void 0)}(n);if(""!=r.c)e&&wa(r,e+"."+r.c),Oa(r,r.h);else{var i=Wi.location;r=function(t,e,n,r){var i=new ma(null,void 0);return t&&_a(i,t),e&&wa(i,e),n&&Oa(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&mo(t.V,function(t,e){Ca(r,e,t)}),n=t.na,(e=t.A)&&n&&Ca(r,e,n),Ca(r,"VER",t.ha),_u(t,r),r}function Nu(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new tu(t.Na)).F=t.C,e}function Pu(){}function Ru(){if(So&&!(10<=Number(Vo)))throw Error("Environmental error: no available transport.")}function Du(t,e){ls.call(this),this.a=new du(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!lo(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!lo(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Lu(this)}function Mu(t){Xs.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Vu(){Ys.call(this),this.status=1}function Lu(t){this.a=t}(Bi=tu.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Ks),this.a.onreadystatechange=eo(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void ou(this,o)}t=n||"";var i=new pa(this.headers);r&&da(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=iu,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Wi.FormData&&t instanceof Wi.FormData,!(0<=so(ru,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{cu(this),0<this.o&&((this.D=function(t){return So&&Mo(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=eo(this.xa,this)):this.m=Ss(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){ou(this,o)}},Bi.xa=function(){void 0!==$i&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,hs(this,"timeout"),this.abort(8))},Bi.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,hs(this,"complete"),hs(this,"abort"),uu(this))},Bi.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),uu(this,!0)),tu.X.G.call(this)},Bi.za=function(){this.j||(this.A||this.l||this.g?au(this):this.Ua())},Bi.Ua=function(){au(this)},Bi.W=function(){try{return 2<lu(this)?this.a.status:-1}catch(Co){return-1}},Bi.$=function(){try{return this.a?this.a.responseText:""}catch(Co){return""}},Bi.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Ja(e)}},Bi.ua=function(){return this.h},Bi.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Bi=du.prototype).ha=8,Bi.v=1,Bi.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Js(this,this.c,t,void 0),r=this.l;if(this.O&&(r?wo(r=bo(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=wu(this,n,e),Ca(i=ba(this.B),"RID",t),Ca(i,"CVER",22),this.A&&Ca(i,"X-HTTP-Session-Id",this.A),_u(this,i),this.i&&r&&hu(i,this.i,r),$a(this.b,n),this.Ia&&Ca(i,"TYPE","init"),this.da?(Ca(i,"$req",e),Ca(i,"SID","null"),n.U=!0,ra(n,i,null)):ra(n,i,e),this.v=2}}else 3==this.v&&(t?bu(this,t):0==this.g.length||za(this.b)||bu(this))},Bi.Aa=function(){if(this.j=null,Iu(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=zs(eo(this.Ta,this),t)}},Bi.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,qs(10),gu(this),Iu(this))},Bi.Sa=function(){null!=this.m&&(this.m=null,gu(this),Eu(this),qs(19))},Bi.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),qs(2)):(this.c.info("Failed to ping google.com"),qs(1))},(Bi=Pu.prototype).ta=function(){},Bi.sa=function(){},Bi.ra=function(){},Bi.qa=function(){},Bi.Ja=function(){},Ru.prototype.a=function(t,e){return new Du(t,e)},io(Du,ls),Du.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;qs(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=ku(t,null,t.fa),mu(t)},Du.prototype.close=function(){pu(this.a)},Du.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,yu(this.a,e)}else this.l?((e={}).__data__=ds(t),yu(this.a,e)):yu(this.a,t)},Du.prototype.G=function(){this.a.f=null,delete this.f,pu(this.a),delete this.a,Du.X.G.call(this)},io(Mu,Xs),io(Vu,Ys),io(Lu,Pu),Lu.prototype.ta=function(){hs(this.a,"a")},Lu.prototype.sa=function(t){hs(this.a,new Mu(t))},Lu.prototype.ra=function(t){hs(this.a,new Vu(t))},Lu.prototype.qa=function(){hs(this.a,"b")},Ru.prototype.createWebChannel=Ru.prototype.a,Du.prototype.send=Du.prototype.h,Du.prototype.open=Du.prototype.g,Du.prototype.close=Du.prototype.close,Bs.NO_ERROR=0,Bs.TIMEOUT=8,Bs.HTTP_ERROR=6,Gs.COMPLETE="complete",Ws.EventType=Qs,Qs.OPEN="a",Qs.CLOSE="b",Qs.ERROR="c",Qs.MESSAGE="d",ls.prototype.listen=ls.prototype.va,tu.prototype.listenOnce=tu.prototype.wa,tu.prototype.getLastError=tu.prototype.Qa,tu.prototype.getLastErrorCode=tu.prototype.ua,tu.prototype.getStatus=tu.prototype.W,tu.prototype.getResponseJson=tu.prototype.Pa,tu.prototype.getResponseText=tu.prototype.$,tu.prototype.send=tu.prototype.ba;var Uu=Bs,Fu=Gs,qu=Ds,Hu=Ws,zu=tu,Bu=n("30Go"),Gu=function(t,e,n,r,i,o){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=o},$u=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Wu=new Fi.b("@firebase/firestore");function Ku(){return Wu.logLevel}function Qu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Wu.logLevel<=Fi.a.DEBUG){var r=e.map(Zu);Wu.debug.apply(Wu,Object(Bu.g)(["Firestore (8.2.9): "+t],r))}}function Xu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Wu.logLevel<=Fi.a.ERROR){var r=e.map(Zu);Wu.error.apply(Wu,Object(Bu.g)(["Firestore (8.2.9): "+t],r))}}function Yu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Wu.logLevel<=Fi.a.WARN){var r=e.map(Zu);Wu.warn.apply(Wu,Object(Bu.g)(["Firestore (8.2.9): "+t],r))}}function Zu(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(rb){return t}}function Ju(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.9) INTERNAL ASSERTION FAILED: "+t;throw Xu(e),new Error(e)}function tc(t,e){t||Ju()}function ec(t,e){return t}function nc(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var rc=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=nc(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function ic(t,e){return t<e?-1:t>e?1:0}function oc(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function sc(t){return t+"\0"}var ac=function(){function t(t){this.h=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.h)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.h)},t.prototype.l=function(){return 2*this.h.length},t.prototype._=function(t){return ic(this.h,t.h)},t.prototype.isEqual=function(t){return this.h===t.h},t}();ac.T=new ac("");var uc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},cc=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Bu.c)(e,t),e}(Error),lc=function(){function t(t){this.I=t}return t.fromBase64String=function(e){try{return new t(ac.fromBase64String(e))}catch(e){throw new cc(uc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(ac.fromUint8Array(e))},t.prototype.toBase64=function(){return this.I.toBase64()},t.prototype.toUint8Array=function(){return this.I.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.I.isEqual(t.I)},t}(),hc=function(){function t(t){this.uid=t}return t.prototype.m=function(){return null!=this.uid},t.prototype.A=function(){return this.m()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();hc.UNAUTHENTICATED=new hc(null),hc.R=new hc("google-credentials-uid"),hc.P=new hc("first-party-uid");var fc=function(t,e){this.user=e,this.type="OAuth",this.g={},this.g.Authorization="Bearer "+t},dc=function(){function t(){this.V=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.p=function(){},t.prototype.v=function(t){this.V=t,t(hc.UNAUTHENTICATED)},t.prototype.S=function(){this.V=null},t}(),pc=function(){function t(t){var e=this;this.D=null,this.currentUser=hc.UNAUTHENTICATED,this.C=!1,this.N=0,this.V=null,this.forceRefresh=!1,this.D=function(){e.N++,e.currentUser=e.$(),e.C=!0,e.V&&e.V(e.currentUser)},this.N=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.D):(this.D(null),t.get().then(function(t){e.auth=t,e.D&&e.auth.addAuthTokenListener(e.D)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.N,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.N!==e?(Qu("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(tc("string"==typeof n.accessToken),new fc(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.p=function(){this.forceRefresh=!0},t.prototype.v=function(t){this.V=t,this.C&&t(this.currentUser)},t.prototype.S=function(){this.auth&&this.auth.removeAuthTokenListener(this.D),this.D=null,this.V=null},t.prototype.$=function(){var t=this.auth&&this.auth.getUid();return tc(null===t||"string"==typeof t),new hc(t)},t}(),gc=function(){function t(t,e){this.F=t,this.O=e,this.type="FirstParty",this.user=hc.P}return Object.defineProperty(t.prototype,"g",{get:function(){var t={"X-Goog-AuthUser":this.O},e=this.F.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),vc=function(){function t(t,e){this.F=t,this.O=e}return t.prototype.getToken=function(){return Promise.resolve(new gc(this.F,this.O))},t.prototype.v=function(t){t(hc.P)},t.prototype.S=function(){},t.prototype.p=function(){},t}(),yc=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.k=function(t){return n.M(t)},this.L=function(t){return e.B(t)})}return t.prototype.M=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.L&&this.L(t),t},t}();yc.q=-1;var mc=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new cc(uc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new cc(uc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new cc(uc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new cc(uc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.U=function(t){return this.seconds===t.seconds?ic(this.nanoseconds,t.nanoseconds):ic(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),bc=function(){function t(t){this.timestamp=t}return t.K=function(e){return new t(e)},t.min=function(){return new t(new mc(0,0))},t.prototype._=function(t){return this.timestamp.U(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.W=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.j=function(){return this.timestamp},t}(),_c=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Ju(),void 0===n?n=t.length-e:n>t.length-e&&Ju(),this.segments=t,this.offset=e,this.G=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.G},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.H(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.J(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.Y=function(t){return this.J(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.X=function(){return this.J(this.segments,this.offset,this.length-1)},t.prototype.Z=function(){return this.segments[this.offset]},t.prototype.tt=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.et=function(){return 0===this.length},t.prototype.nt=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.st=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.it=function(){return this.segments.slice(this.offset,this.limit())},t.H=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),wc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Bu.c)(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.prototype.rt=function(){return this.it().join("/")},e.prototype.toString=function(){return this.rt()},e.ot=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new cc(uc.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.ct=function(){return new e([])},e}(_c),Oc=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ec=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Bu.c)(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.at=function(t){return Oc.test(t)},e.prototype.rt=function(){return this.it().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.at(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.rt()},e.prototype.ut=function(){return 1===this.length&&"__name__"===this.get(0)},e.ht=function(){return new e(["__name__"])},e.lt=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new cc(uc.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new cc(uc.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new cc(uc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new cc(uc.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.ct=function(){return new e([])},e}(_c),Cc=function(){function t(t){this.path=t}return t._t=function(e){return new t(wc.ot(e))},t.ft=function(e){return new t(wc.ot(e).Y(5))},t.prototype.dt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===wc.H(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.H=function(t,e){return wc.H(t.path,e.path)},t.wt=function(t){return t.length%2==0},t.Et=function(e){return new t(new wc(e.slice()))},t}();function Ic(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Sc(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Tc(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var xc=function(){function t(t){this.fields=t,t.sort(Ec.H)}return t.prototype.Tt=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].nt(t))return!0;return!1},t.prototype.isEqual=function(t){return oc(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Ac=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jc(t){if(tc(!!t),"string"==typeof t){var e=0,n=Ac.exec(t);if(tc(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:kc(t.seconds),nanos:kc(t.nanos)}}function kc(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Nc(t){return"string"==typeof t?ac.fromBase64String(t):ac.fromUint8Array(t)}function Pc(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Rc(t){var e=t.mapValue.fields.__previous_value__;return Pc(e)?Rc(e):e}function Dc(t){var e=jc(t.mapValue.fields.__local_write_time__.timestampValue);return new mc(e.seconds,e.nanos)}function Mc(t){return null==t}function Vc(t){return 0===t&&1/t==-1/0}function Lc(t){return"number"==typeof t&&Number.isInteger(t)&&!Vc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Uc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Pc(t)?4:10:Ju()}function Fc(t,e){var n=Uc(t);if(n!==Uc(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Dc(t).isEqual(Dc(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=jc(t.timestampValue),r=jc(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Nc(t.bytesValue).isEqual(Nc(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return kc(t.geoPointValue.latitude)===kc(e.geoPointValue.latitude)&&kc(t.geoPointValue.longitude)===kc(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return kc(t.integerValue)===kc(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=kc(t.doubleValue),r=kc(e.doubleValue);return n===r?Vc(n)===Vc(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return oc(t.arrayValue.values||[],e.arrayValue.values||[],Fc);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Ic(n)!==Ic(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Fc(n[i],r[i])))return!1;return!0}(t,e);default:return Ju()}}function qc(t,e){return void 0!==(t.values||[]).find(function(t){return Fc(t,e)})}function Hc(t,e){var n=Uc(t),r=Uc(e);if(n!==r)return ic(n,r);switch(n){case 0:return 0;case 1:return ic(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=kc(t.integerValue||t.doubleValue),r=kc(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return zc(t.timestampValue,e.timestampValue);case 4:return zc(Dc(t),Dc(e));case 5:return ic(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Nc(t),r=Nc(e);return n._(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=ic(n[i],r[i]);if(0!==o)return o}return ic(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=ic(kc(t.latitude),kc(e.latitude));return 0!==n?n:ic(kc(t.longitude),kc(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Hc(n[i],r[i]);if(o)return o}return ic(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=ic(r[s],o[s]);if(0!==a)return a;var u=Hc(n[r[s]],i[o[s]]);if(0!==u)return u}return ic(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Ju()}}function zc(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ic(t,e);var n=jc(t),r=jc(e),i=ic(n.seconds,r.seconds);return 0!==i?i:ic(n.nanos,r.nanos)}function Bc(t){return Gc(t)}function Gc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=jc(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Nc(t.bytesValue).toBase64():"referenceValue"in t?Cc.ft(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Gc(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+Gc(t.fields[o])}return e+"}"}(t.mapValue):Ju();var e}function $c(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.rt()}}function Wc(t){return!!t&&"integerValue"in t}function Kc(t){return!!t&&"arrayValue"in t}function Qc(t){return!!t&&"nullValue"in t}function Xc(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Yc(t){return!!t&&"mapValue"in t}var Zc=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.et())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Yc(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.tt()])||null},t.prototype.isEqual=function(t){return Fc(this.proto,t.proto)},t}(),Jc=function(){function t(t){void 0===t&&(t=Zc.empty()),this.It=t,this.At=new Map}return t.prototype.set=function(t,e){return this.Rt(t,e),this},t.prototype.delete=function(t){return this.Rt(t,null),this},t.prototype.Rt=function(t,e){for(var n=this.At,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Uc(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.tt(),e)},t.prototype.Pt=function(){var t=this.yt(Ec.ct(),this.At);return null!=t?new Zc(t):this.It},t.prototype.yt=function(t,e){var n=this,r=!1,i=this.It.field(t),o=Yc(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var s=n.yt(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)}),r?{mapValue:{fields:o}}:null},t}();function tl(t){var e=[];return Sc(t.fields||{},function(t,n){var r=new Ec([t]);if(Yc(n)){var i=tl(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new xc(e)}var el=function(t,e){this.key=t,this.version=e},nl=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).gt=r,o.Vt=!!i.Vt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(Bu.c)(e,t),e.prototype.field=function(t){return this.gt.field(t)},e.prototype.data=function(){return this.gt},e.prototype.bt=function(){return this.gt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Vt===t.Vt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.gt.isEqual(t.gt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.gt.toString()+", {hasLocalMutations: "+this.Vt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Vt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(el),rl=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(Bu.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(el),il=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Bu.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(el),ol=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.vt=null};function sl(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new ol(t,e,n,r,i,o,s)}function al(t){var e=ec(t);if(null===e.vt){var n=e.path.rt();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.rt()+t.op.toString()+Bc(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.rt()+t.dir}(t)}).join(","),Mc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=_l(e.startAt)),e.endAt&&(n+="|ub:",n+=_l(e.endAt)),e.vt=n}return e.vt}function ul(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Ol(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!Fc(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Cl(t.startAt,e.startAt)&&Cl(t.endAt,e.endAt)}function cl(t){return Cc.wt(t.path)&&null===t.collectionGroup&&0===t.filters.length}var ll=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Bu.c)(e,t),e.create=function(t,n,r){return t.ut()?"in"===n||"not-in"===n?this.St(t,n,r):new hl(t,n,r):"array-contains"===n?new gl(t,r):"in"===n?new vl(t,r):"not-in"===n?new yl(t,r):"array-contains-any"===n?new ml(t,r):new e(t,n,r)},e.St=function(t,e,n){return"in"===e?new fl(t,n):new dl(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Dt(Hc(e,this.value)):null!==e&&Uc(this.value)===Uc(e)&&this.Dt(Hc(e,this.value))},e.prototype.Dt=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Ju()}},e.prototype.Ct=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),hl=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Cc.ft(r.referenceValue),i}return Object(Bu.c)(e,t),e.prototype.matches=function(t){var e=Cc.H(t.key,this.key);return this.Dt(e)},e}(ll),fl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=pl(0,n),r}return Object(Bu.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(ll),dl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=pl(0,n),r}return Object(Bu.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(ll);function pl(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Cc.ft(t.referenceValue)})}var gl=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Bu.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Kc(e)&&qc(e.arrayValue,this.value)},e}(ll),vl=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Bu.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&qc(this.value.arrayValue,e)},e}(ll),yl=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Bu.c)(e,t),e.prototype.matches=function(t){if(qc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!qc(this.value.arrayValue,e)},e}(ll),ml=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Bu.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Kc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return qc(e.value.arrayValue,t)})},e}(ll),bl=function(t,e){this.position=t,this.before=e};function _l(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Bc(t)}).join(",")}var wl=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Ol(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function El(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.ut()?Cc.H(Cc.ft(s.referenceValue),n.key):Hc(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Cl(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Fc(t.position[n],e.position[n]))return!1;return!0}var Il=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.xt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.Nt=null,this.$t=null};function Sl(t,e,n,r,i,o,s,a){return new Il(t,e,n,r,i,o,s,a)}function Tl(t){return new Il(t)}function xl(t){return!Mc(t.limit)&&"F"===t.limitType}function Al(t){return!Mc(t.limit)&&"L"===t.limitType}function jl(t){return t.xt.length>0?t.xt[0].field:null}function kl(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.Ct())return r.field}return null}function Nl(t){return null!==t.collectionGroup}function Pl(t){var e=ec(t);if(null===e.Nt){e.Nt=[];var n=kl(e),r=jl(e);if(null!==n&&null===r)n.ut()||e.Nt.push(new wl(n)),e.Nt.push(new wl(Ec.ht(),"asc"));else{for(var i=!1,o=0,s=e.xt;o<s.length;o++){var a=s[o];e.Nt.push(a),a.field.ut()&&(i=!0)}if(!i){var u=e.xt.length>0?e.xt[e.xt.length-1].dir:"asc";e.Nt.push(new wl(Ec.ht(),u))}}}return e.Nt}function Rl(t){var e=ec(t);if(!e.$t)if("F"===e.limitType)e.$t=sl(e.path,e.collectionGroup,Pl(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Pl(e);r<i.length;r++){var o=i[r];n.push(new wl(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new bl(e.endAt.position,!e.endAt.before):null,a=e.startAt?new bl(e.startAt.position,!e.startAt.before):null;e.$t=sl(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.$t}function Dl(t,e,n){return new Il(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ml(t,e){return ul(Rl(t),Rl(e))&&t.limitType===e.limitType}function Vl(t){return al(Rl(t))+"|lt:"+t.limitType}function Ll(t){return"Query(target="+function(t){var e=t.path.rt();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.rt()+" "+e.op+" "+Bc(e.value);var e}).join(", ")+"]"),Mc(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.rt()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+_l(t.startAt)),t.endAt&&(e+=", endAt: "+_l(t.endAt)),"Target("+e+")"}(Rl(t))+"; limitType="+t.limitType+")"}function Ul(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.dt(t.collectionGroup)&&t.path.nt(n):Cc.wt(t.path)?t.path.isEqual(n):t.path.st(n)}(t,e)&&function(t,e){for(var n=0,r=t.xt;n<r.length;n++){var i=r[n];if(!i.field.ut()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!El(t.startAt,Pl(t),e)||t.endAt&&El(t.endAt,Pl(t),e))}(t,e)}function Fl(t){return function(e,n){for(var r=!1,i=0,o=Pl(t);i<o.length;i++){var s=o[i],a=ql(s,e,n);if(0!==a)return a;r=r||s.field.ut()}return 0}}function ql(t,e,n){var r=t.field.ut()?Cc.H(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Hc(r,i):Ju()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ju()}}var Hl=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=bc.min()),void 0===o&&(o=bc.min()),void 0===s&&(s=ac.T),this.target=t,this.targetId=e,this.Ft=n,this.sequenceNumber=r,this.Ot=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.kt=function(e){return new t(this.target,this.targetId,this.Ft,e,this.Ot,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.Mt=function(e,n){return new t(this.target,this.targetId,this.Ft,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.Ft,this.sequenceNumber,this.Ot,e,this.resumeToken)},t}();function zl(t,e){if(t.Bt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vc(e)?"-0":e}}function Bl(t){return{integerValue:""+t}}function Gl(t,e){return Lc(e)?Bl(e):zl(t,e)}var $l=function(){this.qt=void 0};function Wl(t,e,n){return t instanceof Xl?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Yl?Zl(t,e):t instanceof Jl?th(t,e):function(t,e){var n=Ql(t,e),r=nh(n)+nh(t.Ut);return Wc(n)&&Wc(t.Ut)?Bl(r):zl(t.Qt,r)}(t,e)}function Kl(t,e,n){return t instanceof Yl?Zl(t,e):t instanceof Jl?th(t,e):n}function Ql(t,e){return t instanceof eh?Wc(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Xl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Bu.c)(e,t),e}($l),Yl=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Bu.c)(e,t),e}($l);function Zl(t,e){for(var n=rh(e),r=function(t){n.some(function(e){return Fc(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Jl=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Bu.c)(e,t),e}($l);function th(t,e){for(var n=rh(e),r=function(t){n=n.filter(function(e){return!Fc(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var eh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qt=e,r.Ut=n,r}return Object(Bu.c)(e,t),e}($l);function nh(t){return kc(t.integerValue||t.doubleValue)}function rh(t){return Kc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var ih=function(t,e){this.field=t,this.transform=e},oh=function(t,e){this.version=t,this.transformResults=e},sh=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Kt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Wt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function ah(t,e){return void 0!==t.updateTime?e instanceof nl&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof nl}var uh=function(){};function ch(t,e,n){return t instanceof ph?function(t,e,n){var r=t.value;if(n.transformResults){var i=yh(t.fieldTransforms,e,n.transformResults);r=bh(t.fieldTransforms,r,i)}return new nl(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof gh?function(t,e,n){if(!ah(t.jt,e))return new il(t.key,n.version);var r=vh(t,e,n.transformResults?yh(t.fieldTransforms,e,n.transformResults):[]);return new nl(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new rl(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function lh(t,e,n){return t instanceof ph?function(t,e,n){if(!ah(t.jt,e))return e;var r=t.value,i=mh(t.fieldTransforms,n,e);r=bh(t.fieldTransforms,r,i);var o=dh(e);return new nl(t.key,o,r,{Vt:!0})}(t,e,n):t instanceof gh?function(t,e,n){if(!ah(t.jt,e))return e;var r=dh(e),i=vh(t,e,mh(t.fieldTransforms,n,e));return new nl(t.key,r,i,{Vt:!0})}(t,e,n):function(t,e){return ah(t.jt,e)?new rl(t.key,bc.min()):e}(t,e)}function hh(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],s=e instanceof nl?e.field(o.field):void 0,a=Ql(o.transform,s||null);null!=a&&(n=null==n?(new Jc).set(o.field,a):n.set(o.field,a))}return n?n.Pt():null}(t.fieldTransforms,e)}function fh(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.jt.isEqual(e.jt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&oc(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Yl&&e instanceof Yl||t instanceof Jl&&e instanceof Jl?oc(t.elements,e.elements,Fc):t instanceof eh&&e instanceof eh?Fc(t.Ut,e.Ut):t instanceof Xl&&e instanceof Xl}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.Gt.isEqual(e.Gt))}function dh(t){return t instanceof nl?t.version:bc.min()}var ph=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.jt=r,o.fieldTransforms=i,o.type=0,o}return Object(Bu.c)(e,t),e}(uh),gh=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.Gt=r,s.jt=i,s.fieldTransforms=o,s.type=1,s}return Object(Bu.c)(e,t),e}(uh);function vh(t,e,n){var r;return r=function(t,e){var n=new Jc(e);return t.Gt.fields.forEach(function(e){if(!e.et()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.Pt()}(t,r=e instanceof nl?e.data():Zc.empty()),bh(t.fieldTransforms,r,n)}function yh(t,e,n){var r=[];tc(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof nl&&(a=e.field(o.field)),r.push(Kl(s,a,n[i]))}return r}function mh(t,e,n){for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=null;n instanceof nl&&(u=n.field(s.field)),r.push(Wl(a,u,e))}return r}function bh(t,e,n){for(var r=new Jc(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.Pt()}var _h,wh,Oh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=2,r.fieldTransforms=[],r}return Object(Bu.c)(e,t),e}(uh),Eh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=3,r.fieldTransforms=[],r}return Object(Bu.c)(e,t),e}(uh),Ch=function(t){this.count=t};function Ih(t){switch(t){case uc.OK:return Ju();case uc.CANCELLED:case uc.UNKNOWN:case uc.DEADLINE_EXCEEDED:case uc.RESOURCE_EXHAUSTED:case uc.INTERNAL:case uc.UNAVAILABLE:case uc.UNAUTHENTICATED:return!1;case uc.INVALID_ARGUMENT:case uc.NOT_FOUND:case uc.ALREADY_EXISTS:case uc.PERMISSION_DENIED:case uc.FAILED_PRECONDITION:case uc.ABORTED:case uc.OUT_OF_RANGE:case uc.UNIMPLEMENTED:case uc.DATA_LOSS:return!0;default:return Ju()}}function Sh(t){if(void 0===t)return Xu("GRPC error has no .code"),uc.UNKNOWN;switch(t){case _h.OK:return uc.OK;case _h.CANCELLED:return uc.CANCELLED;case _h.UNKNOWN:return uc.UNKNOWN;case _h.DEADLINE_EXCEEDED:return uc.DEADLINE_EXCEEDED;case _h.RESOURCE_EXHAUSTED:return uc.RESOURCE_EXHAUSTED;case _h.INTERNAL:return uc.INTERNAL;case _h.UNAVAILABLE:return uc.UNAVAILABLE;case _h.UNAUTHENTICATED:return uc.UNAUTHENTICATED;case _h.INVALID_ARGUMENT:return uc.INVALID_ARGUMENT;case _h.NOT_FOUND:return uc.NOT_FOUND;case _h.ALREADY_EXISTS:return uc.ALREADY_EXISTS;case _h.PERMISSION_DENIED:return uc.PERMISSION_DENIED;case _h.FAILED_PRECONDITION:return uc.FAILED_PRECONDITION;case _h.ABORTED:return uc.ABORTED;case _h.OUT_OF_RANGE:return uc.OUT_OF_RANGE;case _h.UNIMPLEMENTED:return uc.UNIMPLEMENTED;case _h.DATA_LOSS:return uc.DATA_LOSS;default:return Ju()}}(wh=_h||(_h={}))[wh.OK=0]="OK",wh[wh.CANCELLED=1]="CANCELLED",wh[wh.UNKNOWN=2]="UNKNOWN",wh[wh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wh[wh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wh[wh.NOT_FOUND=5]="NOT_FOUND",wh[wh.ALREADY_EXISTS=6]="ALREADY_EXISTS",wh[wh.PERMISSION_DENIED=7]="PERMISSION_DENIED",wh[wh.UNAUTHENTICATED=16]="UNAUTHENTICATED",wh[wh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wh[wh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wh[wh.ABORTED=10]="ABORTED",wh[wh.OUT_OF_RANGE=11]="OUT_OF_RANGE",wh[wh.UNIMPLEMENTED=12]="UNIMPLEMENTED",wh[wh.INTERNAL=13]="INTERNAL",wh[wh.UNAVAILABLE=14]="UNAVAILABLE",wh[wh.DATA_LOSS=15]="DATA_LOSS";var Th=function(){function t(t,e){this.H=t,this.root=e||Ah.EMPTY}return t.prototype.zt=function(e,n){return new t(this.H,this.root.zt(e,n,this.H).copy(null,null,Ah.Ht,null,null))},t.prototype.remove=function(e){return new t(this.H,this.root.remove(e,this.H).copy(null,null,Ah.Ht,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.et();){var n=this.H(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.et();){var r=this.H(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.et=function(){return this.root.et()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Jt=function(){return this.root.Jt()},t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(t){return this.root.Xt(t)},t.prototype.forEach=function(t){this.Xt(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.Xt(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.te=function(){return new xh(this.root,null,this.H,!1)},t.prototype.ee=function(t){return new xh(this.root,t,this.H,!1)},t.prototype.ne=function(){return new xh(this.root,null,this.H,!0)},t.prototype.se=function(t){return new xh(this.root,t,this.H,!0)},t}(),xh=function(){function t(t,e,n,r){this.ie=r,this.re=[];for(var i=1;!t.et();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.ie?t.left:t.right;else{if(0===i){this.re.push(t);break}this.re.push(t),t=this.ie?t.right:t.left}}return t.prototype.oe=function(){var t=this.re.pop(),e={key:t.key,value:t.value};if(this.ie)for(t=t.left;!t.et();)this.re.push(t),t=t.right;else for(t=t.right;!t.et();)this.re.push(t),t=t.left;return e},t.prototype.ce=function(){return this.re.length>0},t.prototype.ae=function(){if(0===this.re.length)return null;var t=this.re[this.re.length-1];return{key:t.key,value:t.value}},t}(),Ah=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.et=function(){return!1},t.prototype.Xt=function(t){return this.left.Xt(t)||t(this.key,this.value)||this.right.Xt(t)},t.prototype.Zt=function(t){return this.right.Zt(t)||t(this.key,this.value)||this.left.Zt(t)},t.prototype.min=function(){return this.left.et()?this:this.left.min()},t.prototype.Jt=function(){return this.min().key},t.prototype.Yt=function(){return this.right.et()?this.key:this.right.Yt()},t.prototype.zt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.zt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.zt(t,e,n))).ue()},t.prototype.he=function(){if(this.left.et())return t.EMPTY;var e=this;return e.left.le()||e.left.left.le()||(e=e._e()),(e=e.copy(null,null,null,e.left.he(),null)).ue()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.et()||i.left.le()||i.left.left.le()||(i=i._e()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.le()&&(i=i.fe()),i.right.et()||i.right.le()||i.right.left.le()||(i=i.de()),0===n(e,i.key)){if(i.right.et())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.he())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.ue()},t.prototype.le=function(){return this.color},t.prototype.ue=function(){var t=this;return t.right.le()&&!t.left.le()&&(t=t.we()),t.left.le()&&t.left.left.le()&&(t=t.fe()),t.left.le()&&t.right.le()&&(t=t.Ee()),t},t.prototype._e=function(){var t=this.Ee();return t.right.left.le()&&(t=(t=(t=t.copy(null,null,null,null,t.right.fe())).we()).Ee()),t},t.prototype.de=function(){var t=this.Ee();return t.left.left.le()&&(t=(t=t.fe()).Ee()),t},t.prototype.we=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.fe=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Ee=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Te=function(){var t=this.Ie();return Math.pow(2,t)<=this.size+1},t.prototype.Ie=function(){if(this.le()&&this.left.le())throw Ju();if(this.right.le())throw Ju();var t=this.left.Ie();if(t!==this.right.Ie())throw Ju();return t+(this.le()?0:1)},t}();Ah.EMPTY=null,Ah.RED=!0,Ah.Ht=!1,Ah.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Ju()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Ju()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Ju()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Ju()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Ju()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.zt=function(t,e,n){return new Ah(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.et=function(){return!0},t.prototype.Xt=function(t){return!1},t.prototype.Zt=function(t){return!1},t.prototype.Jt=function(){return null},t.prototype.Yt=function(){return null},t.prototype.le=function(){return!1},t.prototype.Te=function(){return!0},t.prototype.Ie=function(){return 0},t}());var jh=function(){function t(t){this.H=t,this.data=new Th(this.H)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Jt()},t.prototype.last=function(){return this.data.Yt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Xt(function(e,n){return t(e),!1})},t.prototype.me=function(t,e){for(var n=this.data.ee(t[0]);n.ce();){var r=n.oe();if(this.H(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Ae=function(t,e){var n;for(n=void 0!==e?this.data.ee(e):this.data.te();n.ce();)if(!t(n.oe().key))return},t.prototype.Re=function(t){var e=this.data.ee(t);return e.ce()?e.oe().key:null},t.prototype.te=function(){return new kh(this.data.te())},t.prototype.ee=function(t){return new kh(this.data.ee(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).zt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.et=function(){return this.data.et()},t.prototype.Pe=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.te(),r=e.data.te();n.ce();){var i=n.oe().key,o=r.oe().key;if(0!==this.H(i,o))return!1}return!0},t.prototype.it=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.H);return n.data=e,n},t}(),kh=function(){function t(t){this.ye=t}return t.prototype.oe=function(){return this.ye.oe().key},t.prototype.ce=function(){return this.ye.ce()},t}(),Nh=new Th(Cc.H);function Ph(){return Nh}function Rh(){return Ph()}var Dh=new Th(Cc.H);function Mh(){return Dh}var Vh=new Th(Cc.H);function Lh(){return Vh}var Uh=new jh(Cc.H);function Fh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Uh,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var qh=new jh(ic);function Hh(){return qh}var zh=function(){function t(t){this.H=t?function(e,n){return t(e,n)||Cc.H(e.key,n.key)}:function(t,e){return Cc.H(t.key,e.key)},this.ge=Mh(),this.Ve=new Th(this.H)}return t.pe=function(e){return new t(e.H)},t.prototype.has=function(t){return null!=this.ge.get(t)},t.prototype.get=function(t){return this.ge.get(t)},t.prototype.first=function(){return this.Ve.Jt()},t.prototype.last=function(){return this.Ve.Yt()},t.prototype.et=function(){return this.Ve.et()},t.prototype.indexOf=function(t){var e=this.ge.get(t);return e?this.Ve.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Ve.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Ve.Xt(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.ge.zt(t.key,t),e.Ve.zt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.ge.remove(t),this.Ve.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Ve.te(),r=e.Ve.te();n.ce();){var i=n.oe().key,o=r.oe().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.H=this.H,r.ge=e,r.Ve=n,r},t}(),Bh=function(){function t(){this.be=new Th(Cc.H)}return t.prototype.track=function(t){var e=t.doc.key,n=this.be.get(e);n?0!==t.type&&3===n.type?this.be=this.be.zt(e,t):3===t.type&&1!==n.type?this.be=this.be.zt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.be=this.be.zt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.be=this.be.remove(e):1===t.type&&2===n.type?this.be=this.be.zt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):Ju():this.be=this.be.zt(e,t)},t.prototype.ve=function(){var t=[];return this.be.Xt(function(e,n){t.push(n)}),t},t}(),Gh=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.Se=n,this.docChanges=r,this.De=i,this.fromCache=o,this.Ce=s,this.xe=a}return t.Ne=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,zh.pe(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.De.et()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Ce===t.Ce&&this.De.isEqual(t.De)&&Ml(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Se.isEqual(t.Se)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),$h=function(){function t(t,e,n,r,i){this.Ot=t,this.$e=e,this.Fe=n,this.Oe=r,this.ke=i}return t.Me=function(e,n){var r=new Map;return r.set(e,Wh.Le(e,n)),new t(bc.min(),r,Hh(),Ph(),Fh())},t}(),Wh=function(){function t(t,e,n,r,i){this.resumeToken=t,this.Be=e,this.qe=n,this.Ue=r,this.Qe=i}return t.Le=function(e,n){return new t(ac.T,n,Fh(),Fh(),Fh())},t}(),Kh=function(t,e,n,r){this.Ke=t,this.removedTargetIds=e,this.key=n,this.We=r},Qh=function(t,e){this.targetId=t,this.je=e},Xh=function(t,e,n,r){void 0===n&&(n=ac.T),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Yh=function(){function t(){this.Ge=0,this.ze=tf(),this.He=ac.T,this.Je=!1,this.Ye=!0}return Object.defineProperty(t.prototype,"Be",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.He},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Xe",{get:function(){return 0!==this.Ge},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),t.prototype.tn=function(t){t.l()>0&&(this.Ye=!0,this.He=t)},t.prototype.en=function(){var t=Fh(),e=Fh(),n=Fh();return this.ze.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Ju()}}),new Wh(this.He,this.Je,t,e,n)},t.prototype.nn=function(){this.Ye=!1,this.ze=tf()},t.prototype.sn=function(t,e){this.Ye=!0,this.ze=this.ze.zt(t,e)},t.prototype.rn=function(t){this.Ye=!0,this.ze=this.ze.remove(t)},t.prototype.on=function(){this.Ge+=1},t.prototype.cn=function(){this.Ge-=1},t.prototype.an=function(){this.Ye=!0,this.Je=!0},t}(),Zh=function(){function t(t){this.un=t,this.hn=new Map,this.ln=Ph(),this._n=Jh(),this.fn=new jh(ic)}return t.prototype.dn=function(t){for(var e=0,n=t.Ke;e<n.length;e++){var r=n[e];t.We instanceof nl?this.wn(r,t.We):t.We instanceof rl&&this.En(r,t.key,t.We)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.En(r=o[i],t.key,t.We)},t.prototype.Tn=function(t){var e=this;this.In(t,function(n){var r=e.mn(n);switch(t.state){case 0:e.An(n)&&r.tn(t.resumeToken);break;case 1:r.cn(),r.Xe||r.nn(),r.tn(t.resumeToken);break;case 2:r.cn(),r.Xe||e.removeTarget(n);break;case 3:e.An(n)&&(r.an(),r.tn(t.resumeToken));break;case 4:e.An(n)&&(e.Rn(n),r.tn(t.resumeToken));break;default:Ju()}})},t.prototype.In=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.hn.forEach(function(t,r){n.An(r)&&e(r)})},t.prototype.Pn=function(t){var e=t.targetId,n=t.je.count,r=this.yn(e);if(r){var i=r.target;if(cl(i))if(0===n){var o=new Cc(i.path);this.En(e,o,new rl(o,bc.min()))}else tc(1===n);else this.gn(e)!==n&&(this.Rn(e),this.fn=this.fn.add(e))}},t.prototype.Vn=function(t){var e=this,n=new Map;this.hn.forEach(function(r,i){var o=e.yn(i);if(o){if(r.Be&&cl(o.target)){var s=new Cc(o.target.path);null!==e.ln.get(s)||e.pn(i,s)||e.En(i,s,new rl(s,t))}r.Ze&&(n.set(i,r.en()),r.nn())}});var r=Fh();this._n.forEach(function(t,n){var i=!0;n.Ae(function(t){var n=e.yn(t);return!n||2===n.Ft||(i=!1,!1)}),i&&(r=r.add(t))});var i=new $h(t,n,this.fn,this.ln,r);return this.ln=Ph(),this._n=Jh(),this.fn=new jh(ic),i},t.prototype.wn=function(t,e){if(this.An(t)){var n=this.pn(t,e.key)?2:0;this.mn(t).sn(e.key,n),this.ln=this.ln.zt(e.key,e),this._n=this._n.zt(e.key,this.bn(e.key).add(t))}},t.prototype.En=function(t,e,n){if(this.An(t)){var r=this.mn(t);this.pn(t,e)?r.sn(e,1):r.rn(e),this._n=this._n.zt(e,this.bn(e).delete(t)),n&&(this.ln=this.ln.zt(e,n))}},t.prototype.removeTarget=function(t){this.hn.delete(t)},t.prototype.gn=function(t){var e=this.mn(t).en();return this.un.vn(t).size+e.qe.size-e.Qe.size},t.prototype.on=function(t){this.mn(t).on()},t.prototype.mn=function(t){var e=this.hn.get(t);return e||(e=new Yh,this.hn.set(t,e)),e},t.prototype.bn=function(t){var e=this._n.get(t);return e||(e=new jh(ic),this._n=this._n.zt(t,e)),e},t.prototype.An=function(t){var e=null!==this.yn(t);return e||Qu("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.yn=function(t){var e=this.hn.get(t);return e&&e.Xe?null:this.un.Sn(t)},t.prototype.Rn=function(t){var e=this;this.hn.set(t,new Yh),this.un.vn(t).forEach(function(n){e.En(t,n,null)})},t.prototype.pn=function(t,e){return this.un.vn(t).has(e)},t}();function Jh(){return new Th(Cc.H)}function tf(){return new Th(Cc.H)}var ef={asc:"ASCENDING",desc:"DESCENDING"},nf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rf=function(t,e){this.t=t,this.Bt=e};function of(t,e){return t.Bt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function sf(t,e){return t.Bt?e.toBase64():e.toUint8Array()}function af(t,e){return of(t,e.j())}function uf(t){return tc(!!t),bc.K(function(t){var e=jc(t);return new mc(e.seconds,e.nanos)}(t))}function cf(t,e){return function(t){return new wc(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).rt()}function lf(t){var e=wc.ot(t);return tc(Rf(e)),e}function hf(t,e){return cf(t.t,e.path)}function ff(t,e){var n=lf(e);if(n.get(1)!==t.t.projectId)throw new cc(uc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new cc(uc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new Cc(vf(n))}function df(t,e){return cf(t.t,e)}function pf(t){var e=lf(t);return 4===e.length?wc.ct():vf(e)}function gf(t){return new wc(["projects",t.t.projectId,"databases",t.t.database]).rt()}function vf(t){return tc(t.length>4&&"documents"===t.get(4)),t.Y(5)}function yf(t,e,n){return{name:hf(t,e),fields:n.proto.mapValue.fields}}function mf(t,e,n){var r=ff(t,e.name),i=uf(e.updateTime),o=new Zc({mapValue:{fields:e.fields}});return new nl(r,i,o,{hasCommittedMutations:!!n})}function bf(t,e){var n;if(e instanceof ph)n={update:yf(t,e.key,e.value)};else if(e instanceof Oh)n={delete:hf(t,e.key)};else if(e instanceof gh)n={update:yf(t,e.key,e.data),updateMask:Pf(e.Gt)};else{if(!(e instanceof Eh))return Ju();n={verify:hf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Xl)return{fieldPath:e.field.rt(),setToServerValue:"REQUEST_TIME"};if(n instanceof Yl)return{fieldPath:e.field.rt(),appendMissingElements:{values:n.elements}};if(n instanceof Jl)return{fieldPath:e.field.rt(),removeAllFromArray:{values:n.elements}};if(n instanceof eh)return{fieldPath:e.field.rt(),increment:n.Ut};throw Ju()}(0,t)})),e.jt.Wt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:af(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Ju()}(t,e.jt)),n}function _f(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?sh.updateTime(uf(t.updateTime)):void 0!==t.exists?sh.exists(t.exists):sh.Kt()}(e.currentDocument):sh.Kt(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(tc("REQUEST_TIME"===e.setToServerValue),n=new Xl):"appendMissingElements"in e?n=new Yl(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Jl(e.removeAllFromArray.values||[]):"increment"in e?n=new eh(t,e.increment):Ju();var r=Ec.lt(e.fieldPath);return new ih(r,n)}(t,e)}):[];if(e.update){var i=ff(t,e.update.name),o=new Zc({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new xc((t.fieldPaths||[]).map(function(t){return Ec.lt(t)}))}(e.updateMask);return new gh(i,o,s,n,r)}return new ph(i,o,n,r)}if(e.delete){var a=ff(t,e.delete);return new Oh(a,n)}if(e.verify){var u=ff(t,e.verify);return new Eh(u,n)}return Ju()}function wf(t,e){return{documents:[df(t,e.path)]}}function Of(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=df(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=df(t,r.X()),n.structuredQuery.from=[{collectionId:r.tt()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Xc(t.value))return{unaryFilter:{field:Af(t.field),op:"IS_NAN"}};if(Qc(t.value))return{unaryFilter:{field:Af(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Xc(t.value))return{unaryFilter:{field:Af(t.field),op:"IS_NOT_NAN"}};if(Qc(t.value))return{unaryFilter:{field:Af(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Af(t.field),op:xf(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Af(t.field),direction:Tf(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.Bt||Mc(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=If(e.startAt)),e.endAt&&(n.structuredQuery.endAt=If(e.endAt)),n}function Ef(t){var e=pf(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){tc(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=Cf(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new wl(jf(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return Mc(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Sf(n.startAt));var l=null;return n.endAt&&(l=Sf(n.endAt)),Sl(e,i,a,s,u,"F",c,l)}function Cf(t){return t?void 0!==t.unaryFilter?[Nf(t)]:void 0!==t.fieldFilter?[kf(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Cf(t)}).reduce(function(t,e){return t.concat(e)}):Ju():[]}function If(t){return{before:t.before,values:t.position}}function Sf(t){return new bl(t.values||[],!!t.before)}function Tf(t){return ef[t]}function xf(t){return nf[t]}function Af(t){return{fieldPath:t.rt()}}function jf(t){return Ec.lt(t.fieldPath)}function kf(t){return ll.create(jf(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Ju()}}(t.fieldFilter.op),t.fieldFilter.value)}function Nf(t){switch(t.unaryFilter.op){case"IS_NAN":var e=jf(t.unaryFilter.field);return ll.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=jf(t.unaryFilter.field);return ll.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=jf(t.unaryFilter.field);return ll.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=jf(t.unaryFilter.field);return ll.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ju()}}function Pf(t){var e=[];return t.fields.forEach(function(t){return e.push(t.rt())}),{fieldPaths:e}}function Rf(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Df=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Mf=function(){function t(t){var e=this;this.Dn=null,this.Cn=null,this.result=void 0,this.error=void 0,this.xn=!1,this.Nn=!1,t(function(t){e.xn=!0,e.result=t,e.Dn&&e.Dn(t)},function(t){e.xn=!0,e.error=t,e.Cn&&e.Cn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Nn&&Ju(),this.Nn=!0,this.xn?this.error?this.$n(n,this.error):this.Fn(e,this.result):new t(function(t,i){r.Dn=function(n){r.Fn(e,n).next(t,i)},r.Cn=function(e){r.$n(n,e).next(t,i)}})},t.prototype.On=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.kn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Fn=function(e,n){return e?this.kn(function(){return e(n)}):t.resolve(n)},t.prototype.$n=function(e,n){return e?this.kn(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.Mn=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.Ln=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.Mn(r)},t}(),Vf=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Bn=new Df,this.transaction.oncomplete=function(){n.Bn.resolve()},this.transaction.onabort=function(){e.error?n.Bn.reject(new Ff(t,e.error)):n.Bn.resolve()},this.transaction.onerror=function(e){var r=Gf(e.target.error);n.Bn.reject(new Ff(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Ff(n,e)}},Object.defineProperty(t.prototype,"qn",{get:function(){return this.Bn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Bn.reject(t),this.aborted||(Qu("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Hf(e)},t}(),Lf=function(){function t(e,n,r){this.name=e,this.version=n,this.Un=r,12.2===t.Qn(Object(qi.g)())&&Xu("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Qu("SimpleDb","Removing database:",t),zf(window.indexedDB.deleteDatabase(t)).On()},t.Kn=function(){if("undefined"==typeof indexedDB)return!1;if(t.Wn())return!0;var e=Object(qi.g)(),n=t.Qn(e),r=0<n&&n<10,i=t.jn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Wn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Gn)},t.zn=function(t,e){return t.store(e)},t.Qn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.jn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Hn=function(t){return Object(Bu.b)(this,void 0,void 0,function(){var e,n=this;return Object(Bu.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Qu("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Ff(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new cc(uc.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Ff(t,n))},i.onupgradeneeded=function(t){Qu("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Un.Jn(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){Qu("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Yn&&(this.db.onversionchange=function(t){return n.Yn(t)}),this.db)]}})})},t.prototype.Xn=function(t){this.Yn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Bu.b)(this,void 0,void 0,function(){var i,o,s,a,u;return Object(Bu.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return Object(Bu.d)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Hn(t)];case 2:return a.db=h.sent(),e=Vf.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),Mf.reject(t)}).On(),u={},s.catch(function(){}),[4,e.qn];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return Qu("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Uf=function(){function t(t){this.Zn=t,this.ts=!1,this.es=null}return Object.defineProperty(t.prototype,"xn",{get:function(){return this.ts},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ns",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Zn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.ts=!0},t.prototype.ss=function(t){this.es=t},t.prototype.delete=function(){return zf(this.Zn.delete())},t}(),Ff=function(t){function e(e,n){var r=this;return(r=t.call(this,uc.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Bu.c)(e,t),e}(cc);function qf(t){return"IndexedDbTransactionError"===t.name}var Hf=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Qu("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Qu("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),zf(n)},t.prototype.add=function(t){return Qu("SimpleDb","ADD",this.store.name,t,t),zf(this.store.add(t))},t.prototype.get=function(t){var e=this;return zf(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Qu("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return Qu("SimpleDb","DELETE",this.store.name,t),zf(this.store.delete(t))},t.prototype.count=function(){return Qu("SimpleDb","COUNT",this.store.name),zf(this.store.count())},t.prototype.rs=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.os(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.cs=function(t,e){Qu("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.us=!1;var r=this.cursor(n);return this.os(r,function(t,e,n){return n.delete()})},t.prototype.hs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.os(r,e)},t.prototype.ls=function(t){var e=this.cursor({});return new Mf(function(n,r){e.onerror=function(t){var e=Gf(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.os=function(t,e){var n=[];return new Mf(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Uf(i),s=e(i.primaryKey,i.value,o);if(s instanceof Mf){var a=s.catch(function(t){return o.done(),Mf.reject(t)});n.push(a)}o.xn?r():null===o.ns?i.continue():i.continue(o.ns)}else r()}}).next(function(){return Mf.Mn(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.us?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function zf(t){return new Mf(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Gf(t.target.error);n(e)}})}var Bf=!1;function Gf(t){var e=Lf.Qn(Object(qi.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new cc("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Bf||(Bf=!0,setTimeout(function(){throw r},0)),r}}return t}var $f=function(){function t(t,e,n,r,i){this._s=t,this.fs=e,this.ds=n,this.op=r,this.ws=i,this.Es=new Df,this.then=this.Es.promise.then.bind(this.Es.promise),this.Es.promise.catch(function(t){})}return t.Ts=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.Is=setTimeout(function(){return e.As()},t)},t.prototype.Rs=function(){return this.As()},t.prototype.cancel=function(t){null!==this.Is&&(this.clearTimeout(),this.Es.reject(new cc(uc.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.As=function(){var t=this;this._s.Ps(function(){return null!==t.Is?(t.clearTimeout(),t.op().then(function(e){return t.Es.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.Is&&(this.ws(this),clearTimeout(this.Is),this.Is=null)},t}();function Wf(t,e){if(Xu("AsyncQueue",e+": "+t),qf(t))return new cc(uc.UNAVAILABLE,e+": "+t);throw t}var Kf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Qf=function(){function t(){this.ys=[]}return t.prototype.gs=function(t){this.ys.push(t)},t.prototype.Vs=function(){this.ys.forEach(function(t){return t()})},t}();function Xf(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Zf(e)),e=Yf(t.get(n),e);return Zf(e)}function Yf(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Zf(t){return t+"\x01\x01"}function Jf(t){var e=t.length;if(tc(e>=2),2===e)return tc("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),wc.ct();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&Ju(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Ju()}o=s+2}return new wc(r)}var td=function(t,e){this.seconds=t,this.nanoseconds=e},ed=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};ed.store="owner",ed.key="owner";var nd=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};nd.store="mutationQueues",nd.keyPath="userId";var rd=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};rd.store="mutations",rd.keyPath="batchId",rd.userMutationsIndex="userMutationsIndex",rd.userMutationsKeyPath=["userId","batchId"];var id=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Xf(e)]},t.key=function(t,e,n){return[t,Xf(e),n]},t}();id.store="documentMutations",id.PLACEHOLDER=new id;var od=function(t,e){this.path=t,this.readTime=e},sd=function(t,e){this.path=t,this.version=e},ad=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};ad.store="remoteDocuments",ad.readTimeIndex="readTimeIndex",ad.readTimeIndexPath="readTime",ad.collectionReadTimeIndex="collectionReadTimeIndex",ad.collectionReadTimeIndexPath=["parentPath","readTime"];var ud=function(t){this.byteSize=t};ud.store="remoteDocumentGlobal",ud.key="remoteDocumentGlobalKey";var cd=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};cd.store="targets",cd.keyPath="targetId",cd.queryTargetsIndexName="queryTargetsIndex",cd.queryTargetsKeyPath=["canonicalId","targetId"];var ld=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};ld.store="targetDocuments",ld.keyPath=["targetId","path"],ld.documentTargetsIndex="documentTargetsIndex",ld.documentTargetsKeyPath=["path","targetId"];var hd=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};hd.key="targetGlobalKey",hd.store="targetGlobal";var fd=function(t,e){this.collectionId=t,this.parent=e};fd.store="collectionParents",fd.keyPath=["collectionId","parent"];var dd=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};dd.store="clientMetadata",dd.keyPath="clientId";var pd=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};pd.store="bundles",pd.keyPath="bundleId";var gd=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};gd.store="namedQueries",gd.keyPath="name";var vd=Object(Bu.g)(Object(Bu.g)(Object(Bu.g)(Object(Bu.g)([nd.store,rd.store,id.store,ad.store,cd.store,ed.store,hd.store,ld.store],[dd.store]),[ud.store]),[fd.store]),[pd.store,gd.store]),yd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ps=e,r.bs=n,r}return Object(Bu.c)(e,t),e}(Qf);function md(t,e){var n=ec(t);return Lf.zn(n.ps,e)}var bd=function(){function t(t,e,n,r){this.batchId=t,this.vs=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ss=function(t,e,n){for(var r=n.Ds,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=ch(o,e,r[i]))}return e},t.prototype.Cs=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(t)&&(e=lh(s,e,this.vs));for(var i=0,o=this.mutations;i<o.length;i++){var s;(s=o[i]).key.isEqual(t)&&(e=lh(s,e,this.vs))}return e},t.prototype.xs=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.Cs(r.key,t.get(r.key));i&&(n=n.zt(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Fh())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&oc(this.mutations,t.mutations,function(t,e){return fh(t,e)})&&oc(this.baseMutations,t.baseMutations,function(t,e){return fh(t,e)})},t}(),_d=function(){function t(t,e,n,r){this.batch=t,this.Ns=e,this.Ds=n,this.$s=r}return t.from=function(e,n,r){tc(e.mutations.length===r.length);for(var i=Lh(),o=e.mutations,s=0;s<o.length;s++)i=i.zt(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),wd=function(t){this.Fs=t};function Od(t,e){if(e.document)return mf(t.Fs,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Cc.Et(e.noDocument.path),r=Td(e.noDocument.readTime);return new rl(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Cc.Et(e.unknownDocument.path);return r=Td(e.unknownDocument.version),new il(i,r)}return Ju()}function Ed(t,e,n){var r=Cd(n),i=e.key.path.X().it();if(e instanceof nl){var o=function(t,e){return{name:hf(t,e.key),fields:e.bt().mapValue.fields,updateTime:of(t,e.version.j())}}(t.Fs,e),s=e.hasCommittedMutations;return new ad(null,null,o,s,r,i)}if(e instanceof rl){var a=e.key.path.it(),u=Sd(e.version);return s=e.hasCommittedMutations,new ad(null,new od(a,u),null,s,r,i)}if(e instanceof il){var c=e.key.path.it(),l=Sd(e.version);return new ad(new sd(c,l),null,null,!0,r,i)}return Ju()}function Cd(t){var e=t.j();return[e.seconds,e.nanoseconds]}function Id(t){var e=new mc(t[0],t[1]);return bc.K(e)}function Sd(t){var e=t.j();return new td(e.seconds,e.nanoseconds)}function Td(t){var e=new mc(t.seconds,t.nanoseconds);return bc.K(e)}function xd(t,e){for(var n=(e.baseMutations||[]).map(function(e){return _f(t.Fs,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return _f(t.Fs,e)}),o=mc.fromMillis(e.localWriteTimeMs);return new bd(e.batchId,o,n,i)}function Ad(t){var e,n,r=Td(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Td(t.lastLimboFreeSnapshotVersion):bc.min();return void 0!==t.query.documents?(tc(1===(n=t.query).documents.length),e=Rl(Tl(pf(n.documents[0])))):e=function(t){return Rl(Ef(t))}(t.query),new Hl(e,t.targetId,0,t.lastListenSequenceNumber,r,i,ac.fromBase64String(t.resumeToken))}function jd(t,e){var n,r=Sd(e.Ot),i=Sd(e.lastLimboFreeSnapshotVersion);n=cl(e.target)?wf(t.Fs,e.target):Of(t.Fs,e.target);var o=e.resumeToken.toBase64();return new cd(e.targetId,al(e.target),r,o,e.sequenceNumber,i,n)}function kd(t){var e=Ef({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Dl(e,e.limit,"L"):e}var Nd=function(){function t(){}return t.prototype.Os=function(t,e){return Pd(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Td(e.createTime),version:e.version};var e})},t.prototype.ks=function(t,e){return Pd(t).put({bundleId:(n=e).id,createTime:Sd(uf(n.createTime)),version:n.version});var n},t.prototype.Ms=function(t,e){return Rd(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:kd(e.bundledQuery),readTime:Td(e.readTime)};var e})},t.prototype.Ls=function(t,e){return Rd(t).put(function(t){return{name:t.name,readTime:Sd(uf(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Pd(t){return md(t,pd.store)}function Rd(t){return md(t,gd.store)}var Dd=function(){function t(){this.Bs=new Md}return t.prototype.qs=function(t,e){return this.Bs.add(e),Mf.resolve()},t.prototype.Us=function(t,e){return Mf.resolve(this.Bs.getEntries(e))},t}(),Md=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.tt(),n=t.X(),r=this.index[e]||new jh(wc.H),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.tt(),n=t.X(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new jh(wc.H)).it()},t}(),Vd=function(){function t(){this.Qs=new Md}return t.prototype.qs=function(t,e){var n=this;if(!this.Qs.has(e)){var r=e.tt(),i=e.X();t.gs(function(){n.Qs.add(e)});var o={collectionId:r,parent:Xf(i)};return Ld(t).put(o)}return Mf.resolve()},t.prototype.Us=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[sc(e),""],!1,!0);return Ld(t).rs(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Jf(o.parent))}return n})},t}();function Ld(t){return md(t,fd.store)}var Ud={Ks:!1,Ws:0,js:0,Gs:0},Fd=function(){function t(t,e,n){this.zs=t,this.Hs=e,this.Js=n}return t.Ys=function(e){return new t(e,t.Xs,t.Zs)},t}();function qd(t){return Object(Bu.b)(this,void 0,void 0,function(){return Object(Bu.d)(this,function(e){if(t.code!==uc.FAILED_PRECONDITION||t.message!==Kf)throw t;return Qu("LocalStore","Unexpectedly lost primary lease"),[2]})})}Fd.Xs=10,Fd.Zs=1e3,Fd.ti=new Fd(41943040,Fd.Xs,Fd.Zs),Fd.ei=new Fd(-1,0,0);var Hd=function(){function t(t,e){this.ni=t,this.si=e,this.ii={}}return t.prototype.get=function(t){var e=this.ni(t),n=this.ii[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.si(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.ni(t),r=this.ii[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.si(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.ii[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.ni(t),n=this.ii[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.si(n[r][0],t))return 1===n.length?delete this.ii[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Sc(this.ii,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.et=function(){return Tc(this.ii)},t}(),zd=function(){function t(){this.ri=new Hd(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.oi=!1}return t.prototype.ci=function(t){var e=this.ri.get(t);return e?e.readTime:bc.min()},t.prototype.ai=function(t,e){this.ui(),this.ri.set(t.key,{hi:t,readTime:e})},t.prototype.li=function(t,e){void 0===e&&(e=null),this.ui(),this.ri.set(t,{hi:null,readTime:e})},t.prototype._i=function(t,e){this.ui();var n=this.ri.get(e);return void 0!==n?Mf.resolve(n.hi):this.fi(t,e)},t.prototype.getEntries=function(t,e){return this.di(t,e)},t.prototype.apply=function(t){return this.ui(),this.oi=!0,this.wi(t)},t.prototype.ui=function(){},t}();function Bd(t,e,n){var r=t.store(rd.store),i=t.store(id.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.hs({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){tc(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=id.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Mf.Mn(o).next(function(){return c})}function Gd(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ju();e=t.noDocument}return JSON.stringify(e).length}var $d=function(){function t(t,e,n,r){this.userId=t,this.Qt=e,this.Ei=n,this.Ti=r,this.Ii={}}return t.mi=function(e,n,r,i){return tc(""!==e.uid),new t(e.m()?e.uid:"",n,r,i)},t.prototype.Ai=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Kd(t).hs({index:rd.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.Ri=function(t,e,n,r){var i=this,o=Qd(t),s=Kd(t);return s.add({}).next(function(a){tc("number"==typeof a);for(var u=new bd(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return bf(t.Fs,e)}),i=n.mutations.map(function(e){return bf(t.Fs,e)});return new rd(e,n.batchId,n.vs.toMillis(),r,i)}(i.Qt,i.userId,u),l=[],h=new jh(function(t,e){return ic(t.rt(),e.rt())}),f=0,d=r;f<d.length;f++){var p=d[f],g=id.key(i.userId,p.key.path,a);h=h.add(p.key.path.X()),l.push(s.put(c)),l.push(o.put(g,id.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ei.qs(t,e))}),t.gs(function(){i.Ii[a]=u.keys()}),Mf.Mn(l).next(function(){return u})})},t.prototype.Pi=function(t,e){var n=this;return Kd(t).get(e).next(function(t){return t?(tc(t.userId===n.userId),xd(n.Qt,t)):null})},t.prototype.yi=function(t,e){var n=this;return this.Ii[e]?Mf.resolve(this.Ii[e]):this.Pi(t,e).next(function(t){if(t){var r=t.keys();return n.Ii[e]=r,r}return null})},t.prototype.gi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Kd(t).hs({index:rd.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(tc(e.batchId>=r),o=xd(n.Qt,e)),i.done()}).next(function(){return o})},t.prototype.Vi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Kd(t).hs({index:rd.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.pi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Kd(t).rs(rd.userMutationsIndex,n).next(function(t){return t.map(function(t){return xd(e.Qt,t)})})},t.prototype.bi=function(t,e){var n=this,r=id.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Qd(t).hs({range:i},function(r,i,s){var a=r[0],u=r[2],c=Jf(r[1]);if(a===n.userId&&e.path.isEqual(c))return Kd(t).get(u).next(function(t){if(!t)throw Ju();tc(t.userId===n.userId),o.push(xd(n.Qt,t))});s.done()}).next(function(){return o})},t.prototype.vi=function(t,e){var n=this,r=new jh(ic),i=[];return e.forEach(function(e){var o=id.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Qd(t).hs({range:s},function(t,i,o){var s=t[0],a=t[2],u=Jf(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),Mf.Mn(i).next(function(){return n.Si(t,r)})},t.prototype.Di=function(t,e){var n=this,r=e.path,i=r.length+1,o=id.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new jh(ic);return Qd(t).hs({range:s},function(t,e,o){var s=t[0],u=t[2],c=Jf(t[1]);s===n.userId&&r.nt(c)?c.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.Si(t,a)})},t.prototype.Si=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Kd(t).get(e).next(function(t){if(null===t)throw Ju();tc(t.userId===n.userId),r.push(xd(n.Qt,t))}))}),Mf.Mn(i).next(function(){return r})},t.prototype.Ci=function(t,e){var n=this;return Bd(t.ps,this.userId,e).next(function(r){return t.gs(function(){n.xi(e.batchId)}),Mf.forEach(r,function(e){return n.Ti.Ni(t,e)})})},t.prototype.xi=function(t){delete this.Ii[t]},t.prototype.$i=function(t){var e=this;return this.Ai(t).next(function(n){if(!n)return Mf.resolve();var r=IDBKeyRange.lowerBound(id.prefixForUser(e.userId)),i=[];return Qd(t).hs({range:r},function(t,n,r){if(t[0]===e.userId){var o=Jf(t[1]);i.push(o)}else r.done()}).next(function(){tc(0===i.length)})})},t.prototype.Fi=function(t,e){return Wd(t,this.userId,e)},t.prototype.Oi=function(t){var e=this;return Xd(t).get(this.userId).next(function(t){return t||new nd(e.userId,-1,"")})},t}();function Wd(t,e,n){var r=id.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Qd(t).hs({range:o,us:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function Kd(t){return md(t,rd.store)}function Qd(t){return md(t,id.store)}function Xd(t){return md(t,nd.store)}var Yd=function(){function t(t){this.ki=t}return t.prototype.next=function(){return this.ki+=2,this.ki},t.Mi=function(){return new t(0)},t.Li=function(){return new t(-1)},t}(),Zd=function(){function t(t,e){this.Ti=t,this.Qt=e}return t.prototype.Bi=function(t){var e=this;return this.qi(t).next(function(n){var r=new Yd(n.highestTargetId);return n.highestTargetId=r.next(),e.Ui(t,n).next(function(){return n.highestTargetId})})},t.prototype.Qi=function(t){return this.qi(t).next(function(t){return bc.K(new mc(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.Ki=function(t){return this.qi(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.Wi=function(t,e,n){var r=this;return this.qi(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.j()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ui(t,i)})},t.prototype.ji=function(t,e){var n=this;return this.Gi(t,e).next(function(){return n.qi(t).next(function(r){return r.targetCount+=1,n.zi(e,r),n.Ui(t,r)})})},t.prototype.Hi=function(t,e){return this.Gi(t,e)},t.prototype.Ji=function(t,e){var n=this;return this.Yi(t,e.targetId).next(function(){return Jd(t).delete(e.targetId)}).next(function(){return n.qi(t)}).next(function(e){return tc(e.targetCount>0),e.targetCount-=1,n.Ui(t,e)})},t.prototype.Xi=function(t,e,n){var r=this,i=0,o=[];return Jd(t).hs(function(s,a){var u=Ad(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Ji(t,u)))}).next(function(){return Mf.Mn(o)}).next(function(){return i})},t.prototype.In=function(t,e){return Jd(t).hs(function(t,n){var r=Ad(n);e(r)})},t.prototype.qi=function(t){return tp(t).get(hd.key).next(function(t){return tc(null!==t),t})},t.prototype.Ui=function(t,e){return tp(t).put(hd.key,e)},t.prototype.Gi=function(t,e){return Jd(t).put(jd(this.Qt,e))},t.prototype.zi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.Zi=function(t){return this.qi(t).next(function(t){return t.targetCount})},t.prototype.tr=function(t,e){var n=al(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Jd(t).hs({range:r,index:cd.queryTargetsIndexName},function(t,n,r){var o=Ad(n);ul(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.er=function(t,e,n){var r=this,i=[],o=ep(t);return e.forEach(function(e){var s=Xf(e.path);i.push(o.put(new ld(n,s))),i.push(r.Ti.nr(t,n,e))}),Mf.Mn(i)},t.prototype.sr=function(t,e,n){var r=this,i=ep(t);return Mf.forEach(e,function(e){var o=Xf(e.path);return Mf.Mn([i.delete([n,o]),r.Ti.ir(t,n,e)])})},t.prototype.Yi=function(t,e){var n=ep(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.rr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=ep(t),i=Fh();return r.hs({range:n,us:!0},function(t,e,n){var r=Jf(t[1]),o=new Cc(r);i=i.add(o)}).next(function(){return i})},t.prototype.Fi=function(t,e){var n=Xf(e.path),r=IDBKeyRange.bound([n],[sc(n)],!1,!0),i=0;return ep(t).hs({index:ld.documentTargetsIndex,us:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Sn=function(t,e){return Jd(t).get(e).next(function(t){return t?Ad(t):null})},t}();function Jd(t){return md(t,cd.store)}function tp(t){return md(t,hd.store)}function ep(t){return md(t,ld.store)}function np(t,e){var n=t[1],r=e[1],i=ic(t[0],e[0]);return 0===i?ic(n,r):i}var rp=function(){function t(t){this.cr=t,this.buffer=new jh(np),this.ar=0}return t.prototype.ur=function(){return++this.ar},t.prototype.hr=function(t){var e=[t,this.ur()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();np(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),ip=function(){function t(t,e){this.lr=t,this._s=e,this._r=!1,this.dr=null}return t.prototype.start=function(t){-1!==this.lr.params.zs&&this.wr(t)},t.prototype.stop=function(){this.dr&&(this.dr.cancel(),this.dr=null)},Object.defineProperty(t.prototype,"Er",{get:function(){return null!==this.dr},enumerable:!1,configurable:!0}),t.prototype.wr=function(t){var e=this,n=this._r?3e5:6e4;Qu("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.dr=this._s.Tr("lru_garbage_collection",n,function(){return Object(Bu.b)(e,void 0,void 0,function(){var e;return Object(Bu.d)(this,function(n){switch(n.label){case 0:this.dr=null,this._r=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Ir(this.lr)];case 2:return n.sent(),[3,7];case 3:return qf(e=n.sent())?(Qu("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,qd(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.wr(t)];case 8:return n.sent(),[2]}})})})},t}(),op=function(){function t(t,e){this.mr=t,this.params=e}return t.prototype.Ar=function(t,e){return this.mr.Rr(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.Pr=function(t,e){var n=this;if(0===e)return Mf.resolve(yc.q);var r=new rp(e);return this.mr.In(t,function(t){return r.hr(t.sequenceNumber)}).next(function(){return n.mr.yr(t,function(t){return r.hr(t)})}).next(function(){return r.maxValue})},t.prototype.Xi=function(t,e,n){return this.mr.Xi(t,e,n)},t.prototype.gr=function(t,e){return this.mr.gr(t,e)},t.prototype.Vr=function(t,e){var n=this;return-1===this.params.zs?(Qu("LruGarbageCollector","Garbage collection skipped; disabled"),Mf.resolve(Ud)):this.pr(t).next(function(r){return r<n.params.zs?(Qu("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.zs),Ud):n.br(t,e)})},t.prototype.pr=function(t){return this.mr.pr(t)},t.prototype.br=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.Ar(t,this.params.Hs).next(function(e){return e>c.params.Js?(Qu("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Js+" from "+e),r=c.params.Js):r=e,o=Date.now(),c.Pr(t,r)}).next(function(r){return n=r,s=Date.now(),c.Xi(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.gr(t,n)}).next(function(t){return u=Date.now(),Ku()<=Fi.a.DEBUG&&Qu("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),Mf.resolve({Ks:!0,Ws:r,js:i,Gs:t})})},t}(),sp=function(){function t(t,e){this.db=t,this.lr=function(t,e){return new op(t,e)}(this,e)}return t.prototype.Rr=function(t){var e=this.vr(t);return this.db.Sr().Zi(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.vr=function(t){var e=0;return this.yr(t,function(t){e++}).next(function(){return e})},t.prototype.In=function(t,e){return this.db.Sr().In(t,e)},t.prototype.yr=function(t,e){return this.Dr(t,function(t,n){return e(n)})},t.prototype.nr=function(t,e,n){return ap(t,n)},t.prototype.ir=function(t,e,n){return ap(t,n)},t.prototype.Xi=function(t,e,n){return this.db.Sr().Xi(t,e,n)},t.prototype.Ni=function(t,e){return ap(t,e)},t.prototype.Cr=function(t,e){return function(t,e){var n=!1;return Xd(t).ls(function(r){return Wd(t,r,e).next(function(t){return t&&(n=!0),Mf.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.gr=function(t,e){var n=this,r=this.db.$r().Nr(),i=[],o=0;return this.Dr(t,function(s,a){if(a<=e){var u=n.Cr(t,s).next(function(e){if(!e)return o++,r._i(t,s).next(function(){return r.li(s),ep(t).delete([0,Xf(s.path)])})});i.push(u)}}).next(function(){return Mf.Mn(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.kt(t.bs);return this.db.Sr().Hi(t,n)},t.prototype.Fr=function(t,e){return ap(t,e)},t.prototype.Dr=function(t,e){var n,r=ep(t),i=yc.q;return r.hs({index:ld.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==yc.q&&e(new Cc(Jf(n)),i),i=s,n=o):i=yc.q}).next(function(){i!==yc.q&&e(new Cc(Jf(n)),i)})},t.prototype.pr=function(t){return this.db.$r().Or(t)},t}();function ap(t,e){return ep(t).put(function(t,e){return new ld(0,Xf(t.path),e)}(e,t.bs))}var up=function(){function t(t,e){this.Qt=t,this.Ei=e}return t.prototype.ai=function(t,e,n){return hp(t).put(fp(e),n)},t.prototype.li=function(t,e){var n=hp(t),r=fp(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.kr(t,r)})},t.prototype._i=function(t,e){var n=this;return hp(t).get(fp(e)).next(function(t){return n.Mr(t)})},t.prototype.Lr=function(t,e){var n=this;return hp(t).get(fp(e)).next(function(t){var e=n.Mr(t);return e?{hi:e,size:Gd(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=Rh();return this.Br(t,e,function(t,e){var i=n.Mr(e);r=r.zt(t,i)}).next(function(){return r})},t.prototype.qr=function(t,e){var n=this,r=Rh(),i=new Th(Cc.H);return this.Br(t,e,function(t,e){var o=n.Mr(e);o?(r=r.zt(t,o),i=i.zt(t,Gd(e))):(r=r.zt(t,null),i=i.zt(t,0))}).next(function(){return{Ur:r,Qr:i}})},t.prototype.Br=function(t,e,n){if(e.et())return Mf.resolve();var r=IDBKeyRange.bound(e.first().path.it(),e.last().path.it()),i=e.te(),o=i.oe();return hp(t).hs({range:r},function(t,e,r){for(var s=Cc.Et(t);o&&Cc.H(o,s)<0;)n(o,null),o=i.oe();o&&o.isEqual(s)&&(n(o,e),o=i.ce()?i.oe():null),o?r.ss(o.path.it()):r.done()}).next(function(){for(;o;)n(o,null),o=i.ce()?i.oe():null})},t.prototype.Kr=function(t,e,n){var r=this,i=Mh(),o=e.path.length+1,s={};if(n.isEqual(bc.min())){var a=e.path.it();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.it(),c=Cd(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=ad.collectionReadTimeIndex}return hp(t).hs(s,function(t,n,s){if(t.length===o){var a=Od(r.Qt,n);e.path.nt(a.key.path)?a instanceof nl&&Ul(e,a)&&(i=i.zt(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.Nr=function(t){return new cp(this,!!t&&t.Wr)},t.prototype.Or=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return lp(t).get(ud.key).next(function(t){return tc(!!t),t})},t.prototype.kr=function(t,e){return lp(t).put(ud.key,e)},t.prototype.Mr=function(t){if(t){var e=Od(this.Qt,t);return e instanceof rl&&e.version.isEqual(bc.min())?null:e}return null},t}(),cp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jr=e,r.Wr=n,r.Gr=new Hd(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(Bu.c)(e,t),e.prototype.wi=function(t){var e=this,n=[],r=0,i=new jh(function(t,e){return ic(t.rt(),e.rt())});return this.ri.forEach(function(o,s){var a=e.Gr.get(o);if(s.hi){var u=Ed(e.jr.Qt,s.hi,e.ci(o));i=i.add(o.path.X());var c=Gd(u);r+=c-a,n.push(e.jr.ai(t,o,u))}else if(r-=a,e.Wr){var l=Ed(e.jr.Qt,new rl(o,bc.min()),e.ci(o));n.push(e.jr.ai(t,o,l))}else n.push(e.jr.li(t,o))}),i.forEach(function(r){n.push(e.jr.Ei.qs(t,r))}),n.push(this.jr.updateMetadata(t,r)),Mf.Mn(n)},e.prototype.fi=function(t,e){var n=this;return this.jr.Lr(t,e).next(function(t){return null===t?(n.Gr.set(e,0),null):(n.Gr.set(e,t.size),t.hi)})},e.prototype.di=function(t,e){var n=this;return this.jr.qr(t,e).next(function(t){var e=t.Ur;return t.Qr.forEach(function(t,e){n.Gr.set(t,e)}),e})},e}(zd);function lp(t){return md(t,ud.store)}function hp(t){return md(t,ad.store)}function fp(t){return t.path.it()}var dp=function(){function t(t){this.Qt=t}return t.prototype.Jn=function(t,e,n,r){var i=this;tc(n<r&&n>=0&&r<=11);var o=new Vf("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(ed.store)}(t),function(t){t.createObjectStore(nd.store,{keyPath:nd.keyPath}),t.createObjectStore(rd.store,{keyPath:rd.keyPath,autoIncrement:!0}).createIndex(rd.userMutationsIndex,rd.userMutationsKeyPath,{unique:!0}),t.createObjectStore(id.store)}(t),pp(t),function(t){t.createObjectStore(ad.store)}(t));var s=Mf.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(ld.store),t.deleteObjectStore(cd.store),t.deleteObjectStore(hd.store)}(t),pp(t)),s=s.next(function(){return function(t){var e=t.store(hd.store),n=new hd(0,0,bc.min().j(),0);return e.put(hd.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(rd.store).rs().next(function(n){t.deleteObjectStore(rd.store),t.createObjectStore(rd.store,{keyPath:rd.keyPath,autoIncrement:!0}).createIndex(rd.userMutationsIndex,rd.userMutationsKeyPath,{unique:!0});var r=e.store(rd.store),i=n.map(function(t){return r.put(t)});return Mf.Mn(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(dd.store,{keyPath:dd.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.zr(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(ud.store)}(t),i.Hr(o)})),n<7&&r>=7&&(s=s.next(function(){return i.Jr(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Yr(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(ad.store);e.createIndex(ad.readTimeIndex,ad.readTimeIndexPath,{unique:!1}),e.createIndex(ad.collectionReadTimeIndex,ad.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.Xr(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(pd.store,{keyPath:pd.keyPath})}(t),function(t){t.createObjectStore(gd.store,{keyPath:gd.keyPath})}(t)})),s},t.prototype.Hr=function(t){var e=0;return t.store(ad.store).hs(function(t,n){e+=Gd(n)}).next(function(){var n=new ud(e);return t.store(ud.store).put(ud.key,n)})},t.prototype.zr=function(t){var e=this,n=t.store(nd.store),r=t.store(rd.store);return n.rs().next(function(n){return Mf.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.rs(rd.userMutationsIndex,i).next(function(r){return Mf.forEach(r,function(r){tc(r.userId===n.userId);var i=xd(e.Qt,r);return Bd(t,n.userId,i).next(function(){})})})})})},t.prototype.Jr=function(t){var e=t.store(ld.store),n=t.store(ad.store);return t.store(hd.store).get(hd.key).next(function(t){var r=[];return n.hs(function(n,i){var o=new wc(n),s=function(t){return[0,Xf(t)]}(o);r.push(e.get(s).next(function(n){return n?Mf.resolve():function(n){return e.put(new ld(0,Xf(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return Mf.Mn(r)})})},t.prototype.Yr=function(t,e){t.createObjectStore(fd.store,{keyPath:fd.keyPath});var n=e.store(fd.store),r=new Md,i=function(t){if(r.add(t)){var e=t.tt(),i=t.X();return n.put({collectionId:e,parent:Xf(i)})}};return e.store(ad.store).hs({us:!0},function(t,e){var n=new wc(t);return i(n.X())}).next(function(){return e.store(id.store).hs({us:!0},function(t,e){var n=Jf(t[1]);return i(n.X())})})},t.prototype.Xr=function(t){var e=this,n=t.store(cd.store);return n.hs(function(t,r){var i=Ad(r),o=jd(e.Qt,i);return n.put(o)})},t}();function pp(t){t.createObjectStore(ld.store,{keyPath:ld.keyPath}).createIndex(ld.documentTargetsIndex,ld.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(cd.store,{keyPath:cd.keyPath}).createIndex(cd.queryTargetsIndexName,cd.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(hd.store)}var gp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",vp=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Zr=o,this.window=s,this.document=a,this.eo=c,this.no=l,this.so=null,this.io=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ro=null,this.inForeground=!1,this.oo=null,this.co=null,this.ao=Number.NEGATIVE_INFINITY,this.uo=function(t){return Promise.resolve()},!t.Kn())throw new cc(uc.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ti=new sp(this,i),this.ho=n+"main",this.Qt=new wd(u),this.lo=new Lf(this.ho,11,new dp(this.Qt)),this._o=new Zd(this.Ti,this.Qt),this.Ei=new Vd,this.fo=function(t,e){return new up(t,e)}(this.Qt,this.Ei),this.wo=new Nd,this.window&&this.window.localStorage?this.Eo=this.window.localStorage:(this.Eo=null,!1===l&&Xu("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.To().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new cc(uc.FAILED_PRECONDITION,gp);return t.Io(),t.mo(),t.Ao(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t._o.Ki(e)})}).then(function(e){t.so=new yc(e,t.eo)}).then(function(){t.io=!0}).catch(function(e){return t.lo&&t.lo.close(),Promise.reject(e)})},t.prototype.Ro=function(t){var e=this;return this.uo=function(n){return Object(Bu.b)(e,void 0,void 0,function(){return Object(Bu.d)(this,function(e){return this.Er?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.Po=function(t){var e=this;this.lo.Xn(function(n){return Object(Bu.b)(e,void 0,void 0,function(){return Object(Bu.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.yo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Zr.Ps(function(){return Object(Bu.b)(e,void 0,void 0,function(){return Object(Bu.d)(this,function(t){switch(t.label){case 0:return this.Er?[4,this.To()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.To=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return mp(e).put(new dd(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Vo(e).next(function(e){e||(t.isPrimary=!1,t.Zr.po(function(){return t.uo(!1)}))})}).next(function(){return t.bo(e)}).next(function(n){return t.isPrimary&&!n?t.vo(e).next(function(){return!1}):!!n&&t.So(e).next(function(){return!0})})}).catch(function(e){if(qf(e))return Qu("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Qu("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Zr.po(function(){return t.uo(e)}),t.isPrimary=e})},t.prototype.Vo=function(t){var e=this;return yp(t).get(ed.key).next(function(t){return Mf.resolve(e.Do(t))})},t.prototype.Co=function(t){return mp(t).delete(this.clientId)},t.prototype.xo=function(){return Object(Bu.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(Bu.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.No(this.ao,18e5)?[3,2]:(this.ao=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=md(t,dd.store);return e.rs().next(function(t){var n=r.$o(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Mf.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Eo)for(e=0,n=t;e<n.length;e++)this.Eo.removeItem(this.Fo(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.Ao=function(){var t=this;this.co=this.Zr.Tr("client_metadata_refresh",4e3,function(){return t.To().then(function(){return t.xo()}).then(function(){return t.Ao()})})},t.prototype.Do=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.bo=function(t){var e=this;return this.no?Mf.resolve(!0):yp(t).get(ed.key).next(function(n){if(null!==n&&e.No(n.leaseTimestampMs,5e3)&&!e.Oo(n.ownerId)){if(e.Do(n)&&e.networkEnabled)return!0;if(!e.Do(n)){if(!n.allowTabSynchronization)throw new cc(uc.FAILED_PRECONDITION,gp);return!1}}return!(!e.networkEnabled||!e.inForeground)||mp(t).rs().next(function(t){return void 0===e.$o(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&Qu("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.ko=function(){return Object(Bu.b)(this,void 0,void 0,function(){var t=this;return Object(Bu.d)(this,function(e){switch(e.label){case 0:return this.io=!1,this.Mo(),this.co&&(this.co.cancel(),this.co=null),this.Lo(),this.Bo(),[4,this.lo.runTransaction("shutdown","readwrite",[ed.store,dd.store],function(e){var n=new yd(e,yc.q);return t.vo(n).next(function(){return t.Co(n)})})];case 1:return e.sent(),this.lo.close(),this.qo(),[2]}})})},t.prototype.$o=function(t,e){var n=this;return t.filter(function(t){return n.No(t.updateTimeMs,e)&&!n.Oo(t.clientId)})},t.prototype.Uo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return mp(e).rs().next(function(e){return t.$o(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Qo=function(t){return $d.mi(t,this.Qt,this.Ei,this.Ti)},t.prototype.Sr=function(){return this._o},t.prototype.$r=function(){return this.fo},t.prototype.Ko=function(){return this.Ei},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Qu("IndexedDbPersistence","Starting transaction:",t),this.lo.runTransaction(t,"readonly"===e?"readonly":"readwrite",vd,function(o){return r=new yd(o,i.so?i.so.next():yc.q),"readwrite-primary"===e?i.Vo(r).next(function(t){return!!t||i.bo(r)}).next(function(e){if(!e)throw Xu("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Zr.po(function(){return i.uo(!1)}),new cc(uc.FAILED_PRECONDITION,Kf);return n(r)}).next(function(t){return i.So(r).next(function(){return t})}):i.jo(r).next(function(){return n(r)})}).then(function(t){return r.Vs(),t})},t.prototype.jo=function(t){var e=this;return yp(t).get(ed.key).next(function(t){if(null!==t&&e.No(t.leaseTimestampMs,5e3)&&!e.Oo(t.ownerId)&&!e.Do(t)&&!(e.no||e.allowTabSynchronization&&t.allowTabSynchronization))throw new cc(uc.FAILED_PRECONDITION,gp)})},t.prototype.So=function(t){var e=new ed(this.clientId,this.allowTabSynchronization,Date.now());return yp(t).put(ed.key,e)},t.Kn=function(){return Lf.Kn()},t.prototype.vo=function(t){var e=this,n=yp(t);return n.get(ed.key).next(function(t){return e.Do(t)?(Qu("IndexedDbPersistence","Releasing primary lease."),n.delete(ed.key)):Mf.resolve()})},t.prototype.No=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Xu("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Io=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.oo=function(){t.Zr.Ps(function(){return t.inForeground="visible"===t.document.visibilityState,t.To()})},this.document.addEventListener("visibilitychange",this.oo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Lo=function(){this.oo&&(this.document.removeEventListener("visibilitychange",this.oo),this.oo=null)},t.prototype.mo=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ro=function(){e.Mo(),e.Zr.Ps(function(){return e.ko()})},this.window.addEventListener("unload",this.ro))},t.prototype.Bo=function(){this.ro&&(this.window.removeEventListener("unload",this.ro),this.ro=null)},t.prototype.Oo=function(t){var e;try{var n=null!==(null===(e=this.Eo)||void 0===e?void 0:e.getItem(this.Fo(t)));return Qu("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Xu("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.Mo=function(){if(this.Eo)try{this.Eo.setItem(this.Fo(this.clientId),String(Date.now()))}catch(t){Xu("Failed to set zombie client id.",t)}},t.prototype.qo=function(){if(this.Eo)try{this.Eo.removeItem(this.Fo(this.clientId))}catch(t){}},t.prototype.Fo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function yp(t){return md(t,ed.store)}function mp(t){return md(t,dd.store)}function bp(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var _p=function(t,e){this.progress=t,this.Go=e},wp=function(){function t(t,e,n){this.fo=t,this.zo=e,this.Ei=n}return t.prototype.Ho=function(t,e){var n=this;return this.zo.bi(t,e).next(function(r){return n.Jo(t,e,r)})},t.prototype.Jo=function(t,e,n){return this.fo._i(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Cs(e,t);return t})},t.prototype.Yo=function(t,e,n){var r=Rh();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].Cs(t,e);r=r.zt(t,e)}),r},t.prototype.Xo=function(t,e){var n=this;return this.fo.getEntries(t,e).next(function(e){return n.Zo(t,e)})},t.prototype.Zo=function(t,e){var n=this;return this.zo.vi(t,e).next(function(r){var i=n.Yo(t,e,r),o=Ph();return i.forEach(function(t,e){e||(e=new rl(t,bc.min())),o=o.zt(t,e)}),o})},t.prototype.Kr=function(t,e,n){return function(t){return Cc.wt(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.tc(t,e.path):Nl(e)?this.ec(t,e,n):this.nc(t,e,n)},t.prototype.tc=function(t,e){return this.Ho(t,new Cc(e)).next(function(t){var e=Mh();return t instanceof nl&&(e=e.zt(t.key,t)),e})},t.prototype.ec=function(t,e,n){var r=this,i=e.collectionGroup,o=Mh();return this.Ei.Us(t,i).next(function(s){return Mf.forEach(s,function(s){var a=function(t,e){return new Il(e,null,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.nc(t,a,n).next(function(t){t.forEach(function(t,e){o=o.zt(t,e)})})}).next(function(){return o})})},t.prototype.nc=function(t,e,n){var r,i,o=this;return this.fo.Kr(t,e,n).next(function(n){return r=n,o.zo.Di(t,e)}).next(function(e){return o.sc(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=lh(u,r.get(c),o.vs);r=l instanceof nl?r.zt(c,l):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){Ul(e,n)||(r=r.remove(t))}),r})},t.prototype.sc=function(t,e,n){for(var r=Fh(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof gh&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.fo.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof nl&&(c=c.zt(t,e))}),c})},t}(),Op=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.ic=n,this.rc=r}return t.oc=function(e,n){for(var r=Fh(),i=Fh(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Ep=function(){function t(){}return t.prototype.cc=function(t){this.ac=t},t.prototype.Kr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.xt.length||1===t.xt.length&&t.xt[0].field.ut())}(e)||n.isEqual(bc.min())?this.uc(t,e):this.ac.Xo(t,r).next(function(o){var s=i.hc(e,o);return(xl(e)||Al(e))&&i.lc(e.limitType,s,r,n)?i.uc(t,e):(Ku()<=Fi.a.DEBUG&&Qu("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ll(e)),i.ac.Kr(t,e,n).next(function(t){return s.forEach(function(e){t=t.zt(e.key,e)}),t}))})},t.prototype.hc=function(t,e){var n=new jh(Fl(t));return e.forEach(function(e,r){r instanceof nl&&Ul(t,r)&&(n=n.add(r))}),n},t.prototype.lc=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version._(r)>0)},t.prototype.uc=function(t,e){return Ku()<=Fi.a.DEBUG&&Qu("QueryEngine","Using full collection scan to execute query:",Ll(e)),this.ac.Kr(t,e,bc.min())},t}(),Cp=function(){function t(t,e,n,r){this.persistence=t,this._c=e,this.Qt=r,this.fc=new Th(ic),this.dc=new Hd(function(t){return al(t)},ul),this.wc=bc.min(),this.zo=t.Qo(n),this.Ec=t.$r(),this._o=t.Sr(),this.Tc=new wp(this.Ec,this.zo,this.persistence.Ko()),this.wo=t.Wo(),this._c.cc(this.Tc)}return t.prototype.Ir=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.Vr(n,e.fc)})},t}();function Ip(t,e,n,r){return new Cp(t,e,n,r)}function Sp(t,e){return Object(Bu.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(Bu.d)(this,function(s){switch(s.label){case 0:return n=ec(t),r=n.zo,i=n.Tc,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n.zo.pi(t).next(function(s){return o=s,r=n.persistence.Qo(e),i=new wp(n.Ec,r,n.persistence.Ko()),r.pi(t)}).next(function(e){for(var n=[],r=[],s=Fh(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,v=p.mutations;g<v.length;g++)s=s.add(v[g].key)}return i.Xo(t,s).next(function(t){return{Ic:t,mc:n,Ac:r}})})})];case 1:return o=s.sent(),[2,(n.zo=r,n.Tc=i,n._c.cc(n.Tc),o)]}})})}function Tp(t,e){var n=ec(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Ec.Nr({Wr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=Mf.resolve();return o.forEach(function(t){s=s.next(function(){return r._i(e,t)}).next(function(e){var o=e,s=n.$s.get(t);tc(null!==s),(!o||o.version._(s)<0)&&(o=i.Ss(t,o,n))&&r.ai(o,n.Ns)})}),s.next(function(){return t.zo.Ci(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.zo.$i(t)}).next(function(){return n.Tc.Xo(t,r)})})}function xp(t){var e=ec(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e._o.Qi(t)})}function Ap(t,e){var n=ec(t),r=e.Ot,i=n.fc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.Ec.Nr({Wr:!0});i=n.fc;var s=[];e.$e.forEach(function(e,o){var a=i.get(o);if(a){s.push(n._o.sr(t,e.Qe,o).next(function(){return n._o.er(t,e.qe,o)}));var u=e.resumeToken;if(u.l()>0){var c=a.Mt(u,r).kt(t.bs);i=i.zt(o,c),function(t,e,n){return tc(e.resumeToken.l()>0),0===t.resumeToken.l()||e.Ot.W()-t.Ot.W()>=3e8||n.qe.size+n.Ue.size+n.Qe.size>0}(a,c,e)&&s.push(n._o.Hi(t,c))}}});var a=Ph();if(e.Oe.forEach(function(r,i){e.ke.has(r)&&s.push(n.persistence.Ti.Fr(t,r))}),s.push(jp(t,o,e.Oe,r,void 0).next(function(t){a=t})),!r.isEqual(bc.min())){var u=n._o.Qi(t).next(function(e){return n._o.Wi(t,t.bs,r)});s.push(u)}return Mf.Mn(s).next(function(){return o.apply(t)}).next(function(){return n.Tc.Zo(t,a)})}).then(function(t){return n.fc=i,t})}function jp(t,e,n,r,i){var o=Fh();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=Ph();return n.forEach(function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s instanceof rl&&s.version.isEqual(bc.min())?(e.li(n,u),o=o.zt(n,s)):null==a||s.version._(a.version)>0||0===s.version._(a.version)&&a.hasPendingWrites?(e.ai(s,u),o=o.zt(n,s)):Qu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function kp(t,e){var n=ec(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.zo.gi(t,e)})}function Np(t,e){var n=ec(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n._o.tr(t,e).next(function(i){return i?Mf.resolve(r=i):n._o.Bi(t).next(function(i){return r=new Hl(e,i,0,t.bs),n._o.ji(t,r).next(function(){return r})})})}).then(function(t){var r=n.fc.get(t.targetId);return(null===r||t.Ot._(r.Ot)>0)&&(n.fc=n.fc.zt(t.targetId,t),n.dc.set(e,t.targetId)),t})}function Pp(t,e,n){return Object(Bu.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Bu.d)(this,function(a){switch(a.label){case 0:r=ec(t),i=r.fc.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.Ti.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!qf(s=a.sent()))throw s;return Qu("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.fc=r.fc.remove(e),r.dc.delete(i.target),[2]}})})}function Rp(t,e,n){var r=ec(t),i=bc.min(),o=Fh();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=ec(t),i=r.dc.get(n);return void 0!==i?Mf.resolve(r.fc.get(i)):r._o.tr(e,n)}(r,t,Rl(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r._o.rr(t,e.targetId).next(function(t){o=t})}).next(function(){return r._c.Kr(t,e,n?i:bc.min(),n?o:Fh())}).next(function(t){return{documents:t,Rc:o}})})}function Dp(t,e){var n=ec(t),r=ec(n._o),i=n.fc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Sn(t,e).next(function(t){return t?t.target:null})})}function Mp(t){var e=ec(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=ec(t),i=Ph(),o=Cd(n),s=hp(e),a=IDBKeyRange.lowerBound(o,!0);return s.hs({index:ad.readTimeIndex,range:a},function(t,e){var n=Od(r.Qt,e);i=i.zt(n.key,n),o=e.readTime}).next(function(){return{Go:i,readTime:Id(o)}})}(e.Ec,t,e.wc)}).then(function(t){var n=t.Go;return e.wc=t.readTime,n})}function Vp(t){return Object(Bu.b)(this,void 0,void 0,function(){var e;return Object(Bu.d)(this,function(n){return[2,(e=ec(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=hp(t),n=bc.min();return e.hs({index:ad.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=Id(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.wc=t})]})})}function Lp(t,e,n,r){return Object(Bu.b)(this,void 0,void 0,function(){var i,o,s,a,u,c,l,h,f,d;return Object(Bu.d)(this,function(p){switch(p.label){case 0:for(i=ec(t),o=Fh(),s=Ph(),a=Lh(),u=0,c=n;u<c.length;u++)h=e.Pc((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.zt(h,e.yc(l)),a=a.zt(h,e.gc(l.metadata.readTime));return f=i.Ec.Nr({Wr:!0}),[4,Np(i,function(t){return Rl(Tl(wc.ot("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return jp(t,f,s,bc.min(),a).next(function(e){return f.apply(t),e}).next(function(e){return i._o.Yi(t,d.targetId).next(function(){return i._o.er(t,o,d.targetId)}).next(function(){return i.Tc.Zo(t,e)})})})]}})})}function Up(t,e,n){return void 0===n&&(n=Fh()),Object(Bu.b)(this,void 0,void 0,function(){var r,i;return Object(Bu.d)(this,function(o){switch(o.label){case 0:return[4,Np(t,Rl(kd(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=ec(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=uf(e.readTime);if(r.Ot._(o)>=0)return i.wo.Ls(t,e);var s=r.Mt(ac.T,o);return i.fc=i.fc.zt(s.targetId,s),i._o.Hi(t,s).next(function(){return i._o.Yi(t,r.targetId)}).next(function(){return i._o.er(t,n,r.targetId)}).next(function(){return i.wo.Ls(t,e)})})]}})})}var Fp=function(){function t(t){this.Qt=t,this.Vc=new Map,this.bc=new Map}return t.prototype.Os=function(t,e){return Mf.resolve(this.Vc.get(e))},t.prototype.ks=function(t,e){var n;return this.Vc.set(e.id,{id:(n=e).id,version:n.version,createTime:uf(n.createTime)}),Mf.resolve()},t.prototype.Ms=function(t,e){return Mf.resolve(this.bc.get(e))},t.prototype.Ls=function(t,e){return this.bc.set(e.name,function(t){return{name:t.name,query:kd(t.bundledQuery),readTime:uf(t.readTime)}}(e)),Mf.resolve()},t}(),qp=function(){function t(){this.vc=new jh(Hp.Sc),this.Dc=new jh(Hp.Cc)}return t.prototype.et=function(){return this.vc.et()},t.prototype.nr=function(t,e){var n=new Hp(t,e);this.vc=this.vc.add(n),this.Dc=this.Dc.add(n)},t.prototype.xc=function(t,e){var n=this;t.forEach(function(t){return n.nr(t,e)})},t.prototype.ir=function(t,e){this.Nc(new Hp(t,e))},t.prototype.$c=function(t,e){var n=this;t.forEach(function(t){return n.ir(t,e)})},t.prototype.Fc=function(t){var e=this,n=new Cc(new wc([])),r=new Hp(n,t),i=new Hp(n,t+1),o=[];return this.Dc.me([r,i],function(t){e.Nc(t),o.push(t.key)}),o},t.prototype.Oc=function(){var t=this;this.vc.forEach(function(e){return t.Nc(e)})},t.prototype.Nc=function(t){this.vc=this.vc.delete(t),this.Dc=this.Dc.delete(t)},t.prototype.kc=function(t){var e=new Cc(new wc([])),n=new Hp(e,t),r=new Hp(e,t+1),i=Fh();return this.Dc.me([n,r],function(t){i=i.add(t.key)}),i},t.prototype.Fi=function(t){var e=new Hp(t,0),n=this.vc.Re(e);return null!==n&&t.isEqual(n.key)},t}(),Hp=function(){function t(t,e){this.key=t,this.Mc=e}return t.Sc=function(t,e){return Cc.H(t.key,e.key)||ic(t.Mc,e.Mc)},t.Cc=function(t,e){return ic(t.Mc,e.Mc)||Cc.H(t.key,e.key)},t}(),zp=function(){function t(t,e){this.Ei=t,this.Ti=e,this.zo=[],this.Lc=1,this.Bc=new jh(Hp.Sc)}return t.prototype.Ai=function(t){return Mf.resolve(0===this.zo.length)},t.prototype.Ri=function(t,e,n,r){var i=this.Lc;this.Lc++;var o=new bd(i,e,n,r);this.zo.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.Bc=this.Bc.add(new Hp(u.key,i)),this.Ei.qs(t,u.key.path.X())}return Mf.resolve(o)},t.prototype.Pi=function(t,e){return Mf.resolve(this.qc(e))},t.prototype.gi=function(t,e){var n=this.Uc(e+1),r=n<0?0:n;return Mf.resolve(this.zo.length>r?this.zo[r]:null)},t.prototype.Vi=function(){return Mf.resolve(0===this.zo.length?-1:this.Lc-1)},t.prototype.pi=function(t){return Mf.resolve(this.zo.slice())},t.prototype.bi=function(t,e){var n=this,r=new Hp(e,0),i=new Hp(e,Number.POSITIVE_INFINITY),o=[];return this.Bc.me([r,i],function(t){var e=n.qc(t.Mc);o.push(e)}),Mf.resolve(o)},t.prototype.vi=function(t,e){var n=this,r=new jh(ic);return e.forEach(function(t){var e=new Hp(t,0),i=new Hp(t,Number.POSITIVE_INFINITY);n.Bc.me([e,i],function(t){r=r.add(t.Mc)})}),Mf.resolve(this.Qc(r))},t.prototype.Di=function(t,e){var n=e.path,r=n.length+1,i=n;Cc.wt(i)||(i=i.child(""));var o=new Hp(new Cc(i),0),s=new jh(ic);return this.Bc.Ae(function(t){var e=t.key.path;return!!n.nt(e)&&(e.length===r&&(s=s.add(t.Mc)),!0)},o),Mf.resolve(this.Qc(s))},t.prototype.Qc=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.qc(t);null!==r&&n.push(r)}),n},t.prototype.Ci=function(t,e){var n=this;tc(0===this.Kc(e.batchId,"removed")),this.zo.shift();var r=this.Bc;return Mf.forEach(e.mutations,function(i){var o=new Hp(i.key,e.batchId);return r=r.delete(o),n.Ti.Ni(t,i.key)}).next(function(){n.Bc=r})},t.prototype.xi=function(t){},t.prototype.Fi=function(t,e){var n=new Hp(e,0),r=this.Bc.Re(n);return Mf.resolve(e.isEqual(r&&r.key))},t.prototype.$i=function(t){return Mf.resolve()},t.prototype.Kc=function(t,e){return this.Uc(t)},t.prototype.Uc=function(t){return 0===this.zo.length?0:t-this.zo[0].batchId},t.prototype.qc=function(t){var e=this.Uc(t);return e<0||e>=this.zo.length?null:this.zo[e]},t}(),Bp=function(){function t(t,e){this.Ei=t,this.Wc=e,this.docs=new Th(Cc.H),this.size=0}return t.prototype.ai=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.Wc(e);return this.docs=this.docs.zt(r,{hi:e,size:s,readTime:n}),this.size+=s-o,this.Ei.qs(t,r.path.X())},t.prototype.li=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype._i=function(t,e){var n=this.docs.get(e);return Mf.resolve(n?n.hi:null)},t.prototype.getEntries=function(t,e){var n=this,r=Rh();return e.forEach(function(t){var e=n.docs.get(t);r=r.zt(t,e?e.hi:null)}),Mf.resolve(r)},t.prototype.Kr=function(t,e,n){for(var r=Mh(),i=new Cc(e.path.child("")),o=this.docs.ee(i);o.ce();){var s=o.oe(),a=s.value,u=a.hi,c=a.readTime;if(!e.path.nt(s.key.path))break;c._(n)<=0||u instanceof nl&&Ul(e,u)&&(r=r.zt(u.key,u))}return Mf.resolve(r)},t.prototype.jc=function(t,e){return Mf.forEach(this.docs,function(t){return e(t)})},t.prototype.Nr=function(t){return new Gp(this)},t.prototype.Or=function(t){return Mf.resolve(this.size)},t}(),Gp=function(t){function e(e){var n=this;return(n=t.call(this)||this).jr=e,n}return Object(Bu.c)(e,t),e.prototype.wi=function(t){var e=this,n=[];return this.ri.forEach(function(r,i){i&&i.hi?n.push(e.jr.ai(t,i.hi,e.ci(r))):e.jr.li(r)}),Mf.Mn(n)},e.prototype.fi=function(t,e){return this.jr._i(t,e)},e.prototype.di=function(t,e){return this.jr.getEntries(t,e)},e}(zd),$p=function(){function t(t){this.persistence=t,this.Gc=new Hd(function(t){return al(t)},ul),this.lastRemoteSnapshotVersion=bc.min(),this.highestTargetId=0,this.zc=0,this.Hc=new qp,this.targetCount=0,this.Jc=Yd.Mi()}return t.prototype.In=function(t,e){return this.Gc.forEach(function(t,n){return e(n)}),Mf.resolve()},t.prototype.Qi=function(t){return Mf.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Ki=function(t){return Mf.resolve(this.zc)},t.prototype.Bi=function(t){return this.highestTargetId=this.Jc.next(),Mf.resolve(this.highestTargetId)},t.prototype.Wi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.zc&&(this.zc=e),Mf.resolve()},t.prototype.Gi=function(t){this.Gc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Jc=new Yd(e),this.highestTargetId=e),t.sequenceNumber>this.zc&&(this.zc=t.sequenceNumber)},t.prototype.ji=function(t,e){return this.Gi(e),this.targetCount+=1,Mf.resolve()},t.prototype.Hi=function(t,e){return this.Gi(e),Mf.resolve()},t.prototype.Ji=function(t,e){return this.Gc.delete(e.target),this.Hc.Fc(e.targetId),this.targetCount-=1,Mf.resolve()},t.prototype.Xi=function(t,e,n){var r=this,i=0,o=[];return this.Gc.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.Gc.delete(s),o.push(r.Yi(t,a.targetId)),i++)}),Mf.Mn(o).next(function(){return i})},t.prototype.Zi=function(t){return Mf.resolve(this.targetCount)},t.prototype.tr=function(t,e){var n=this.Gc.get(e)||null;return Mf.resolve(n)},t.prototype.er=function(t,e,n){return this.Hc.xc(e,n),Mf.resolve()},t.prototype.sr=function(t,e,n){this.Hc.$c(e,n);var r=this.persistence.Ti,i=[];return r&&e.forEach(function(e){i.push(r.Ni(t,e))}),Mf.Mn(i)},t.prototype.Yi=function(t,e){return this.Hc.Fc(e),Mf.resolve()},t.prototype.rr=function(t,e){var n=this.Hc.kc(e);return Mf.resolve(n)},t.prototype.Fi=function(t,e){return Mf.resolve(this.Hc.Fi(e))},t}(),Wp=function(){function t(t,e){var n=this;this.Yc={},this.so=new yc(0),this.io=!1,this.io=!0,this.Ti=t(this),this._o=new $p(this),this.Ei=new Dd,this.fo=function(t,e){return new Bp(t,function(t){return n.Ti.Xc(t)})}(this.Ei),this.Qt=new wd(e),this.wo=new Fp(this.Qt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.ko=function(){return this.io=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Po=function(){},t.prototype.yo=function(){},t.prototype.Ko=function(){return this.Ei},t.prototype.Qo=function(t){var e=this.Yc[t.A()];return e||(e=new zp(this.Ei,this.Ti),this.Yc[t.A()]=e),e},t.prototype.Sr=function(){return this._o},t.prototype.$r=function(){return this.fo},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r=this;Qu("MemoryPersistence","Starting transaction:",t);var i=new Kp(this.so.next());return this.Ti.Zc(),n(i).next(function(t){return r.Ti.ta(i).next(function(){return t})}).On().then(function(t){return i.Vs(),t})},t.prototype.ea=function(t,e){return Mf.Ln(Object.values(this.Yc).map(function(n){return function(){return n.Fi(t,e)}}))},t}(),Kp=function(t){function e(e){var n=this;return(n=t.call(this)||this).bs=e,n}return Object(Bu.c)(e,t),e}(Qf),Qp=function(){function t(t){this.persistence=t,this.na=new qp,this.sa=null}return t.ia=function(e){return new t(e)},Object.defineProperty(t.prototype,"ra",{get:function(){if(this.sa)return this.sa;throw Ju()},enumerable:!1,configurable:!0}),t.prototype.nr=function(t,e,n){return this.na.nr(n,e),this.ra.delete(n.toString()),Mf.resolve()},t.prototype.ir=function(t,e,n){return this.na.ir(n,e),this.ra.add(n.toString()),Mf.resolve()},t.prototype.Ni=function(t,e){return this.ra.add(e.toString()),Mf.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.na.Fc(e.targetId).forEach(function(t){return n.ra.add(t.toString())});var r=this.persistence.Sr();return r.rr(t,e.targetId).next(function(t){t.forEach(function(t){return n.ra.add(t.toString())})}).next(function(){return r.Ji(t,e)})},t.prototype.Zc=function(){this.sa=new Set},t.prototype.ta=function(t){var e=this,n=this.persistence.$r().Nr();return Mf.forEach(this.ra,function(r){var i=Cc._t(r);return e.oa(t,i).next(function(t){t||n.li(i)})}).next(function(){return e.sa=null,n.apply(t)})},t.prototype.Fr=function(t,e){var n=this;return this.oa(t,e).next(function(t){t?n.ra.delete(e.toString()):n.ra.add(e.toString())})},t.prototype.Xc=function(t){return 0},t.prototype.oa=function(t,e){var n=this;return Mf.Ln([function(){return Mf.resolve(n.na.Fi(e))},function(){return n.persistence.Sr().Fi(t,e)},function(){return n.persistence.ea(t,e)}])},t}();function Xp(t,e){return"firestore_clients_"+t+"_"+e}function Yp(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.m()&&(r+="_"+e.uid),r}function Zp(t,e){return"firestore_targets_"+t+"_"+e}var Jp=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.ca=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new cc(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(Xu("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),tg=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.ca=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new cc(i.error.code,i.error.message)),o?new t(e,i.state,r):(Xu("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),eg=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.ca=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Hh(),s=0;i&&s<r.activeTargetIds.length;++s)i=Lc(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Xu("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),ng=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.ca=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Xu("SharedClientState","Failed to parse online state: "+e),null)},t}(),rg=function(){function t(){this.activeTargetIds=Hh()}return t.prototype.ua=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.aa=function(){var t={activeTargetIds:this.activeTargetIds.it(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),ig=function(){function t(t,e,n,r,i){this.window=t,this.Zr=e,this.persistenceKey=n,this.la=r,this._a=null,this.fa=null,this.k=null,this.da=this.wa.bind(this),this.Ea=new Th(ic),this.Er=!1,this.Ta=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ia=Xp(this.persistenceKey,this.la),this.ma=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ea=this.Ea.zt(this.la,new rg),this.Aa=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Ra=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Pa=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ya=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.ga=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.da)}return t.Kn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Bu.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,u,c,l=this;return Object(Bu.d)(this,function(h){switch(h.label){case 0:return[4,this._a.Uo()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.la&&(i=this.getItem(Xp(this.persistenceKey,r)))&&(o=eg.ca(r,i))&&(this.Ea=this.Ea.zt(o.clientId,o));for(this.Va(),(s=this.storage.getItem(this.ya))&&(a=this.pa(s))&&this.ba(a),u=0,c=this.Ta;u<c.length;u++)this.wa(c[u]);return this.Ta=[],this.window.addEventListener("unload",function(){return l.ko()}),this.Er=!0,[2]}})})},t.prototype.B=function(t){this.setItem(this.ma,JSON.stringify(t))},t.prototype.va=function(){return this.Sa(this.Ea)},t.prototype.Da=function(t){var e=!1;return this.Ea.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.Ca=function(t){this.xa(t,"pending")},t.prototype.Na=function(t,e,n){this.xa(t,e,n),this.$a(t)},t.prototype.Fa=function(t){var e="not-current";if(this.Da(t)){var n=this.storage.getItem(Zp(this.persistenceKey,t));if(n){var r=tg.ca(t,n);r&&(e=r.state)}}return this.Oa.ua(t),this.Va(),e},t.prototype.ka=function(t){this.Oa.ha(t),this.Va()},t.prototype.Ma=function(t){return this.Oa.activeTargetIds.has(t)},t.prototype.La=function(t){this.removeItem(Zp(this.persistenceKey,t))},t.prototype.Ba=function(t,e,n){this.qa(t,e,n)},t.prototype.Ua=function(t,e,n){var r=this;e.forEach(function(t){r.$a(t)}),this.currentUser=t,n.forEach(function(t){r.Ca(t)})},t.prototype.Qa=function(t){this.Ka(t)},t.prototype.Wa=function(){this.ja()},t.prototype.ko=function(){this.Er&&(this.window.removeEventListener("storage",this.da),this.removeItem(this.Ia),this.Er=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Qu("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Qu("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Qu("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.wa=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Qu("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ia)return void Xu("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Zr.po(function(){return Object(Bu.b)(e,void 0,void 0,function(){var t,e,r,i,o,s;return Object(Bu.d)(this,function(a){if(this.Er){if(null!==n.key)if(this.Aa.test(n.key)){if(null==n.newValue)return t=this.Ga(n.key),[2,this.za(t,null)];if(e=this.Ha(n.key,n.newValue))return[2,this.za(e.clientId,e)]}else if(this.Ra.test(n.key)){if(null!==n.newValue&&(r=this.Ja(n.key,n.newValue)))return[2,this.Ya(r)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(i=this.Xa(n.key,n.newValue)))return[2,this.Za(i)]}else if(n.key===this.ya){if(null!==n.newValue&&(o=this.pa(n.newValue)))return[2,this.ba(o)]}else if(n.key===this.ma)(s=function(t){var e=yc.q;if(null!=t)try{var n=JSON.parse(t);tc("number"==typeof n),e=n}catch(t){Xu("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==yc.q&&this.k(s);else if(n.key===this.ga)return[2,this._a.tu()]}else this.Ta.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Oa",{get:function(){return this.Ea.get(this.la)},enumerable:!1,configurable:!0}),t.prototype.Va=function(){this.setItem(this.Ia,this.Oa.aa())},t.prototype.xa=function(t,e,n){var r=new Jp(this.currentUser,t,e,n),i=Yp(this.persistenceKey,this.currentUser,t);this.setItem(i,r.aa())},t.prototype.$a=function(t){var e=Yp(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Ka=function(t){this.storage.setItem(this.ya,JSON.stringify({clientId:this.la,onlineState:t}))},t.prototype.qa=function(t,e,n){var r=Zp(this.persistenceKey,t),i=new tg(t,e,n);this.setItem(r,i.aa())},t.prototype.ja=function(){this.setItem(this.ga,"value-not-used")},t.prototype.Ga=function(t){var e=this.Aa.exec(t);return e?e[1]:null},t.prototype.Ha=function(t,e){var n=this.Ga(t);return eg.ca(n,e)},t.prototype.Ja=function(t,e){var n=this.Ra.exec(t),r=Number(n[1]);return Jp.ca(new hc(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Xa=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return tg.ca(r,e)},t.prototype.pa=function(t){return ng.ca(t)},t.prototype.Ya=function(t){return Object(Bu.b)(this,void 0,void 0,function(){return Object(Bu.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this._a.eu(t.batchId,t.state,t.error)]:(Qu("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.Za=function(t){return this._a.nu(t.targetId,t.state,t.error)},t.prototype.za=function(t,e){var n=this,r=e?this.Ea.zt(t,e):this.Ea.remove(t),i=this.Sa(this.Ea),o=this.Sa(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this._a.su(s,a).then(function(){n.Ea=r})},t.prototype.ba=function(t){this.Ea.get(t.clientId)&&this.fa(t.onlineState)},t.prototype.Sa=function(t){var e=Hh();return t.forEach(function(t,n){e=e.Pe(n.activeTargetIds)}),e},t}(),og=function(){function t(){this.iu=new rg,this.ru={},this.fa=null,this.k=null}return t.prototype.Ca=function(t){},t.prototype.Na=function(t,e,n){},t.prototype.Fa=function(t){return this.iu.ua(t),this.ru[t]||"not-current"},t.prototype.Ba=function(t,e,n){this.ru[t]=e},t.prototype.ka=function(t){this.iu.ha(t)},t.prototype.Ma=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.La=function(t){delete this.ru[t]},t.prototype.va=function(){return this.iu.activeTargetIds},t.prototype.Da=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.start=function(){return this.iu=new rg,Promise.resolve()},t.prototype.Ua=function(t,e,n){},t.prototype.Qa=function(t){},t.prototype.ko=function(){},t.prototype.B=function(t){},t.prototype.Wa=function(){},t}(),sg=function(){function t(){}return t.prototype.ou=function(t){},t.prototype.ko=function(){},t}(),ag=function(){function t(){var t=this;this.cu=function(){return t.au()},this.uu=function(){return t.hu()},this.lu=[],this._u()}return t.prototype.ou=function(t){this.lu.push(t)},t.prototype.ko=function(){window.removeEventListener("online",this.cu),window.removeEventListener("offline",this.uu)},t.prototype._u=function(){window.addEventListener("online",this.cu),window.addEventListener("offline",this.uu)},t.prototype.au=function(){Qu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(0)},t.prototype.hu=function(){Qu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(1)},t.Kn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),ug={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},cg=function(){function t(t){this.fu=t.fu,this.du=t.du}return t.prototype.wu=function(t){this.Eu=t},t.prototype.Tu=function(t){this.Iu=t},t.prototype.onMessage=function(t){this.mu=t},t.prototype.close=function(){this.du()},t.prototype.send=function(t){this.fu(t)},t.prototype.Au=function(){this.Eu()},t.prototype.Ru=function(t){this.Iu(t)},t.prototype.Pu=function(t){this.mu(t)},t}(),lg=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return Object(Bu.c)(e,t),e.prototype.Su=function(t,e,n,r){return new Promise(function(i,o){var s=new zu;s.listenOnce(Fu.COMPLETE,function(){try{switch(s.getLastErrorCode()){case Uu.NO_ERROR:var e=s.getResponseJson();Qu("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Uu.TIMEOUT:Qu("Connection",'RPC "'+t+'" timed out'),o(new cc(uc.DEADLINE_EXCEEDED,"Request time out"));break;case Uu.HTTP_ERROR:var n=s.getStatus();if(Qu("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(uc).indexOf(e)>=0?e:uc.UNKNOWN}(r.status);o(new cc(a,r.message))}else o(new cc(uc.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new cc(uc.UNAVAILABLE,"Connection failed."));break;default:Ju()}}finally{Qu("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.Cu=function(t,e){var n=[this.gu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Ru,i=Vs(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.vu(o.initMessageHeaders,e),Object(qi.l)()||Object(qi.n)()||Object(qi.j)()||Object(qi.k)()||Object(qi.o)()||Object(qi.i)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");Qu("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new cg({fu:function(t){c?Qu("Connection","Not sending because WebChannel is closed:",t):(u||(Qu("Connection","Opening WebChannel transport."),a.open(),u=!0),Qu("Connection","WebChannel sending:",t),a.send(t))},du:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,Hu.EventType.OPEN,function(){c||Qu("Connection","WebChannel transport opened.")}),h(a,Hu.EventType.CLOSE,function(){c||(c=!0,Qu("Connection","WebChannel transport closed"),l.Ru())}),h(a,Hu.EventType.ERROR,function(t){c||(c=!0,Yu("Connection","WebChannel transport errored:",t),l.Ru(new cc(uc.UNAVAILABLE,"The operation could not be completed")))}),h(a,Hu.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];tc(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Qu("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=_h[t];if(void 0!==e)return Sh(e)}(i),s=r.message;void 0===o&&(o=uc.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Ru(new cc(o,s)),a.close()}else Qu("Connection","WebChannel received:",n),l.Pu(n)}}),h(i,qu.STAT_EVENT,function(t){10===t.stat?Qu("Connection","Detected buffering proxy"):11===t.stat&&Qu("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Au()},0),l},e}(function(){function t(t){this.yu=t,this.t=t.t,this.gu=(t.ssl?"https":"http")+"://"+t.host,this.Vu="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.pu=function(t,e,n,r){var i=this.bu(t,e);Qu("RestConnection","Sending: ",i,n);var o={};return this.vu(o,r),this.Su(t,i,o,n).then(function(t){return Qu("RestConnection","Received: ",t),t},function(e){throw Yu("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Du=function(t,e,n,r){return this.pu(t,e,n,r)},t.prototype.vu=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.9",t["Content-Type"]="text/plain",e)for(var n in e.g)e.g.hasOwnProperty(n)&&(t[n]=e.g[n])},t.prototype.bu=function(t,e){return this.gu+"/v1/"+e+":"+ug[t]},t}());function hg(){return"undefined"!=typeof window?window:null}function fg(){return"undefined"!=typeof document?document:null}function dg(t){return new rf(t,!0)}var pg=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Zr=t,this.fs=e,this.xu=n,this.Nu=r,this.$u=i,this.Fu=0,this.Ou=null,this.ku=Date.now(),this.reset()}return t.prototype.reset=function(){this.Fu=0},t.prototype.Mu=function(){this.Fu=this.$u},t.prototype.Lu=function(t){var e=this;this.cancel();var n=Math.floor(this.Fu+this.Bu()),r=Math.max(0,Date.now()-this.ku),i=Math.max(0,n-r);i>0&&Qu("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Fu+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ou=this.Zr.Tr(this.fs,i,function(){return e.ku=Date.now(),t()}),this.Fu*=this.Nu,this.Fu<this.xu&&(this.Fu=this.xu),this.Fu>this.$u&&(this.Fu=this.$u)},t.prototype.qu=function(){null!==this.Ou&&(this.Ou.Rs(),this.Ou=null)},t.prototype.cancel=function(){null!==this.Ou&&(this.Ou.cancel(),this.Ou=null)},t.prototype.Bu=function(){return(Math.random()-.5)*this.Fu},t}(),gg=function(){function t(t,e,n,r,i,o){this.Zr=t,this.Uu=n,this.Qu=r,this.Ku=i,this.listener=o,this.state=0,this.Wu=0,this.ju=null,this.stream=null,this.Gu=new pg(t,e)}return t.prototype.zu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Hu=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Ju()},t.prototype.stop=function(){return Object(Bu.b)(this,void 0,void 0,function(){return Object(Bu.d)(this,function(t){switch(t.label){case 0:return this.zu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.Yu=function(){this.state=0,this.Gu.reset()},t.prototype.Xu=function(){var t=this;this.Hu()&&null===this.ju&&(this.ju=this.Zr.Tr(this.Uu,6e4,function(){return t.Zu()}))},t.prototype.th=function(t){this.eh(),this.stream.send(t)},t.prototype.Zu=function(){return Object(Bu.b)(this,void 0,void 0,function(){return Object(Bu.d)(this,function(t){return this.Hu()?[2,this.close(0)]:[2]})})},t.prototype.eh=function(){this.ju&&(this.ju.cancel(),this.ju=null)},t.prototype.close=function(t,e){return Object(Bu.b)(this,void 0,void 0,function(){return Object(Bu.d)(this,function(n){switch(n.label){case 0:return this.eh(),this.Gu.cancel(),this.Wu++,3!==t?this.Gu.reset():e&&e.code===uc.RESOURCE_EXHAUSTED?(Xu(e.toString()),Xu("Using maximum backoff delay to prevent overloading the backend."),this.Gu.Mu()):e&&e.code===uc.UNAUTHENTICATED&&this.Ku.p(),null!==this.stream&&(this.nh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Tu(e)];case 1:return n.sent(),[2]}})})},t.prototype.nh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.sh(this.Wu),n=this.Wu;this.Ku.getToken().then(function(e){t.Wu===n&&t.ih(e)},function(n){e(function(){var e=new cc(uc.UNKNOWN,"Fetching auth token failed: "+n.message);return t.rh(e)})})},t.prototype.ih=function(t){var e=this,n=this.sh(this.Wu);this.stream=this.oh(t),this.stream.wu(function(){n(function(){return e.state=2,e.listener.wu()})}),this.stream.Tu(function(t){n(function(){return e.rh(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.Ju=function(){var t=this;this.state=4,this.Gu.Lu(function(){return Object(Bu.b)(t,void 0,void 0,function(){return Object(Bu.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.rh=function(t){return Qu("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.sh=function(t){var e=this;return function(n){e.Zr.Ps(function(){return e.Wu===t?n():(Qu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),vg=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).Qt=i,s}return Object(Bu.c)(e,t),e.prototype.oh=function(t){return this.Qu.Cu("Listen",t)},e.prototype.onMessage=function(t){this.Gu.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Ju()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.Bt?(tc(void 0===e||"string"==typeof e),ac.fromBase64String(e||"")):(tc(void 0===e||e instanceof Uint8Array),ac.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?uc.UNKNOWN:Sh(t.code);return new cc(e,t.message||"")}(a);n=new Xh(r,i,o,s||null)}else if("documentChange"in e){i=ff(t,(r=e.documentChange).document.name),o=uf(r.document.updateTime);var a=new Zc({mapValue:{fields:r.document.fields}}),u=(s=new nl(i,o,a,{}),r.targetIds||[]);n=new Kh(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=ff(t,(r=e.documentDelete).document),o=r.readTime?uf(r.readTime):bc.min(),a=new rl(i,o),n=new Kh([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=ff(t,(r=e.documentRemove).document),n=new Kh([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Ju();var c=e.filter;i=new Ch(r=c.count||0),n=new Qh(o=c.targetId,i)}return n}(this.Qt,t),n=function(t){if(!("targetChange"in t))return bc.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?bc.min():e.readTime?uf(e.readTime):bc.min()}(t);return this.listener.ah(e,n)},e.prototype.uh=function(t){var e={};e.database=gf(this.Qt),e.addTarget=function(t,e){var n,r=e.target;return(n=cl(r)?{documents:wf(t,r)}:{query:Of(t,r)}).targetId=e.targetId,e.resumeToken.l()>0?n.resumeToken=sf(t,e.resumeToken):e.Ot._(bc.min())>0&&(n.readTime=of(t,e.Ot.j())),n}(this.Qt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ju()}}(0,e.Ft);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.th(e)},e.prototype.hh=function(t){var e={};e.database=gf(this.Qt),e.removeTarget=t,this.th(e)},e}(gg),yg=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).Qt=i,s.lh=!1,s}return Object(Bu.c)(e,t),Object.defineProperty(e.prototype,"_h",{get:function(){return this.lh},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.lh=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.nh=function(){this.lh&&this.fh([])},e.prototype.oh=function(t){return this.Qu.Cu("Write",t)},e.prototype.onMessage=function(t){if(tc(!!t.streamToken),this.lastStreamToken=t.streamToken,this.lh){this.Gu.reset();var e=function(t,e){return t&&t.length>0?(tc(void 0!==e),t.map(function(t){return function(t,e){var n=uf(t.updateTime?t.updateTime:e);n.isEqual(bc.min())&&(n=uf(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new oh(n,r)}(t,e)})):[]}(t.writeResults,t.commitTime),n=uf(t.commitTime);return this.listener.dh(n,e)}return tc(!t.writeResults||0===t.writeResults.length),this.lh=!0,this.listener.wh()},e.prototype.Eh=function(){var t={};t.database=gf(this.Qt),this.th(t)},e.prototype.fh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return bf(e.Qt,t)})};this.th(n)},e}(gg),mg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Qu=n,i.Qt=r,i.Th=!1,i}return Object(Bu.c)(e,t),e.prototype.Ih=function(){if(this.Th)throw new cc(uc.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.pu=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then(function(i){return r.Qu.pu(t,e,n,i)}).catch(function(t){throw t.code===uc.UNAUTHENTICATED&&r.credentials.p(),t})},e.prototype.Du=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then(function(i){return r.Qu.Du(t,e,n,i)}).catch(function(t){throw t.code===uc.UNAUTHENTICATED&&r.credentials.p(),t})},e.prototype.terminate=function(){this.Th=!1},e}(function(){}),bg=function(){function t(t,e){this._s=t,this.fa=e,this.state="Unknown",this.mh=0,this.Ah=null,this.Rh=!0}return t.prototype.Ph=function(){var t=this;0===this.mh&&(this.yh("Unknown"),this.Ah=this._s.Tr("online_state_timeout",1e4,function(){return t.Ah=null,t.gh("Backend didn't respond within 10 seconds."),t.yh("Offline"),Promise.resolve()}))},t.prototype.Vh=function(t){"Online"===this.state?this.yh("Unknown"):(this.mh++,this.mh>=1&&(this.ph(),this.gh("Connection failed 1 times. Most recent error: "+t.toString()),this.yh("Offline")))},t.prototype.set=function(t){this.ph(),this.mh=0,"Online"===t&&(this.Rh=!1),this.yh(t)},t.prototype.yh=function(t){t!==this.state&&(this.state=t,this.fa(t))},t.prototype.gh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Rh?(Xu(e),this.Rh=!1):Qu("OnlineStateTracker",e)},t.prototype.ph=function(){null!==this.Ah&&(this.Ah.cancel(),this.Ah=null)},t}(),_g=function(t,e,n,r,i){var o=this;this.bh=t,this.Sh=e,this._s=n,this.Dh={},this.Ch=[],this.xh=new Map,this.Nh=new Set,this.$h=[],this.Fh=i,this.Fh.ou(function(t){n.Ps(function(){return Object(Bu.b)(o,void 0,void 0,function(){return Object(Bu.d)(this,function(t){switch(t.label){case 0:return Ag(this)?(Qu("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Bu.b)(this,void 0,void 0,function(){var e;return Object(Bu.d)(this,function(n){switch(n.label){case 0:return(e=ec(t)).Nh.add(4),[4,Og(e)];case 1:return n.sent(),e.Oh.set("Unknown"),e.Nh.delete(4),[4,wg(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Oh=new bg(n,r)};function wg(t){return Object(Bu.b)(this,void 0,void 0,function(){var e,n;return Object(Bu.d)(this,function(r){switch(r.label){case 0:if(!Ag(t))return[3,4];e=0,n=t.$h,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Og(t){return Object(Bu.b)(this,void 0,void 0,function(){var e,n;return Object(Bu.d)(this,function(r){switch(r.label){case 0:e=0,n=t.$h,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Eg(t,e){var n=ec(t);n.xh.has(e.targetId)||(n.xh.set(e.targetId,e),xg(n)?Tg(n):Bg(n).Hu()&&Ig(n,e))}function Cg(t,e){var n=ec(t),r=Bg(n);n.xh.delete(e),r.Hu()&&Sg(n,e),0===n.xh.size&&(r.Hu()?r.Xu():Ag(n)&&n.Oh.set("Unknown"))}function Ig(t,e){t.kh.on(e.targetId),Bg(t).uh(e)}function Sg(t,e){t.kh.on(e),Bg(t).hh(e)}function Tg(t){t.kh=new Zh({vn:function(e){return t.Dh.vn(e)},Sn:function(e){return t.xh.get(e)||null}}),Bg(t).start(),t.Oh.Ph()}function xg(t){return Ag(t)&&!Bg(t).zu()&&t.xh.size>0}function Ag(t){return 0===ec(t).Nh.size}function jg(t){t.kh=void 0}function kg(t){return Object(Bu.b)(this,void 0,void 0,function(){return Object(Bu.d)(this,function(e){return t.xh.forEach(function(e,n){Ig(t,e)}),[2]})})}function Ng(t,e){return Object(Bu.b)(this,void 0,void 0,function(){return Object(Bu.d)(this,function(n){return jg(t),xg(t)?(t.Oh.Vh(e),Tg(t)):t.Oh.set("Unknown"),[2]})})}function Pg(t,e,n){return Object(Bu.b)(this,void 0,void 0,function(){var r,i,o;return Object(Bu.d)(this,function(s){switch(s.label){case 0:if(t.Oh.set("Online"),!(e instanceof Xh&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(Bu.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(Bu.d)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.xh.has(o=i[r])?[4,t.Dh.Mh(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.xh.delete(o),t.kh.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Qu("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Rg(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Kh?t.kh.dn(e):e instanceof Qh?t.kh.Pn(e):t.kh.Tn(e),n.isEqual(bc.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,xp(t.bh)];case 8:return i=s.sent(),n._(i)>=0?[4,function(t,e){var n=t.kh.Vn(e);return n.$e.forEach(function(n,r){if(n.resumeToken.l()>0){var i=t.xh.get(r);i&&t.xh.set(r,i.Mt(n.resumeToken,e))}}),n.Fe.forEach(function(e){var n=t.xh.get(e);if(n){t.xh.set(e,n.Mt(ac.T,n.Ot)),Sg(t,e);var r=new Hl(n.target,e,1,n.sequenceNumber);Ig(t,r)}}),t.Dh.Lh(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Qu("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Rg(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function Rg(t,e,n){return Object(Bu.b)(this,void 0,void 0,function(){var r=this;return Object(Bu.d)(this,function(i){switch(i.label){case 0:if(!qf(e))throw e;return t.Nh.add(1),[4,Og(t)];case 1:return i.sent(),t.Oh.set("Offline"),n||(n=function(){return xp(t.bh)}),t._s.po(function(){return Object(Bu.b)(r,void 0,void 0,function(){return Object(Bu.d)(this,function(e){switch(e.label){case 0:return Qu("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Nh.delete(1),[4,wg(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Dg(t,e){return e().catch(function(n){return Rg(t,n,e)})}function Mg(t){return Object(Bu.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(Bu.d)(this,function(s){switch(s.label){case 0:e=ec(t),n=Gg(e),r=e.Ch.length>0?e.Ch[e.Ch.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return Ag(t)&&t.Ch.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,kp(e.bh,r)];case 3:return null===(i=s.sent())?(0===e.Ch.length&&n.Xu(),[3,7]):(r=i.batchId,function(t,e){t.Ch.push(e);var n=Gg(t);n.Hu()&&n._h&&n.fh(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,Rg(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return Vg(e)&&Lg(e),[2]}})})}function Vg(t){return Ag(t)&&!Gg(t).zu()&&t.Ch.length>0}function Lg(t){Gg(t).start()}function Ug(t){return Object(Bu.b)(this,void 0,void 0,function(){return Object(Bu.d)(this,function(e){return Gg(t).Eh(),[2]})})}function Fg(t){return Object(Bu.b)(this,void 0,void 0,function(){var e,n,r;return Object(Bu.d)(this,function(i){for(e=Gg(t),n=0,r=t.Ch;n<r.length;n++)e.fh(r[n].mutations);return[2]})})}function qg(t,e,n){return Object(Bu.b)(this,void 0,void 0,function(){var r,i;return Object(Bu.d)(this,function(o){switch(o.label){case 0:return r=t.Ch.shift(),i=_d.from(r,e,n),[4,Dg(t,function(){return t.Dh.Bh(i)})];case 1:return o.sent(),[4,Mg(t)];case 2:return o.sent(),[2]}})})}function Hg(t,e){return Object(Bu.b)(this,void 0,void 0,function(){return Object(Bu.d)(this,function(n){switch(n.label){case 0:return e&&Gg(t)._h?[4,function(t,e){return Object(Bu.b)(this,void 0,void 0,function(){var n,r;return Object(Bu.d)(this,function(i){switch(i.label){case 0:return Ih(r=e.code)&&r!==uc.ABORTED?(n=t.Ch.shift(),Gg(t).Yu(),[4,Dg(t,function(){return t.Dh.qh(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,Mg(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Vg(t)&&Lg(t),[2]}})})}function zg(t,e){return Object(Bu.b)(this,void 0,void 0,function(){var n;return Object(Bu.d)(this,function(r){switch(r.label){case 0:return n=ec(t),e?(n.Nh.delete(2),[4,wg(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Nh.add(2),[4,Og(n)]);case 3:r.sent(),n.Oh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Bg(t){var e=this;return t.Uh||(t.Uh=function(t,e,n){var r=ec(t);return r.Ih(),new vg(e,r.Qu,r.credentials,r.Qt,n)}(t.Sh,t._s,{wu:kg.bind(null,t),Tu:Ng.bind(null,t),ah:Pg.bind(null,t)}),t.$h.push(function(n){return Object(Bu.b)(e,void 0,void 0,function(){return Object(Bu.d)(this,function(e){switch(e.label){case 0:return n?(t.Uh.Yu(),xg(t)?Tg(t):t.Oh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Uh.stop()];case 2:e.sent(),jg(t),e.label=3;case 3:return[2]}})})})),t.Uh}function Gg(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=ec(t);return r.Ih(),new yg(e,r.Qu,r.credentials,r.Qt,n)}(t.Sh,t._s,{wu:Ug.bind(null,t),Tu:Hg.bind(null,t),wh:Fg.bind(null,t),dh:qg.bind(null,t)}),t.$h.push(function(n){return Object(Bu.b)(e,void 0,void 0,function(){return Object(Bu.d)(this,function(e){switch(e.label){case 0:return n?(t.Qh.Yu(),[4,Mg(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qh.stop()];case 3:e.sent(),t.Ch.length>0&&(Qu("RemoteStore","Stopping write stream with "+t.Ch.length+" pending writes"),t.Ch=[]),e.label=4;case 4:return[2]}})})})),t.Qh}var $g=function(){this.Kh=void 0,this.listeners=[]},Wg=function(){this.queries=new Hd(function(t){return Vl(t)},Ml),this.onlineState="Unknown",this.Wh=new Set};function Kg(t,e){return Object(Bu.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(Bu.d)(this,function(c){switch(c.label){case 0:if(n=ec(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new $g),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.jh(r)];case 2:return s.Kh=c.sent(),[3,4];case 3:return a=c.sent(),u=Wf(a,"Initialization of query '"+Ll(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.Gh(n.onlineState),o.Kh&&e.zh(o.Kh)&&Zg(n),[2]}})})}function Qg(t,e){return Object(Bu.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Bu.d)(this,function(a){return n=ec(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Hh(r))]:[2]})})}function Xg(t,e){for(var n=ec(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].zh(s)&&(r=!0);a.Kh=s}}r&&Zg(n)}function Yg(t,e,n){var r=ec(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Zg(t){t.Wh.forEach(function(t){t.next()})}var Jg=function(){function t(t,e,n){this.query=t,this.Jh=e,this.Yh=!1,this.Xh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.zh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Gh(t.query,t.docs,t.Se,e,t.De,t.fromCache,t.Ce,!0)}var o=!1;return this.Yh?this.Zh(t)&&(this.Jh.next(t),o=!0):this.tl(t,this.onlineState)&&(this.el(t),o=!0),this.Xh=t,o},t.prototype.onError=function(t){this.Jh.error(t)},t.prototype.Gh=function(t){this.onlineState=t;var e=!1;return this.Xh&&!this.Yh&&this.tl(this.Xh,t)&&(this.el(this.Xh),e=!0),e},t.prototype.tl=function(t,e){return!t.fromCache||!(this.options.nl&&"Offline"!==e||t.docs.et()&&"Offline"!==e)},t.prototype.Zh=function(t){return t.docChanges.length>0||!!(t.Ce||this.Xh&&this.Xh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.el=function(t){t=Gh.Ne(t.query,t.docs,t.De,t.fromCache),this.Yh=!0,this.Jh.next(t)},t}(),tv=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.sl=function(){return"metadata"in this.payload},t}(),ev=function(){function t(t){this.Qt=t}return t.prototype.Pc=function(t){return ff(this.Qt,t)},t.prototype.yc=function(t){return t.metadata.exists?mf(this.Qt,t.document,!1):new rl(this.Pc(t.metadata.name),this.gc(t.metadata.readTime))},t.prototype.gc=function(t){return uf(t)},t}();!function(){function t(t,e,n){this.il=t,this.bh=e,this.Qt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.rl=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.ol=function(t){for(var e=new Map,n=new ev(this.Qt),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.Pc(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||Fh()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(Bu.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(Bu.d)(this,function(o){switch(o.label){case 0:return[4,Lp(this.bh,new ev(this.Qt),this.documents,this.il.id)];case 1:t=o.sent(),e=this.ol(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,Up(this.bh,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new _p(Object.assign({},this.progress),t))]}})})}}();var nv=function(t){this.key=t},rv=function(t){this.key=t},iv=function(){function t(t,e){this.query=t,this.cl=e,this.al=null,this.Be=!1,this.ul=Fh(),this.De=Fh(),this.hl=Fl(t),this.ll=new zh(this.hl)}return Object.defineProperty(t.prototype,"_l",{get:function(){return this.cl},enumerable:!1,configurable:!0}),t.prototype.fl=function(t,e){var n=this,r=e?e.dl:new Bh,i=e?e.ll:this.ll,o=e?e.De:this.De,s=i,a=!1,u=xl(this.query)&&i.size===this.query.limit?i.last():null,c=Al(this.query)&&i.size===this.query.limit?i.first():null;if(t.Xt(function(t,e){var l=i.get(t),h=e instanceof nl?e:null;h&&(h=Ul(n.query,h)?h:null);var f=!!l&&n.De.has(l.key),d=!!h&&(h.Vt||n.De.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.wl(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.hl(h,u)>0||c&&n.hl(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),xl(this.query)||Al(this.query))for(;s.size>this.query.limit;){var l=xl(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{ll:s,dl:r,lc:a,De:o}},t.prototype.wl=function(t,e){return t.Vt&&e.hasCommittedMutations&&!e.Vt},t.prototype.wi=function(t,e,n){var r=this,i=this.ll;this.ll=t.ll,this.De=t.De;var o=t.dl.ve();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ju()}};return n(t)-n(e)}(t.type,e.type)||r.hl(t.doc,e.doc)}),this.El(n);var s=e?this.Tl():[],a=0===this.ul.size&&this.Be?1:0,u=a!==this.al;return this.al=a,0!==o.length||u?{snapshot:new Gh(this.query,t.ll,i,o,t.De,0===a,u,!1),Il:s}:{Il:s}},t.prototype.Gh=function(t){return this.Be&&"Offline"===t?(this.Be=!1,this.wi({ll:this.ll,dl:new Bh,De:this.De,lc:!1},!1)):{Il:[]}},t.prototype.ml=function(t){return!this.cl.has(t)&&!!this.ll.has(t)&&!this.ll.get(t).Vt},t.prototype.El=function(t){var e=this;t&&(t.qe.forEach(function(t){return e.cl=e.cl.add(t)}),t.Ue.forEach(function(t){}),t.Qe.forEach(function(t){return e.cl=e.cl.delete(t)}),this.Be=t.Be)},t.prototype.Tl=function(){var t=this;if(!this.Be)return[];var e=this.ul;this.ul=Fh(),this.ll.forEach(function(e){t.ml(e.key)&&(t.ul=t.ul.add(e.key))});var n=[];return e.forEach(function(e){t.ul.has(e)||n.push(new rv(e))}),this.ul.forEach(function(t){e.has(t)||n.push(new nv(t))}),n},t.prototype.Al=function(t){this.cl=t.Rc,this.ul=Fh();var e=this.fl(t.documents);return this.wi(e,!0)},t.prototype.Rl=function(){return Gh.Ne(this.query,this.ll,this.De,0===this.al)},t}(),ov=function(t,e,n){this.query=t,this.targetId=e,this.view=n},sv=function(t){this.key=t,this.Pl=!1},av=function(){function t(t,e,n,r,i,o){this.bh=t,this.yl=e,this.gl=n,this.Vl=r,this.currentUser=i,this.pl=o,this.bl={},this.vl=new Hd(function(t){return Vl(t)},Ml),this.Sl=new Map,this.Dl=new Set,this.Cl=new Th(Cc.H),this.xl=new Map,this.Nl=new qp,this.$l={},this.Fl=new Map,this.Ol=Yd.Li(),this.onlineState="Unknown",this.kl=void 0}return Object.defineProperty(t.prototype,"Ml",{get:function(){return!0===this.kl},enumerable:!1,configurable:!0}),t}();function uv(t,e){return Object(Bu.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Bu.d)(this,function(a){switch(a.label){case 0:return n=Vv(t),(i=n.vl.get(e))?(n.Vl.Fa(i.targetId),r=i.view.Rl(),[3,4]):[3,1];case 1:return[4,Np(n.bh,Rl(e))];case 2:return o=a.sent(),s=n.Vl.Fa(o.targetId),[4,cv(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.Ml&&Eg(n.yl,o),a.label=4;case 4:return[2,r]}})})}function cv(t,e,n,r){return Object(Bu.b)(this,void 0,void 0,function(){var i,o,s,a,u,c;return Object(Bu.d)(this,function(l){switch(l.label){case 0:return t.Ll=function(e,n,r){return function(t,e,n,r){return Object(Bu.b)(this,void 0,void 0,function(){var i,o,s;return Object(Bu.d)(this,function(a){switch(a.label){case 0:return(i=e.view.fl(n)).lc?[4,Rp(t.bh,e.query,!1).then(function(t){return e.view.fl(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.$e.get(e.targetId),s=e.view.wi(i,t.Ml,o),[2,(Ov(t,e.targetId,s.Il),s.snapshot)]}})})}(t,e,n,r)},[4,Rp(t.bh,e,!0)];case 1:return i=l.sent(),o=new iv(e,i.Rc),s=o.fl(i.documents),a=Wh.Le(n,r&&"Offline"!==t.onlineState),u=o.wi(s,t.Ml,a),Ov(t,n,u.Il),c=new ov(e,n,o),[2,(t.vl.set(e,c),t.Sl.has(n)?t.Sl.get(n).push(e):t.Sl.set(n,[e]),u.snapshot)]}})})}function lv(t,e){return Object(Bu.b)(this,void 0,void 0,function(){var n,r,i;return Object(Bu.d)(this,function(o){switch(o.label){case 0:return n=ec(t),r=n.vl.get(e),(i=n.Sl.get(r.targetId)).length>1?[2,(n.Sl.set(r.targetId,i.filter(function(t){return!Ml(t,e)})),void n.vl.delete(e))]:n.Ml?(n.Vl.ka(r.targetId),n.Vl.Da(r.targetId)?[3,2]:[4,Pp(n.bh,r.targetId,!1).then(function(){n.Vl.La(r.targetId),Cg(n.yl,r.targetId),_v(n,r.targetId)}).catch(qd)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return _v(n,r.targetId),[4,Pp(n.bh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function hv(t,e,n){return Object(Bu.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Bu.d)(this,function(a){switch(a.label){case 0:r=Lv(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=ec(t),i=mc.now(),o=e.reduce(function(t,e){return t.add(e.key)},Fh());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Tc.Xo(t,o).next(function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=hh(c,n.get(c.key));null!=l&&s.push(new gh(c.key,l,tl(l.proto.mapValue),sh.exists(!0)))}return r.zo.Ri(t,i,s,e)})}).then(function(t){var e=t.xs(n);return{batchId:t.batchId,ri:e}})}(r.bh,e)];case 2:return i=a.sent(),r.Vl.Ca(i.batchId),function(t,e,n){var r=t.$l[t.currentUser.A()];r||(r=new Th(ic)),r=r.zt(e,n),t.$l[t.currentUser.A()]=r}(r,i.batchId,n),[4,Iv(r,i.ri)];case 3:return a.sent(),[4,Mg(r.yl)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=Wf(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function fv(t,e){return Object(Bu.b)(this,void 0,void 0,function(){var n,r;return Object(Bu.d)(this,function(i){switch(i.label){case 0:n=ec(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Ap(n.bh,e)];case 2:return r=i.sent(),e.$e.forEach(function(t,e){var r=n.xl.get(e);r&&(tc(t.qe.size+t.Ue.size+t.Qe.size<=1),t.qe.size>0?r.Pl=!0:t.Ue.size>0?tc(r.Pl):t.Qe.size>0&&(tc(r.Pl),r.Pl=!1))}),[4,Iv(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,qd(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function dv(t,e,n){var r=ec(t);if(r.Ml&&0===n||!r.Ml&&1===n){var i=[];r.vl.forEach(function(t,n){var r=n.view.Gh(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=ec(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Gh(e)&&(r=!0)}),r&&Zg(n)}(r.gl,e),i.length&&r.bl.ah(i),r.onlineState=e,r.Ml&&r.Vl.Qa(e)}}function pv(t,e,n){return Object(Bu.b)(this,void 0,void 0,function(){var r,i,o,s,a,u;return Object(Bu.d)(this,function(c){switch(c.label){case 0:return(r=ec(t)).Vl.Ba(e,"rejected",n),i=r.xl.get(e),(o=i&&i.key)?(s=(s=new Th(Cc.H)).zt(o,new rl(o,bc.min())),a=Fh().add(o),u=new $h(bc.min(),new Map,new jh(ic),s,a),[4,fv(r,u)]):[3,2];case 1:return c.sent(),r.Cl=r.Cl.remove(o),r.xl.delete(e),Cv(r),[3,4];case 2:return[4,Pp(r.bh,e,!1).then(function(){return _v(r,e,n)}).catch(qd)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function gv(t,e){return Object(Bu.b)(this,void 0,void 0,function(){var n,r,i;return Object(Bu.d)(this,function(o){switch(o.label){case 0:n=ec(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Tp(n.bh,e)];case 2:return i=o.sent(),bv(n,r,null),mv(n,r),n.Vl.Na(r,"acknowledged"),[4,Iv(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,qd(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function vv(t,e,n){return Object(Bu.b)(this,void 0,void 0,function(){var r,i;return Object(Bu.d)(this,function(o){switch(o.label){case 0:r=ec(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=ec(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.zo.Pi(t,e).next(function(e){return tc(null!==e),r=e.keys(),n.zo.Ci(t,e)}).next(function(){return n.zo.$i(t)}).next(function(){return n.Tc.Xo(t,r)})})}(r.bh,e)];case 2:return i=o.sent(),bv(r,e,n),mv(r,e),r.Vl.Na(e,"rejected",n),[4,Iv(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,qd(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function yv(t,e){return Object(Bu.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Bu.d)(this,function(a){switch(a.label){case 0:Ag((n=ec(t)).yl)||Qu("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=ec(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.zo.Vi(t)})}(n.bh)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fl.get(r)||[]).push(e),n.Fl.set(r,i),[3,4]);case 3:return o=a.sent(),s=Wf(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function mv(t,e){(t.Fl.get(e)||[]).forEach(function(t){t.resolve()}),t.Fl.delete(e)}function bv(t,e,n){var r=ec(t),i=r.$l[r.currentUser.A()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.$l[r.currentUser.A()]=i}}function _v(t,e,n){void 0===n&&(n=null),t.Vl.ka(e);for(var r=0,i=t.Sl.get(e);r<i.length;r++){var o=i[r];t.vl.delete(o),n&&t.bl.Bl(o,n)}t.Sl.delete(e),t.Ml&&t.Nl.Fc(e).forEach(function(e){t.Nl.Fi(e)||wv(t,e)})}function wv(t,e){t.Dl.delete(e.path.rt());var n=t.Cl.get(e);null!==n&&(Cg(t.yl,n),t.Cl=t.Cl.remove(e),t.xl.delete(n),Cv(t))}function Ov(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof nv?(t.Nl.nr(o.key,e),Ev(t,o)):o instanceof rv?(Qu("SyncEngine","Document no longer in limbo: "+o.key),t.Nl.ir(o.key,e),t.Nl.Fi(o.key)||wv(t,o.key)):Ju()}}function Ev(t,e){var n=e.key,r=n.path.rt();t.Cl.get(n)||t.Dl.has(r)||(Qu("SyncEngine","New document in limbo: "+n),t.Dl.add(r),Cv(t))}function Cv(t){for(;t.Dl.size>0&&t.Cl.size<t.pl;){var e=t.Dl.values().next().value;t.Dl.delete(e);var n=new Cc(wc.ot(e)),r=t.Ol.next();t.xl.set(r,new sv(n)),t.Cl=t.Cl.zt(n,r),Eg(t.yl,new Hl(Rl(Tl(n.path)),r,2,yc.q))}}function Iv(t,e,n){return Object(Bu.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Bu.d)(this,function(a){switch(a.label){case 0:return r=ec(t),i=[],o=[],s=[],r.vl.et()?[3,3]:(r.vl.forEach(function(t,a){s.push(r.Ll(a,e,n).then(function(t){if(t){r.Ml&&r.Vl.Ba(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Op.oc(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.bl.ah(i),[4,function(t,e){return Object(Bu.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return Object(Bu.d)(this,function(l){switch(l.label){case 0:n=ec(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Mf.forEach(e,function(e){return Mf.forEach(e.ic,function(r){return n.persistence.Ti.nr(t,e.targetId,r)}).next(function(){return Mf.forEach(e.rc,function(r){return n.persistence.Ti.ir(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!qf(r=l.sent()))throw r;return Qu("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.fc.get(a),c=u.Lt(u.Ot),n.fc=n.fc.zt(a,c));return[2]}})})}(r.bh,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function Sv(t,e){return Object(Bu.b)(this,void 0,void 0,function(){var n,r;return Object(Bu.d)(this,function(i){switch(i.label){case 0:return(n=ec(t)).currentUser.isEqual(e)?[3,3]:(Qu("SyncEngine","User change. New user:",e.A()),[4,Sp(n.bh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fl.forEach(function(t){t.forEach(function(t){t.reject(new cc(uc.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fl.clear()}(n),n.Vl.Ua(e,r.mc,r.Ac),[4,Iv(n,r.Ic)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Tv(t,e){var n=ec(t),r=n.xl.get(e);if(r&&r.Pl)return Fh().add(r.key);var i=Fh(),o=n.Sl.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.vl.get(a[s]);i=i.Pe(u.view._l)}return i}function xv(t,e){return Object(Bu.b)(this,void 0,void 0,function(){var n,r,i;return Object(Bu.d)(this,function(o){switch(o.label){case 0:return[4,Rp((n=ec(t)).bh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Al(r),[2,(n.Ml&&Ov(n,e.targetId,i.Il),i)]}})})}function Av(t){return Object(Bu.b)(this,void 0,void 0,function(){var e;return Object(Bu.d)(this,function(n){return[2,Mp((e=ec(t)).bh).then(function(t){return Iv(e,t)})]})})}function jv(t,e,n,r){return Object(Bu.b)(this,void 0,void 0,function(){var i,o;return Object(Bu.d)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=ec(t),r=ec(n.zo);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.yi(t,e).next(function(e){return e?n.Tc.Xo(t,e):Mf.resolve(null)})})}((i=ec(t)).bh,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,Mg(i.yl)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(bv(i,e,r||null),mv(i,e),function(t,e){ec(ec(t).zo).xi(e)}(i.bh,e)):Ju(),s.label=4;case 4:return[4,Iv(i,o)];case 5:return s.sent(),[3,7];case 6:Qu("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function kv(t,e){return Object(Bu.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(Bu.d)(this,function(c){switch(c.label){case 0:return Vv(n=ec(t)),Lv(n),!0!==e||!0===n.kl?[3,3]:(r=n.Vl.va(),[4,Nv(n,r.it())]);case 1:return i=c.sent(),n.kl=!0,[4,zg(n.yl,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)Eg(n.yl,s[o]);return[3,7];case 3:return!1!==e||!1===n.kl?[3,7]:(a=[],u=Promise.resolve(),n.Sl.forEach(function(t,e){n.Vl.Ma(e)?a.push(e):u=u.then(function(){return _v(n,e),Pp(n.bh,e,!0)}),Cg(n.yl,e)}),[4,u]);case 4:return c.sent(),[4,Nv(n,a)];case 5:return c.sent(),function(t){var e=ec(t);e.xl.forEach(function(t,n){Cg(e.yl,n)}),e.Nl.Oc(),e.xl=new Map,e.Cl=new Th(Cc.H)}(n),n.kl=!1,[4,zg(n.yl,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function Nv(t,e,n){return Object(Bu.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,h,f,d,p;return Object(Bu.d)(this,function(g){switch(g.label){case 0:n=ec(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.Sl.get(a=s[o]))&&0!==c.length?[4,Np(n.bh,Rl(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.vl.get(h[l]),[4,xv(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Dp(n.bh,a)];case 8:return p=g.sent(),[4,Np(n.bh,p)];case 9:return u=g.sent(),[4,cv(n,Pv(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.bl.ah(i),r)]}})})}function Pv(t){return Sl(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Rv(t){var e=ec(t);return ec(ec(e.bh).persistence).Uo()}function Dv(t,e,n,r){return Object(Bu.b)(this,void 0,void 0,function(){var i,o,s;return Object(Bu.d)(this,function(a){switch(a.label){case 0:return(i=ec(t)).kl?(Qu("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Sl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Mp(i.bh)];case 3:return o=a.sent(),s=$h.Me(e,"current"===n),[4,Iv(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Pp(i.bh,e,!0)];case 6:return a.sent(),_v(i,e,r),[3,8];case 7:Ju(),a.label=8;case 8:return[2]}})})}function Mv(t,e,n){return Object(Bu.b)(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,h;return Object(Bu.d)(this,function(f){switch(f.label){case 0:if(!(r=Vv(t)).kl)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Sl.has(s=o[i])?(Qu("SyncEngine","Adding an already active target "+s),[3,5]):[4,Dp(r.bh,s)]:[3,6];case 2:return a=f.sent(),[4,Np(r.bh,a)];case 3:return u=f.sent(),[4,cv(r,Pv(a),u.targetId,!1)];case 4:f.sent(),Eg(r.yl,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(Bu.d)(this,function(e){switch(e.label){case 0:return r.Sl.has(t)?[4,Pp(r.bh,t,!1).then(function(){Cg(r.yl,t),_v(r,t)}).catch(qd)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function Vv(t){var e=ec(t);return e.yl.Dh.Lh=fv.bind(null,e),e.yl.Dh.vn=Tv.bind(null,e),e.yl.Dh.Mh=pv.bind(null,e),e.bl.ah=Xg.bind(null,e.gl),e.bl.Bl=Yg.bind(null,e.gl),e}function Lv(t){var e=ec(t);return e.yl.Dh.Bh=gv.bind(null,e),e.yl.Dh.qh=vv.bind(null,e),e}var Uv=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Bu.b)(this,void 0,void 0,function(){return Object(Bu.d)(this,function(e){switch(e.label){case 0:return this.Qt=dg(t.yu.t),this.Vl=this.Wl(t),this.persistence=this.jl(t),[4,this.persistence.start()];case 1:return e.sent(),this.Gl=this.zl(t),this.bh=this.Hl(t),[2]}})})},t.prototype.zl=function(t){return null},t.prototype.Hl=function(t){return Ip(this.persistence,new Ep,t.Jl,this.Qt)},t.prototype.jl=function(t){return new Wp(Qp.ia,this.Qt)},t.prototype.Wl=function(t){return new og},t.prototype.terminate=function(){return Object(Bu.b)(this,void 0,void 0,function(){return Object(Bu.d)(this,function(t){switch(t.label){case 0:return this.Gl&&this.Gl.stop(),[4,this.Vl.ko()];case 1:return t.sent(),[4,this.persistence.ko()];case 2:return t.sent(),[2]}})})},t}(),Fv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Yl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Bu.c)(e,t),e.prototype.initialize=function(e){return Object(Bu.b)(this,void 0,void 0,function(){return Object(Bu.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Vp(this.bh)];case 2:return n.sent(),[4,this.Yl.initialize(this,e)];case 3:return n.sent(),[4,Lv(this.Yl._a)];case 4:return n.sent(),[4,Mg(this.Yl.yl)];case 5:return n.sent(),[2]}})})},e.prototype.Hl=function(t){return Ip(this.persistence,new Ep,t.Jl,this.Qt)},e.prototype.zl=function(t){return new ip(this.persistence.Ti.lr,t._s)},e.prototype.jl=function(t){var e=bp(t.yu.t,t.yu.persistenceKey),n=void 0!==this.cacheSizeBytes?Fd.Ys(this.cacheSizeBytes):Fd.ti;return new vp(this.synchronizeTabs,e,t.clientId,n,t._s,hg(),fg(),this.Qt,this.Vl,!!this.forceOwnership)},e.prototype.Wl=function(t){return new og},e}(Uv),qv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Yl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Bu.c)(e,t),e.prototype.initialize=function(e){return Object(Bu.b)(this,void 0,void 0,function(){var n,r=this;return Object(Bu.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Yl._a,this.Vl instanceof ig?(this.Vl._a={eu:jv.bind(null,n),nu:Dv.bind(null,n),su:Mv.bind(null,n),Uo:Rv.bind(null,n),tu:Av.bind(null,n)},[4,this.Vl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Ro(function(t){return Object(Bu.b)(r,void 0,void 0,function(){return Object(Bu.d)(this,function(e){switch(e.label){case 0:return[4,kv(this.Yl._a,t)];case 1:return e.sent(),this.Gl&&(t&&!this.Gl.Er?this.Gl.start(this.bh):t||this.Gl.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Wl=function(t){var e=hg();if(!ig.Kn(e))throw new cc(uc.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=bp(t.yu.t,t.yu.persistenceKey);return new ig(e,t._s,n,t.clientId,t.Jl)},e}(Fv),Hv=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Bu.b)(this,void 0,void 0,function(){var n=this;return Object(Bu.d)(this,function(r){switch(r.label){case 0:return this.bh?[3,2]:(this.bh=t.bh,this.Vl=t.Vl,this.Sh=this.Xl(e),this.yl=this.Zl(e),this.gl=this.t_(e),this._a=this.e_(e,!t.synchronizeTabs),this.Vl.fa=function(t){return dv(n._a,t,1)},this.yl.Dh.n_=Sv.bind(null,this._a),[4,zg(this.yl,this._a.Ml)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.t_=function(t){return new Wg},t.prototype.Xl=function(t){var e=dg(t.yu.t),n=new lg(t.yu);return function(t,e,n){return new mg(t,e,n)}(t.credentials,n,e)},t.prototype.Zl=function(t){var e,n,r,i,o,s=this;return e=this.bh,n=this.Sh,r=t._s,i=function(t){return dv(s._a,t,0)},o=ag.Kn()?new ag:new sg,new _g(e,n,r,i,o)},t.prototype.e_=function(t,e){return function(t,e,n,r,i,o,s){var a=new av(t,e,n,r,i,o);return s&&(a.kl=!0),a}(this.bh,this.yl,this.gl,this.Vl,t.Jl,t.pl,e)},t.prototype.terminate=function(){return function(t){return Object(Bu.b)(this,void 0,void 0,function(){var e;return Object(Bu.d)(this,function(n){switch(n.label){case 0:return e=ec(t),Qu("RemoteStore","RemoteStore shutting down."),e.Nh.add(5),[4,Og(e)];case 1:return n.sent(),e.Fh.ko(),e.Oh.set("Unknown"),[2]}})})}(this.yl)},t}(),zv=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.s_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.s_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.i_=function(){this.muted=!0},t.prototype.s_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Bv=(function(){function t(t,e){var n=this;this.r_=t,this.Qt=e,this.metadata=new Df,this.buffer=new Uint8Array,this.o_=new TextDecoder("utf-8"),this.c_().then(function(t){t&&t.sl()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.r_.cancel()},t.prototype.getMetadata=function(){return Object(Bu.b)(this,void 0,void 0,function(){return Object(Bu.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Ql=function(){return Object(Bu.b)(this,void 0,void 0,function(){return Object(Bu.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.c_())]}})})},t.prototype.c_=function(){return Object(Bu.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(Bu.d)(this,function(i){switch(i.label){case 0:return[4,this.a_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.o_.decode(t),n=Number(e),isNaN(n)&&this.u_("length string ("+e+") is not valid number"),[4,this.h_(n)]);case 2:return r=i.sent(),[2,new tv(JSON.parse(r),t.length+n)]}})})},t.prototype.l_=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.a_=function(){return Object(Bu.b)(this,void 0,void 0,function(){var t,e;return Object(Bu.d)(this,function(n){switch(n.label){case 0:return this.l_()<0?[4,this.__()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.l_())<0&&this.u_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.h_=function(t){return Object(Bu.b)(this,void 0,void 0,function(){var e;return Object(Bu.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.__()]:[3,3];case 1:n.sent()&&this.u_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.o_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.u_=function(t){throw this.r_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.__=function(){return Object(Bu.b)(this,void 0,void 0,function(){var t,e;return Object(Bu.d)(this,function(n){switch(n.label){case 0:return[4,this.r_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new cc(uc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.f_=new Ec(t)}return t.prototype.isEqual=function(t){return this.f_.isEqual(t.f_)},t}()),Gv=function(t){this._methodName=t},$v=function(t){this.d_=t};function Wv(t,e,n){if(!n)throw new cc(uc.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Kv(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new cc(uc.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Qv(t,e,n,r){if(!0===e&&!0===r)throw new cc(uc.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Xv(t){if(!Cc.wt(t))throw new cc(uc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Yv(t){if(Cc.wt(t))throw new cc(uc.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Zv(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Ju()}function Jv(t,e){if("_delegate"in t&&(t=t.d_),!(t instanceof e)){if(e.name===t.constructor.name)throw new cc(uc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Zv(t);throw new cc(uc.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function ty(t,e){if(e<=0)throw new cc(uc.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var ey=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new cc(uc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new cc(uc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Qv("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),ny=new Map,ry=function(){function t(t,e){this.w_="(lite)",this.E_=new ey({}),this.T_=!1,t instanceof $u?(this.I_=t,this.m_=new dc):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new cc(uc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $u(t.options.projectId)}(t),this.m_=new pc(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new cc(uc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new cc(uc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new ey(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new dc;switch(t.type){case"gapi":var e=t.client;return tc(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new vc(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new cc(uc.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.toJSON=function(){return{app:this.A_,t:this.I_,settings:this.E_}},t.prototype.b_=function(){return(t=ny.get(this))&&(Qu("ComponentProvider","Removing Datastore"),ny.delete(this),t.terminate()),Promise.resolve();var t},t}(),iy=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new sy(this.firestore,this.v_,this.S_.path.X())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),oy=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),sy=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Tl(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object(Bu.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.X();return t.et()?null:new iy(this.firestore,null,new Cc(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(oy);function ay(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof $v&&(t=t.d_),Wv("collection","path",e),t instanceof ry)return Yv(n=wc.ot.apply(wc,Object(Bu.g)([e],r))),new sy(t,null,n);if(!(t instanceof iy||t instanceof sy))throw new cc(uc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Yv(n=wc.ot.apply(wc,Object(Bu.g)([t.path],r)).child(wc.ot(e))),new sy(t.firestore,null,n)}function uy(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof $v&&(t=t.d_),1===arguments.length&&(e=rc.u()),Wv("doc","path",e),t instanceof ry)return Xv(n=wc.ot.apply(wc,Object(Bu.g)([e],r))),new iy(t,null,new Cc(n));if(!(t instanceof iy||t instanceof sy))throw new cc(uc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Xv(n=t.D_.child(wc.ot.apply(wc,Object(Bu.g)([e],r)))),new iy(t.firestore,t instanceof sy?t.v_:null,new Cc(n))}function cy(t,e){return t instanceof $v&&(t=t.d_),e instanceof $v&&(e=e.d_),(t instanceof iy||t instanceof sy)&&(e instanceof iy||e instanceof sy)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function ly(t,e){return t instanceof $v&&(t=t.d_),e instanceof $v&&(e=e.d_),t instanceof oy&&e instanceof oy&&t.firestore===e.firestore&&Ml(t.C_,e.C_)&&t.v_===e.v_}var hy=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new cc(uc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new cc(uc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.U=function(t){return ic(this.x_,t.x_)||ic(this.N_,t.N_)},t}(),fy=/^__.*__$/,dy=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.Gt?new gh(t,this.data,this.Gt,e,this.fieldTransforms):new ph(t,this.data,e,this.fieldTransforms)},t}(),py=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new gh(t,this.data,this.Gt,e,this.fieldTransforms)},t}();function gy(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ju()}}var vy=function(){function t(t,e,n,r,i,o){this.settings=t,this.t=e,this.Qt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.Gt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.Qt,this.ignoreUndefinedProperties,this.fieldTransforms,this.Gt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return My(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.Gt.find(function(e){return t.nt(e)})||void 0!==this.fieldTransforms.find(function(e){return t.nt(e.field)})},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(gy(this.k_)&&fy.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),yy=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.Qt=n||dg(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new vy({k_:t,methodName:e,j_:n,path:Ec.ct(),B_:!1,W_:r},this.t,this.Qt,this.ignoreUndefinedProperties)},t}();function my(t){var e=t.p_(),n=dg(t.I_);return new yy(t.I_,!!e.ignoreUndefinedProperties,n)}function by(t,e,n,r,i,o){void 0===o&&(o={});var s=t.G_(o.merge||o.mergeFields?2:0,e,n,i);Ny("Data must be an object, but it was:",s,r);var a,u,c=jy(r,s);if(o.merge)a=new xc(s.Gt),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=Py(e,f[h],n);if(!s.contains(d))throw new cc(uc.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Vy(l,d)||l.push(d)}a=new xc(l),u=s.fieldTransforms.filter(function(t){return a.Tt(t.field)})}else a=null,u=s.fieldTransforms;return new dy(new Zc(c),a,u)}var _y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Bu.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.Gt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Gv);function wy(t,e,n){return new vy({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.t,e.Qt,e.ignoreUndefinedProperties)}var Oy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Bu.c)(e,t),e.prototype.z_=function(t){return new ih(t.path,new Xl)},e.prototype.isEqual=function(t){return t instanceof e},e}(Gv),Ey=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(Bu.c)(e,t),e.prototype.z_=function(t){var e=wy(this,t,!0),n=this.H_.map(function(t){return Ay(t,e)}),r=new Yl(n);return new ih(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Gv),Cy=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(Bu.c)(e,t),e.prototype.z_=function(t){var e=wy(this,t,!0),n=this.H_.map(function(t){return Ay(t,e)}),r=new Jl(n);return new ih(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Gv),Iy=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(Bu.c)(e,t),e.prototype.z_=function(t){var e=new eh(t.Qt,Gl(t.Qt,this.J_));return new ih(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Gv);function Sy(t,e,n,r){var i=t.G_(1,e,n);Ny("Data must be an object, but it was:",i,r);var o=[],s=new Jc;Sc(r,function(t,r){var a=Dy(e,t,n);r instanceof $v&&(r=r.d_);var u=i.U_(a);if(r instanceof _y)o.push(a);else{var c=Ay(r,u);null!=c&&(o.push(a),s.set(a,c))}});var a=new xc(o);return new py(s.Pt(),a,i.fieldTransforms)}function Ty(t,e,n,r,i,o){var s=t.G_(1,e,n),a=[Py(e,r,n)],u=[i];if(o.length%2!=0)throw new cc(uc.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(Py(e,o[c])),u.push(o[c+1]);for(var l=[],h=new Jc,f=a.length-1;f>=0;--f)if(!Vy(l,a[f])){var d=a[f],p=u[f];p instanceof $v&&(p=p.d_);var g=s.U_(d);if(p instanceof _y)l.push(d);else{var v=Ay(p,g);null!=v&&(l.push(d),h.set(d,v))}}var y=new xc(l);return new py(h.Pt(),y,s.fieldTransforms)}function xy(t,e,n,r){return void 0===r&&(r=!1),Ay(n,t.G_(r?4:3,e))}function Ay(t,e){if(t instanceof $v&&(t=t.d_),ky(t))return Ny("Unsupported field value:",e,t),jy(t,e);if(t instanceof Gv)return function(t,e){if(!gy(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.Gt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Ay(o[i],e.Q_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof $v&&(t=t.d_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Gl(e.Qt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=mc.fromDate(t);return{timestampValue:of(e.Qt,n)}}if(t instanceof mc)return n=new mc(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:of(e.Qt,n)};if(t instanceof hy)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof lc)return{bytesValue:sf(e.Qt,t.I)};if(t instanceof iy){var r=t.firestore.I_;if(!r.isEqual(n=e.t))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:cf(t.firestore.I_||e.t,t.S_.path)}}throw e.K_("Unsupported field value: "+Zv(t))}(t,e)}function jy(t,e){var n={};return Tc(t)?e.path&&e.path.length>0&&e.Gt.push(e.path):Sc(t,function(t,r){var i=Ay(r,e.L_(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function ky(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof mc||t instanceof hy||t instanceof lc||t instanceof iy||t instanceof Gv)}function Ny(t,e,n){if(!ky(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Zv(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function Py(t,e,n){if(e instanceof $v&&(e=e.d_),e instanceof Bv)return e.f_;if("string"==typeof e)return Dy(t,e);throw My("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Ry=new RegExp("[~\\*/\\[\\]]");function Dy(t,e,n){if(e.search(Ry)>=0)throw My("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Bv.bind.apply(Bv,Object(Bu.g)([void 0],e.split("."))))).f_}catch(r){throw My("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function My(t,e,n,r,i){var o=r&&!r.et(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new cc(uc.INVALID_ARGUMENT,(a+=". ")+t+u)}function Vy(t,e){return t.some(function(t){return t.isEqual(e)})}var Ly=function(){function t(t){this.Sh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(Bu.b)(this,void 0,void 0,function(){var e,n=this;return Object(Bu.d)(this,function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new cc(uc.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Bu.b)(this,void 0,void 0,function(){var n,r,i,o,s,a;return Object(Bu.d)(this,function(u){switch(u.label){case 0:return n=ec(t),r=gf(n.Qt)+"/documents",i={documents:e.map(function(t){return hf(n.Qt,t)})},[4,n.Du("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){tc(!!e.found);var n=ff(t,e.found.name),r=uf(e.found.updateTime),i=new Zc({mapValue:{fields:e.found.fields}});return new nl(n,r,i,{})}(t,e):"missing"in e?function(t,e){tc(!!e.missing),tc(!!e.readTime);var n=ff(t,e.missing),r=uf(e.readTime);return new rl(n,r)}(t,e):Ju()}(n.Qt,t);s.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());tc(!!e),a.push(e)}),a)]}})})}(this.Sh,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof rl||t instanceof nl?n.sf(t):Ju()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.F_(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new Oh(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(Bu.b)(this,void 0,void 0,function(){var t,e=this;return Object(Bu.d)(this,function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=Cc._t(n);e.mutations.push(new Eh(r,e.jt(r)))}),[4,function(t,e){return Object(Bu.b)(this,void 0,void 0,function(){var n,r,i;return Object(Bu.d)(this,function(o){switch(o.label){case 0:return n=ec(t),r=gf(n.Qt)+"/documents",i={writes:e.map(function(t){return bf(n.Qt,t)})},[4,n.pu("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.Sh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}})})},t.prototype.sf=function(t){var e;if(t instanceof nl)e=t.version;else{if(!(t instanceof rl))throw Ju();e=bc.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new cc(uc.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.jt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?sh.updateTime(e):sh.Kt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(bc.min()))throw new cc(uc.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return sh.updateTime(e)}return sh.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),Uy=function(){function t(t,e,n,r){this._s=t,this.Sh=e,this.updateFunction=n,this.Es=r,this.cf=5,this.Gu=new pg(this._s,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.Gu.Lu(function(){return Object(Bu.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(Bu.d)(this,function(r){return t=new Ly(this.Sh),(e=this.uf(t))&&e.then(function(e){n._s.Ps(function(){return t.commit().then(function(){n.Es.resolve(e)}).catch(function(t){n.hf(t)})})}).catch(function(t){n.hf(t)}),[2]})})})},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!Mc(e)&&e.catch&&e.then?e:(this.Es.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Es.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this._s.Ps(function(){return e.af(),Promise.resolve()})):this.Es.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Ih(e)}return!1},t}(),Fy=function(){function t(t,e,n){var r=this;this.credentials=t,this._s=e,this.yu=n,this.user=hc.UNAUTHENTICATED,this.clientId=rc.u(),this._f=function(){},this.C=new Df,this.credentials.v(function(t){Qu("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.C.resolve()})}return t.prototype.getConfiguration=function(){return Object(Bu.b)(this,void 0,void 0,function(){return Object(Bu.d)(this,function(t){switch(t.label){case 0:return[4,this.C.promise];case 1:return[2,(t.sent(),{_s:this._s,yu:this.yu,clientId:this.clientId,credentials:this.credentials,Jl:this.user,pl:100})]}})})},t.prototype.ff=function(t){var e=this;this._f=t,this.C.promise.then(function(){return e._f(e.user)})},t.prototype.df=function(){if(this._s.wf)throw new cc(uc.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this._s.Ef();var e=new Df;return this._s.Tf(function(){return Object(Bu.b)(t,void 0,void 0,function(){var t,n;return Object(Bu.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.S(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Wf(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function qy(t,e){return Object(Bu.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(Bu.d)(this,function(o){switch(o.label){case 0:return t._s.Af(),Qu("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Jl,t.ff(function(n){r.isEqual(n)||(r=n,t._s.po(function(){return Object(Bu.b)(i,void 0,void 0,function(){return Object(Bu.d)(this,function(t){switch(t.label){case 0:return[4,Sp(e.bh,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.Po(function(){return t.terminate()}),t.mf=e,[2]}})})}function Hy(t,e){return Object(Bu.b)(this,void 0,void 0,function(){var n,r;return Object(Bu.d)(this,function(i){switch(i.label){case 0:return t._s.Af(),[4,zy(t)];case 1:return n=i.sent(),Qu("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff(function(n){return t._s.po(function(){return function(t,e){return Object(Bu.b)(this,void 0,void 0,function(){var n,r;return Object(Bu.d)(this,function(i){switch(i.label){case 0:return(n=ec(t))._s.Af(),Qu("RemoteStore","RemoteStore received new credentials"),r=Ag(n),n.Nh.add(3),[4,Og(n)];case 1:return i.sent(),r&&n.Oh.set("Unknown"),[4,n.Dh.n_(e)];case 2:return i.sent(),n.Nh.delete(3),[4,wg(n)];case 3:return i.sent(),[2]}})})}(e.yl,n)})}),t.If=e,[2]}})})}function zy(t){return Object(Bu.b)(this,void 0,void 0,function(){return Object(Bu.d)(this,function(e){switch(e.label){case 0:return t.mf?[3,2]:(Qu("FirestoreClient","Using default OfflineComponentProvider"),[4,qy(t,new Uv)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}})})}function By(t){return Object(Bu.b)(this,void 0,void 0,function(){return Object(Bu.d)(this,function(e){switch(e.label){case 0:return t.If?[3,2]:(Qu("FirestoreClient","Using default OnlineComponentProvider"),[4,Hy(t,new Hv)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}})})}function Gy(t){return zy(t).then(function(t){return t.persistence})}function $y(t){return zy(t).then(function(t){return t.bh})}function Wy(t){return By(t).then(function(t){return t.yl})}function Ky(t){return By(t).then(function(t){return t._a})}function Qy(t){return Object(Bu.b)(this,void 0,void 0,function(){var e,n;return Object(Bu.d)(this,function(r){switch(r.label){case 0:return[4,By(t)];case 1:return e=r.sent(),[2,((n=e.gl).jh=uv.bind(null,e._a),n.Hh=lv.bind(null,e._a),n)]}})})}function Xy(t,e,n){var r=this;void 0===n&&(n={});var i=new Df;return t._s.Ps(function(){return Object(Bu.b)(r,void 0,void 0,function(){var r;return Object(Bu.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new zv({next:function(o){e.Ps(function(){return Qg(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new cc(uc.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new cc(uc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Jg(Tl(n.path),o,{includeMetadataChanges:!0,nl:!0});return Kg(t,s)},[4,Qy(t)];case 1:return[2,r.apply(void 0,[o.sent(),t._s,e,n,i])]}})})}),i.promise}function Yy(t,e,n){var r=this;void 0===n&&(n={});var i=new Df;return t._s.Ps(function(){return Object(Bu.b)(r,void 0,void 0,function(){var r;return Object(Bu.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new zv({next:function(n){e.Ps(function(){return Qg(t,s)}),n.fromCache&&"server"===r.source?i.reject(new cc(uc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Jg(n,o,{includeMetadataChanges:!0,nl:!0});return Kg(t,s)},[4,Qy(t)];case 1:return[2,r.apply(void 0,[o.sent(),t._s,e,n,i])]}})})}),i.promise}var Zy=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.Gu=new pg(this,"async_queue_retry"),this.vf=function(){var e=fg();e&&Qu("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Gu.qu()};var e=fg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.Ps=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=fg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise(function(t){}):this.Df(t)},t.prototype.po=function(t){var e=this;this.Ps(function(){return e.Pf.push(t),e.Cf()})},t.prototype.Cf=function(){return Object(Bu.b)(this,void 0,void 0,function(){var t,e=this;return Object(Bu.d)(this,function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.Gu.reset(),[3,4];case 3:if(!qf(t=n.sent()))throw t;return Qu("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.Gu.Lu(function(){return e.Cf()}),n.label=5;case 5:return[2]}})})},t.prototype.Df=function(t){var e=this,n=this.Rf.then(function(){return e.pf=!0,t().catch(function(t){throw e.Vf=t,e.pf=!1,Xu("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.pf=!1,t})});return this.Rf=n,n},t.prototype.Tr=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=$f.Ts(this,t,e,n,function(t){return r.xf(t)});return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&Ju()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(Bu.b)(this,void 0,void 0,function(){var t;return Object(Bu.d)(this,function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.$f=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].fs===t)return!0;return!1},t.prototype.Ff=function(t){var e=this;return this.Nf().then(function(){e.gf.sort(function(t,e){return t.ds-e.ds});for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Rs(),"all"!==t&&i.fs===t)break}return e.Nf()})},t.prototype.Of=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}();function Jy(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this.kf={},this.Mf=new Df,this.Lf={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.kf={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.Mf.promise.catch(t)},t.prototype.then=function(t,e){return this.Mf.promise.then(t,e)},t.prototype.ql=function(t){this.Ul(t),this.kf.complete&&this.kf.complete(),this.Mf.resolve(t)},t.prototype.Kl=function(t){this.Lf.taskState="Error",this.kf.next&&this.kf.next(this.Lf),this.kf.error&&this.kf.error(t),this.Mf.reject(t)},t.prototype.Ul=function(t){this.Lf=t,this.kf.next&&this.kf.next(t)}}();var tm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Bf=new Zy,r.w_="name"in e?e.name:"[DEFAULT]",r}return Object(Bu.c)(e,t),e.prototype.b_=function(){return this.qf||nm(this),this.qf.terminate()},e}(ry);function em(t){return t.qf||nm(t),t.qf.df(),t.qf}function nm(t){var e=t.p_(),n=function(t,e,n){return new Gu(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.qf=new Fy(t.m_,t.Bf,n)}function rm(t,e,n){var r=this,i=new Df;return t._s.enqueue(function(){return Object(Bu.b)(r,void 0,void 0,function(){var r;return Object(Bu.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,qy(t,n)];case 1:return o.sent(),[4,Hy(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===uc.FAILED_PRECONDITION||t.code===uc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function im(t){if(t.R_||t.P_)throw new cc(uc.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var om=function(){function t(){}return t.prototype.Uf=function(t,e){switch(void 0===e&&(e="none"),Uc(t)){case 0:return null;case 1:return t.booleanValue;case 2:return kc(t.integerValue||t.doubleValue);case 3:return this.Qf(t.timestampValue);case 4:return this.Kf(t,e);case 5:return t.stringValue;case 6:return this.Wf(Nc(t.bytesValue));case 7:return this.jf(t.referenceValue);case 8:return this.Gf(t.geoPointValue);case 9:return this.zf(t.arrayValue,e);case 10:return this.Hf(t.mapValue,e);default:throw Ju()}},t.prototype.Hf=function(t,e){var n=this,r={};return Sc(t.fields||{},function(t,i){r[t]=n.Uf(i,e)}),r},t.prototype.Gf=function(t){return new hy(kc(t.latitude),kc(t.longitude))},t.prototype.zf=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.Uf(t,e)})},t.prototype.Kf=function(t,e){switch(e){case"previous":var n=Rc(t);return null==n?null:this.Uf(n,e);case"estimate":return this.Qf(Dc(t));default:return null}},t.prototype.Qf=function(t){var e=jc(t);return new mc(e.seconds,e.nanos)},t.prototype.Jf=function(t,e){var n=wc.ot(t);tc(Rf(n));var r=new $u(n.get(1),n.get(3)),i=new Cc(n.Y(5));return r.isEqual(e)||Xu("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),sm=function(){function t(t,e,n,r,i){this.Yf=t,this.Xf=e,this.S_=n,this.Zf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new iy(this.Yf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Zf},t.prototype.data=function(){if(this.Zf){if(this.v_){var t=new am(this.Yf,this.Xf,this.S_,this.Zf,null);return this.v_.fromFirestore(t)}return this.Xf.Uf(this.Zf.bt())}},t.prototype.get=function(t){if(this.Zf){var e=this.Zf.data().field(um("DocumentSnapshot.get",t));if(null!==e)return this.Xf.Uf(e)}},t}(),am=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Bu.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(sm);function um(t,e){return"string"==typeof e?Dy(t,e):e instanceof $v?e.d_.f_:e.f_}function cm(t){if(Al(t)&&0===t.xt.length)throw new cc(uc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var lm=function(){};function hm(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.td(t)}return t}var fm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).ed=e,i.nd=n,i.sd=r,i.type="where",i}return Object(Bu.c)(e,t),e.prototype.td=function(t){var e=my(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.ut()){if("array-contains"===o||"array-contains-any"===o)throw new cc(uc.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){bm(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(mm(r,t,l[c]));a={arrayValue:{values:u}}}else a=mm(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||bm(s,o),a=xy(n,"where",s,"in"===o||"not-in"===o);var h=ll.create(i,o,a);return function(t,e){if(e.Ct()){var n=kl(t);if(null!==n&&!n.isEqual(e.field))throw new cc(uc.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=jl(t);null!==r&&_m(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new cc(uc.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.ed,this.nd,this.sd);return new oy(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new Il(t.path,t.collectionGroup,t.xt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(lm),dm=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ed=e,r.rd=n,r.type="orderBy",r}return Object(Bu.c)(e,t),e.prototype.td=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new cc(uc.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new cc(uc.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new wl(e,n);return function(t,e){if(null===jl(t)){var n=kl(t);null!==n&&_m(0,n,e.field)}}(t,r),r}(t.C_,this.ed,this.rd);return new oy(t.firestore,t.v_,function(t,e){var n=t.xt.concat([e]);return new Il(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(lm),pm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.od=n,i.ad=r,i}return Object(Bu.c)(e,t),e.prototype.td=function(t){return new oy(t.firestore,t.v_,Dl(t.C_,this.od,this.ad))},e}(lm),gm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return Object(Bu.c)(e,t),e.prototype.td=function(t){var e=ym(t,this.type,this.ud,this.hd);return new oy(t.firestore,t.v_,function(t,e){return new Il(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(lm),vm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return Object(Bu.c)(e,t),e.prototype.td=function(t){var e=ym(t,this.type,this.ud,this.hd);return new oy(t.firestore,t.v_,function(t,e){return new Il(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(lm);function ym(t,e,n,r){if(n[0]instanceof $v&&(n[0]=n[0].d_),n[0]instanceof sm)return function(t,e,n,r,i){if(!r)throw new cc(uc.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Pl(t);s<a.length;s++){var u=a[s];if(u.field.ut())o.push($c(e,r.key));else{var c=r.field(u.field);if(Pc(c))throw new cc(uc.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.rt();throw new cc(uc.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new bl(o,i)}(t.C_,t.firestore.I_,e,n[0].Zf,r);var i=my(t.firestore);return function(t,e,n,r,i,o){var s=t.xt;if(i.length>s.length)throw new cc(uc.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.ut()){if("string"!=typeof c)throw new cc(uc.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Nl(t)&&-1!==c.indexOf("/"))throw new cc(uc.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(wc.ot(c));if(!Cc.wt(l))throw new cc(uc.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Cc(l);a.push($c(e,h))}else{var f=xy(n,r,c);a.push(f)}}return new bl(a,o)}(t.C_,t.firestore.I_,i,e,n,r)}function mm(t,e,n){if(n instanceof $v&&(n=n.d_),"string"==typeof n){if(""===n)throw new cc(uc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Nl(e)&&-1!==n.indexOf("/"))throw new cc(uc.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(wc.ot(n));if(!Cc.wt(r))throw new cc(uc.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return $c(t,new Cc(r))}if(n instanceof iy)return $c(t,n.S_);throw new cc(uc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Zv(n)+".")}function bm(t,e){if(!Array.isArray(t)||0===t.length)throw new cc(uc.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new cc(uc.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function _m(t,e,n){if(!n.isEqual(e))throw new cc(uc.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function wm(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Om=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Bu.c)(e,t),e.prototype.Wf=function(t){return new lc(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new iy(this.firestore,null,e)},e}(om),Em=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Cm=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this).Yf=e,a.ld=e,a.metadata=o,a}return Object(Bu.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Zf){if(this.v_){var e=new Im(this.Yf,this.Xf,this.S_,this.Zf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Xf.Uf(this.Zf.bt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Zf){var n=this.Zf.data().field(um("DocumentSnapshot.get",t));if(null!==n)return this.Xf.Uf(n,e.serverTimestamps)}},e}(sm),Im=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Bu.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Cm),Sm=function(){function t(t,e,n,r){this.Yf=t,this.Xf=e,this._d=r,this.metadata=new Em(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._d.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._d.docs.forEach(function(r){t.call(e,new Im(n.Yf,n.Xf,r.key,r,new Em(n._d.De.has(r.key),n._d.fromCache),n.query.v_))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._d.xe)throw new cc(uc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.fd&&this.dd===e||(this.fd=function(t,e){if(t._d.Se.et()){var n=0;return t._d.docChanges.map(function(e){return{type:"added",doc:new Im(t.Yf,t.Xf,e.doc.key,e.doc,new Em(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}})}var r=t._d.Se;return t._d.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new Im(t.Yf,t.Xf,e.doc.key,e.doc,new Em(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Tm(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this.dd=e),this.fd},t}();function Tm(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ju()}}function xm(t,e){return t instanceof Cm&&e instanceof Cm?t.Yf===e.Yf&&t.S_.isEqual(e.S_)&&(null===t.Zf?null===e.Zf:t.Zf.isEqual(e.Zf))&&t.v_===e.v_:t instanceof Sm&&e instanceof Sm&&t.Yf===e.Yf&&ly(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._d.isEqual(e._d)}var Am=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Bu.c)(e,t),e.prototype.Wf=function(t){return new lc(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new iy(this.firestore,null,e)},e}(om);function jm(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Jv(t,iy);var o=Jv(t.firestore,tm),s=my(o);return e instanceof $v&&(e=e.d_),Nm(o,[("string"==typeof e||e instanceof Bv?Ty(s,"updateDoc",t.S_,e,n,r):Sy(s,"updateDoc",t.S_,e)).F_(t.S_,sh.exists(!0))])}function km(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof $v&&(t=t.d_);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Jy(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(Jy(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof iy)c=Jv(t.firestore,tm),l=Tl(t.S_.path),u={next:function(e){i[a]&&i[a](Pm(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=Jv(t,oy);c=Jv(d.firestore,tm),l=d.C_;var p=new Am(c);u={next:function(t){i[a]&&i[a](new Sm(c,p,d,t))},error:i[a+1],complete:i[a+2]},cm(t.C_)}return function(t,e,n,r){var i=this,o=new zv(r),s=new Jg(e,o,n);return t._s.Ps(function(){return Object(Bu.b)(i,void 0,void 0,function(){var e;return Object(Bu.d)(this,function(n){switch(n.label){case 0:return e=Kg,[4,Qy(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.i_(),t._s.Ps(function(){return Object(Bu.b)(i,void 0,void 0,function(){var e;return Object(Bu.d)(this,function(n){switch(n.label){case 0:return e=Qg,[4,Qy(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(em(c),l,h,u)}function Nm(t,e){return function(t,e){var n=this,r=new Df;return t._s.Ps(function(){return Object(Bu.b)(n,void 0,void 0,function(){var n;return Object(Bu.d)(this,function(i){switch(i.label){case 0:return n=hv,[4,Ky(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(em(t),e)}function Pm(t,e,n){var r=n.docs.get(e.S_),i=new Am(t);return new Cm(t,i,e.S_,r,new Em(n.hasPendingWrites,n.fromCache),e.v_)}var Rm=function(){function t(t,e){this.Yf=t,this.wd=e,this.Ed=[],this.Td=!1,this.Id=my(t)}return t.prototype.set=function(t,e,n){this.md();var r=Dm(t,this.Yf),i=wm(r.v_,e,n),o=by(this.Id,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.Ed.push(o.F_(r.S_,sh.Kt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.md();var o,s=Dm(t,this.Yf);return e instanceof $v&&(e=e.d_),o="string"==typeof e||e instanceof Bv?Ty(this.Id,"WriteBatch.update",s.S_,e,n,r):Sy(this.Id,"WriteBatch.update",s.S_,e),this.Ed.push(o.F_(s.S_,sh.exists(!0))),this},t.prototype.delete=function(t){this.md();var e=Dm(t,this.Yf);return this.Ed=this.Ed.concat(new Oh(e.S_,sh.Kt())),this},t.prototype.commit=function(){return this.md(),this.Td=!0,this.Ed.length>0?this.wd(this.Ed):Promise.resolve()},t.prototype.md=function(){if(this.Td)throw new cc(uc.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Dm(t,e){if(t instanceof $v&&(t=t.d_),t.firestore!==e)throw new cc(uc.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Mm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Yf=e,r}return Object(Bu.c)(e,t),e.prototype.get=function(e){var n=this,r=Dm(e,this.Yf),i=new Am(this.Yf);return t.prototype.get.call(this,e).then(function(t){return new Cm(n.Yf,i,r.S_,t.Zf,new Em(!1,!1),r.v_)})},e}(function(){function t(t,e){this.Yf=t,this.Ad=e,this.Id=my(t)}return t.prototype.get=function(t){var e=this,n=Dm(t,this.Yf),r=new Om(this.Yf);return this.Ad.ef([n.S_]).then(function(t){if(!t||1!==t.length)return Ju();var i=t[0];if(i instanceof rl)return new sm(e.Yf,r,n.S_,null,n.v_);if(i instanceof nl)return new sm(e.Yf,r,i.key,i,n.v_);throw Ju()})},t.prototype.set=function(t,e,n){var r=Dm(t,this.Yf),i=wm(r.v_,e,n),o=by(this.Id,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Ad.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=Dm(t,this.Yf);return e instanceof $v&&(e=e.d_),o="string"==typeof e||e instanceof Bv?Ty(this.Id,"Transaction.update",s.S_,e,n,r):Sy(this.Id,"Transaction.update",s.S_,e),this.Ad.update(s.S_,o),this},t.prototype.delete=function(t){var e=Dm(t,this.Yf);return this.Ad.delete(e.S_),this},t}());function Vm(){if("undefined"==typeof Uint8Array)throw new cc(uc.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Lm(){if("undefined"==typeof atob)throw new cc(uc.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Um=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Bu.c)(e,t),e.fromBase64String=function(t){return Lm(),new e(lc.fromBase64String(t))},e.fromUint8Array=function(t){return Vm(),new e(lc.fromUint8Array(t))},e.prototype.toBase64=function(){return Lm(),this.d_.toBase64()},e.prototype.toUint8Array=function(){return Vm(),this.d_.toUint8Array()},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}($v),Fm=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){im(t=Jv(t,tm));var n=em(t),r=t.p_(),i=new Hv;return rm(n,i,new Fv(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.d_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){im(t=Jv(t,tm));var e=em(t),n=t.p_(),r=new Hv;return rm(e,r,new qv(r,n.cacheSizeBytes))}(t.d_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new cc(uc.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Df;return t.Bf.Tf(function(){return Object(Bu.b)(e,void 0,void 0,function(){var e;return Object(Bu.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Bu.b)(this,void 0,void 0,function(){return Object(Bu.d)(this,function(e){switch(e.label){case 0:return Lf.Kn()?[4,Lf.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(bp(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t.d_)},t}(),qm=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Rd=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof $u||(i.Pd=e),i}return Object(Bu.c)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this.d_.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.d_.V_()),t)).merge,this.d_.g_(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=Jv(t,ry)).V_();"firestore.googleapis.com"!==r.host&&r.host!==e&&Yu("Host has been set in both settings() and useEmulator(), emulator host will be used"),t.g_(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this.d_,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t._s.enqueue(function(){return Object(Bu.b)(e,void 0,void 0,function(){var e,n;return Object(Bu.d)(this,function(r){switch(r.label){case 0:return[4,Gy(t)];case 1:return e=r.sent(),[4,Wy(t)];case 2:return n=r.sent(),[2,(e.yo(!0),function(t){var e=ec(t);return e.Nh.delete(0),wg(e)}(n))]}})})})}(em(Jv(this.d_,tm)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t._s.enqueue(function(){return Object(Bu.b)(e,void 0,void 0,function(){var e,n;return Object(Bu.d)(this,function(r){switch(r.label){case 0:return[4,Gy(t)];case 1:return e=r.sent(),[4,Wy(t)];case 2:return n=r.sent(),[2,(e.yo(!1),function(t){return Object(Bu.b)(this,void 0,void 0,function(){var e;return Object(Bu.d)(this,function(n){switch(n.label){case 0:return(e=ec(t)).Nh.add(0),[4,Og(e)];case 1:return n.sent(),e.Oh.set("Offline"),[2]}})})}(n))]}})})})}(em(Jv(this.d_,tm)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Qv("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Rd.enableMultiTabIndexedDbPersistence(this):this.Rd.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Rd.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Pd&&(this.Pd._removeServiceInstance("firestore"),this.Pd._removeServiceInstance("firestore-exp")),this.d_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Df;return t._s.Ps(function(){return Object(Bu.b)(e,void 0,void 0,function(){var e;return Object(Bu.d)(this,function(r){switch(r.label){case 0:return e=yv,[4,Ky(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(em(Jv(this.d_,tm)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new zv(e);return t._s.Ps(function(){return Object(Bu.b)(n,void 0,void 0,function(){var e;return Object(Bu.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){ec(t).Wh.add(e),e.next()},[4,Qy(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.i_(),t._s.Ps(function(){return Object(Bu.b)(n,void 0,void 0,function(){var e;return Object(Bu.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){ec(t).Wh.delete(e)},[4,Qy(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(em(t=Jv(t,tm)),Jy(e)?e:{next:e})}(this.d_,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Pd)throw new cc(uc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Pd},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new eb(this,ay(this.d_,t))}catch(t){throw Wm(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new $m(this,uy(this.d_,t))}catch(t){throw Wm(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Zm(this,function(t,e){if(t=Jv(t,ry),Wv("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new cc(uc.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new oy(t,null,function(t){return new Il(wc.ct(),t)}(e))}(this.d_,t))}catch(t){throw Wm(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Df;return t._s.Ps(function(){return Object(Bu.b)(n,void 0,void 0,function(){var n;return Object(Bu.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return By(t).then(function(t){return t.Sh})}(t)];case 1:return n=i.sent(),new Uy(t._s,n,e,r).run(),[2]}})})}),r.promise}(em(t),function(n){return e(new Mm(t,n))})}(this.d_,function(n){return t(new zm(e,n))})},e.prototype.batch=function(){var t=this;return em(this.d_),new Bm(new Rm(this.d_,function(e){return Nm(t.d_,e)}))},e.prototype.loadBundle=function(t){throw new cc(uc.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new cc(uc.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}($v),Hm=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Bu.c)(e,t),e.prototype.Wf=function(t){return new Um(new lc(t))},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return $m.yd(e,this.firestore,null)},e}(om),zm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r.Xf=new Hm(e),r}return Object(Bu.c)(e,t),e.prototype.get=function(t){var e=this,n=nb(t);return this.d_.get(n).then(function(t){return new Xm(e.Yf,new Cm(e.Yf.d_,e.Xf,t.S_,t.Zf,t.metadata,n.v_))})},e.prototype.set=function(t,e,n){var r=nb(t);return n?(Kv("Transaction.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=nb(t);return 2===arguments.length?this.d_.update(s,e):(r=this.d_).update.apply(r,Object(Bu.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=nb(t);return this.d_.delete(e),this},e}($v),Bm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Bu.c)(e,t),e.prototype.set=function(t,e,n){var r=nb(t);return n?(Kv("WriteBatch.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=nb(t);return 2===arguments.length?this.d_.update(s,e):(r=this.d_).update.apply(r,Object(Bu.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=nb(t);return this.d_.delete(e),this},e.prototype.commit=function(){return this.d_.commit()},e}($v),Gm=function(t){function e(e,n,r){var i=this;return(i=t.call(this,r)||this).Yf=e,i.Xf=n,i}return Object(Bu.c)(e,t),e.prototype.fromFirestore=function(t,e){var n=new Im(this.Yf.d_,this.Xf,t.S_,t.Zf,t.metadata,null);return this.d_.fromFirestore(new Ym(this.Yf,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this.d_.toFirestore(t,e):this.d_.toFirestore(t)},e.gd=function(t,n){var r=e.Vd,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new Hm(t),n),i.set(n,o)),o},e}($v);Gm.Vd=new WeakMap;var $m=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new Hm(e),r}return Object(Bu.c)(e,t),e.pd=function(t,n,r){if(t.length%2!=0)throw new cc(uc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.rt()+" has "+t.length);return new e(n,new iy(n.d_,r,new Cc(t)))},e.yd=function(t,n,r){return new e(n,new iy(n.d_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new eb(this.firestore,this.d_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new eb(this.firestore,ay(this.d_,t))}catch(t){throw Wm(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof $v&&(t=t.d_),t instanceof iy&&cy(this.d_,t)},e.prototype.set=function(t,e){e=Kv("DocumentReference.set",e);try{return function(t,e,n){t=Jv(t,iy);var r=Jv(t.firestore,tm),i=wm(t.v_,e,n);return Nm(r,[by(my(r),"setDoc",t.S_,i,null!==t.v_,n).F_(t.S_,sh.Kt())])}(this.d_,t,e)}catch(t){throw Wm(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?jm(this.d_,t):jm.apply(void 0,Object(Bu.g)([this.d_,t,e],n))}catch(t){throw Wm(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Nm(Jv((t=this.d_).firestore,tm),[new Oh(t.S_,sh.Kt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Km(e),i=Qm(e,function(e){return new Xm(t.firestore,new Cm(t.firestore.d_,t.Xf,e.S_,e.Zf,e.metadata,t.d_.v_))});return km(this.d_,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Jv(t,iy);var e=Jv(t.firestore,tm),n=em(e),r=new Am(e);return function(t,e){var n=this,r=new Df;return t._s.Ps(function(){return Object(Bu.b)(n,void 0,void 0,function(){var n;return Object(Bu.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Bu.b)(this,void 0,void 0,function(){var r,i;return Object(Bu.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=ec(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Tc.Ho(t,e)})}(t,e)];case 1:return(i=o.sent())instanceof nl?n.resolve(i):i instanceof rl?n.resolve(null):n.reject(new cc(uc.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Wf(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,$y(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.S_).then(function(n){return new Cm(e,r,t.S_,n,new Em(n instanceof nl&&n.Vt,!0),t.v_)})}(this.d_):"server"===(null==t?void 0:t.source)?function(t){t=Jv(t,iy);var e=Jv(t.firestore,tm);return Xy(em(e),t.S_,{source:"server"}).then(function(n){return Pm(e,t,n)})}(this.d_):function(t){t=Jv(t,iy);var e=Jv(t.firestore,tm);return Xy(em(e),t.S_).then(function(n){return Pm(e,t,n)})}(this.d_)).then(function(t){return new Xm(e.firestore,new Cm(e.firestore.d_,e.Xf,t.S_,t.Zf,t.metadata,e.d_.v_))})},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(Gm.gd(this.firestore,t)))},e}($v);function Wm(t,e,n){return t.message=t.message.replace(e,n),t}function Km(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Jy(r))return r}return{}}function Qm(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Jy(t[0])?t[0]:Jy(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Xm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(Bu.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new $m(this.Yf,this.d_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.d_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.d_.data(t)},e.prototype.get=function(t,e){return this.d_.get(t,e)},e.prototype.isEqual=function(t){return xm(this.d_,t.d_)},e}($v),Ym=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Bu.c)(e,t),e.prototype.data=function(t){return this.d_.data(t)},e}(Xm),Zm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new Hm(e),r}return Object(Bu.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,hm(this.d_,function(t,e,n){var r=e,i=um("where",t);return new fm(i,r,n)}(t,n,r)))}catch(t){throw Wm(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,hm(this.d_,function(t,e){void 0===e&&(e="asc");var n=e,r=um("orderBy",t);return new dm(r,n)}(t,n)))}catch(t){throw Wm(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,hm(this.d_,function(t){return ty("limit",t),new pm("limit",t,"F")}(t)))}catch(t){throw Wm(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,hm(this.d_,function(t){return ty("limitToLast",t),new pm("limitToLast",t,"L")}(t)))}catch(t){throw Wm(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,hm(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new gm("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw Wm(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,hm(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new gm("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw Wm(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,hm(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new vm("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw Wm(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,hm(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new vm("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw Wm(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return ly(this.d_,t.d_)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Jv(t,oy);var e=Jv(t.firestore,tm),n=em(e),r=new Am(e);return function(t,e){var n=this,r=new Df;return t._s.Ps(function(){return Object(Bu.b)(n,void 0,void 0,function(){var n;return Object(Bu.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Bu.b)(this,void 0,void 0,function(){var r,i,o,s,a;return Object(Bu.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Rp(t,e,!0)];case 1:return a=u.sent(),r=new iv(e,a.Rc),i=r.fl(a.documents),o=r.wi(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=Wf(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,$y(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.C_).then(function(n){return new Sm(e,r,t,n)})}(this.d_):"server"===(null==t?void 0:t.source)?function(t){t=Jv(t,oy);var e=Jv(t.firestore,tm),n=em(e),r=new Am(e);return Yy(n,t.C_,{source:"server"}).then(function(n){return new Sm(e,r,t,n)})}(this.d_):function(t){t=Jv(t,oy);var e=Jv(t.firestore,tm),n=em(e),r=new Am(e);return cm(t.C_),Yy(n,t.C_).then(function(n){return new Sm(e,r,t,n)})}(this.d_)).then(function(t){return new tb(e.firestore,new Sm(e.firestore.d_,e.Xf,e.d_,t._d))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Km(e),i=Qm(e,function(e){return new tb(t.firestore,new Sm(t.firestore.d_,t.Xf,t.d_,e._d))});return km(this.d_,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(Gm.gd(this.firestore,t)))},e}($v),Jm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(Bu.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.d_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Ym(this.Yf,this.d_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.d_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.d_.newIndex},enumerable:!1,configurable:!0}),e}($v),tb=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(Bu.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new Zm(this.Yf,this.d_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.d_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.d_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.d_.docs.map(function(e){return new Ym(t.Yf,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.d_.docChanges(t).map(function(t){return new Jm(e.Yf,t)})},e.prototype.forEach=function(t,e){var n=this;this.d_.forEach(function(r){t.call(e,new Ym(n.Yf,r))})},e.prototype.isEqual=function(t){return xm(this.d_,t.d_)},e}($v),eb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r.d_=n,r}return Object(Bu.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.d_.parent;return t?new $m(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new $m(this.firestore,void 0===t?uy(this.d_):uy(this.d_,t))}catch(t){throw Wm(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Jv(t.firestore,tm),r=uy(t),i=wm(t.v_,e);return Nm(n,[by(my(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).F_(r.S_,sh.exists(!1))]).then(function(){return r})}(this.d_,t).then(function(t){return new $m(e.firestore,t)})},e.prototype.isEqual=function(t){return cy(this.d_,t.d_)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(Gm.gd(this.firestore,t)))},e}(Zm);function nb(t){return t instanceof $v&&(t=t.d_),Jv(t,iy)}var rb,ib=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(Bv.bind.apply(Bv,Object(Bu.g)([void 0],e))))||this}return Object(Bu.c)(e,t),e.documentId=function(){return new e(Ec.ht().rt())},e.prototype.isEqual=function(t){return t instanceof $v&&(t=t.d_),t instanceof Bv&&this.d_.f_.isEqual(t.f_)},e}($v),ob=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Bu.c)(e,t),e.serverTimestamp=function(){var t=new Oy("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new _y("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ey("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Cy("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new Iy("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e}($v),sb=n("/6Yf"),ab={Firestore:qm,GeoPoint:hy,Timestamp:mc,Blob:Um,Transaction:zm,WriteBatch:Bm,DocumentReference:$m,DocumentSnapshot:Xm,Query:Zm,QueryDocumentSnapshot:Ym,QuerySnapshot:tb,CollectionReference:eb,FieldPath:ib,FieldValue:ob,setLogLevel:function(t){Wu.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function ub(t,e){return function(t,e=Pi.a){return new mt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function cb(t,e){return ub(t,e).pipe(Object(It.a)(t=>({payload:t,type:"query"})))}function lb(t,e){return cb(t,e).pipe(Ee(void 0),Ri(),Object(It.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function hb(t,e,n){return lb(t,n).pipe(Ce((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return fb(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return fb(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return fb(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new Vi(void 0,void 0)),Object(It.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function fb(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function db(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}(function(t,e){t.INTERNAL.registerComponent(new sb.a("firestore",function(t){return function(t,e){return new qm(t,new tm(t,e),new Fm)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},ab)))})(rb=Ui.a),rb.registerVersion("@firebase/firestore","2.1.7");class pb{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=lb(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(It.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Ee(void 0),Ri(),Lt(([t,e])=>e.length>0||!t),Object(It.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Ce((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=db(t);return hb(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return cb(this.query,this.afs.schedulers.outsideAngular).pipe(Object(It.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(bt.a)(this.query.get(t)).pipe(Object(wt.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new gb(this.ref.doc(t),this.afs)}}class gb{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=wb(n,e);return new pb(r,i,this.afs)}snapshotChanges(){return ub(this.ref,this.afs.schedulers.outsideAngular).pipe(Ee(void 0),Ri(),Object(It.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(It.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(bt.a)(this.ref.get(t)).pipe(Object(wt.b)(this.afs.schedulers.insideAngular))}}class vb{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?lb(this.query,this.afs.schedulers.outsideAngular).pipe(Object(It.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Lt(t=>t.length>0),this.afs.keepUnstableUntilFirst):lb(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Ce((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=db(t);return hb(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return cb(this.query,this.afs.schedulers.outsideAngular).pipe(Object(It.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(bt.a)(this.query.get(t)).pipe(Object(wt.b)(this.afs.schedulers.insideAngular))}}const yb=new r.r("angularfire2.enableFirestorePersistence"),mb=new r.r("angularfire2.firestore.persistenceSettings"),bb=new r.r("angularfire2.firestore.settings"),_b=new r.r("angularfire2.firestore.use-emulator");function wb(t,e=(t=>t)){return{query:e(t),ref:t}}let Ob=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this.schedulers=new re.d(o),this.keepUnstableUntilFirst=Object(re.h)(this.schedulers);const c=Object(re.g)(t,o,e);!Ni.a.auth&&u&&Object(re.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(re.f)(`${c.name}.firestore`,"AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!M(i)){const e=()=>{try{return Object(bt.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(rb){return"undefined"!=typeof console&&console.warn(rb),Object(yt.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(yt.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=wb(n,e),o=this.schedulers.ngZone.run(()=>r);return new pb(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new vb(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new gb(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(re.c),r.Rb(re.b,8),r.Rb(yb,8),r.Rb(bb,8),r.Rb(r.C),r.Rb(r.A),r.Rb(mb,8),r.Rb(_b,8),r.Rb(ie,8))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Rb)(re.c),Object(r.Rb)(re.b,8),Object(r.Rb)(yb,8),Object(r.Rb)(bb,8),Object(r.Rb)(r.C),Object(r.Rb)(r.A),Object(r.Rb)(mb,8),Object(r.Rb)(_b,8),Object(r.Rb)(ie,8))},token:t,providedIn:"any"}),t})(),Eb=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:yb,useValue:!0},{provide:mb,useValue:e}]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[Ob]}),t})(),Cb=(()=>{class t{constructor(t,e,n){this.angularFireAuth=t,this.router=e,this.afs=n,this.angularFireAuth.authState.subscribe(t=>{t?(this.user=t,localStorage.setItem("user",JSON.stringify(this.user))):localStorage.setItem("user",null)})}regUser(t,e){this.angularFireAuth.createUserWithEmailAndPassword(t,e).then(t=>{this.SetUserData(t.user),localStorage.setItem("user",JSON.stringify(t.user)),this.router.navigate(["tasks"])}).catch(t=>{window.alert(t.message)})}signInUser(t,e){this.angularFireAuth.signInWithEmailAndPassword(t,e).then(t=>{this.SetUserData(t.user),localStorage.setItem("user",JSON.stringify(t.user)),this.router.navigate(["tasks"])}).catch(t=>{window.alert(t.message)})}isSignedIn(){return null!==JSON.parse(localStorage.getItem("user"))}signOut(){this.angularFireAuth.signOut().then(()=>{this.router.navigate(["signUp"])})}updateUserProfile(t,e){return function(t,e,n,r){return new(n||(n=Promise))(function(e,i){function o(t){try{a(r.next(t))}catch(rb){i(rb)}}function s(t){try{a(r.throw(t))}catch(rb){i(rb)}}function a(t){var r;t.done?e(t.value):(r=t.value,r instanceof n?r:new n(function(t){t(r)})).then(o,s)}a((r=r.apply(t,[])).next())})}(this,0,void 0,function*(){var n=yield this.angularFireAuth.currentUser;n.updateProfile({displayName:t,photoURL:e}).then(()=>{this.SetUserData(n),localStorage.setItem("user",JSON.stringify(n))})})}SetUserData(t){return this.afs.doc(`users/${t.uid}`).set({uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL},{merge:!0})}updateTasksArray(t,e){this.afs.doc(`users/${t}`).update({tasks:Ni.a.firestore.FieldValue.arrayUnion(e)})}removeTaskFromArray(t,e){this.afs.doc(`users/${t}`).update({tasks:Ni.a.firestore.FieldValue.arrayRemove(e)})}getCollection(t){return this.afs.doc(`users/${t}`).get().toPromise()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(le),r.Rb(li),r.Rb(Ob))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Ib(t,e){if(1&t){const t=r.Ob();r.Nb(0,"div",4),r.Nb(1,"h3"),r.fc(2,"Register"),r.Mb(),r.Nb(3,"div",5),r.Nb(4,"label",6),r.fc(5,"Email"),r.Mb(),r.Lb(6,"input",7,8),r.Mb(),r.Nb(8,"div",5),r.Nb(9,"label",9),r.fc(10,"Password"),r.Mb(),r.Lb(11,"input",10,11),r.Mb(),r.Nb(13,"span"),r.fc(14,"Already have an account ? "),r.Nb(15,"b",12),r.Ub("click",function(){return r.bc(t),r.Wb().switchForms()}),r.fc(16,"Sign In"),r.Mb(),r.Mb(),r.Nb(17,"button",12),r.Ub("click",function(){r.bc(t);const e=r.ac(7),n=r.ac(12);return r.Wb().auth.regUser(e.value,n.value)}),r.fc(18,"Register"),r.Mb(),r.Mb()}}function Sb(t,e){if(1&t){const t=r.Ob();r.Nb(0,"div",13),r.Nb(1,"h3"),r.fc(2,"Sign In"),r.Mb(),r.Nb(3,"div",5),r.Nb(4,"label",14),r.fc(5,"Email"),r.Mb(),r.Lb(6,"input",7,15),r.Mb(),r.Nb(8,"div",5),r.Nb(9,"label",16),r.fc(10,"Password"),r.Mb(),r.Lb(11,"input",10,17),r.Mb(),r.Nb(13,"span"),r.fc(14,"Don't have an account ? "),r.Nb(15,"b",12),r.Ub("click",function(){return r.bc(t),r.Wb().switchForms()}),r.fc(16,"Register"),r.Mb(),r.Mb(),r.Nb(17,"button",12),r.Ub("click",function(){r.bc(t);const e=r.ac(7),n=r.ac(12);return r.Wb().auth.signInUser(e.value,n.value)}),r.fc(18,"Sign In"),r.Mb(),r.Mb()}}let Tb=(()=>{class t{constructor(t){this.auth=t,this.showRegisterForm=!0}ngOnInit(){}switchForms(){this.showRegisterForm=!this.showRegisterForm}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Cb))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-sign-up"]],decls:4,vars:2,consts:[[1,"container"],[1,"forms_wrap"],["class","signUp",4,"ngIf"],["class","signIn",4,"ngIf"],[1,"signUp"],[1,"formGroup"],["for","email_signUP"],["type","email"],["email_signUP",""],["for","password_signUP"],["type","password"],["password_signUP",""],[3,"click"],[1,"signIn"],["for","email_signIN"],["email_signIN",""],["for","password_signIN"],["password_signIN",""]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.Nb(1,"div",1),r.ec(2,Ib,19,0,"div",2),r.ec(3,Sb,19,0,"div",3),r.Mb(),r.Mb()),2&t&&(r.Ab(2),r.Xb("ngIf",e.showRegisterForm),r.Ab(1),r.Xb("ngIf",!e.showRegisterForm))},directives:[N],styles:[".container[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 62px);background-image:url(login_bg.55132e9c3b02ce8ccbd2.png);background-size:cover;position:relative}.container[_ngcontent-%COMP%]   .forms_wrap[_ngcontent-%COMP%]{position:absolute;right:50px;width:300px;height:100%;display:flex;align-items:center;background-color:hsla(0,0%,100%,.5)}.container[_ngcontent-%COMP%]   .forms_wrap[_ngcontent-%COMP%]   .signIn[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .forms_wrap[_ngcontent-%COMP%]   .signUp[_ngcontent-%COMP%]{padding:10px}.container[_ngcontent-%COMP%]   .forms_wrap[_ngcontent-%COMP%]   .signIn[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .forms_wrap[_ngcontent-%COMP%]   .signUp[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]   .forms_wrap[_ngcontent-%COMP%]   .signIn[_ngcontent-%COMP%]   .formGroup[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .forms_wrap[_ngcontent-%COMP%]   .signUp[_ngcontent-%COMP%]   .formGroup[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:10px 0}.container[_ngcontent-%COMP%]   .forms_wrap[_ngcontent-%COMP%]   .signIn[_ngcontent-%COMP%]   .formGroup[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .forms_wrap[_ngcontent-%COMP%]   .signUp[_ngcontent-%COMP%]   .formGroup[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-top:10px;padding:5px}.container[_ngcontent-%COMP%]   .forms_wrap[_ngcontent-%COMP%]   .signIn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   b[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .forms_wrap[_ngcontent-%COMP%]   .signUp[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{text-decoration:underline;cursor:pointer}.container[_ngcontent-%COMP%]   .forms_wrap[_ngcontent-%COMP%]   .signIn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .forms_wrap[_ngcontent-%COMP%]   .signUp[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:10px;padding:5px;cursor:pointer}@media (max-width:600px){.forms_wrap[_ngcontent-%COMP%]{position:static!important;margin:0 auto}}"]}),t})();var xb=n("XoHu");function Ab(t,e){return new mt.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=Object(bt.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const jb=new r.r("NgValueAccessor"),kb={provide:jb,useExisting:Object(r.U)(()=>Nb),multi:!0};let Nb=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.E),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Ub("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[r.zb([kb])]}),t})();const Pb={provide:jb,useExisting:Object(r.U)(()=>Db),multi:!0},Rb=new r.r("CompositionEventMode");let Db=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=o()?o().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.E),r.Kb(r.l),r.Kb(Rb,8))},t.\u0275dir=r.Fb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Ub("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.zb([Pb])]}),t})();function Mb(t){return null==t||0===t.length}function Vb(t){return null!=t&&"number"==typeof t.length}const Lb=new r.r("NgValidators"),Ub=new r.r("NgAsyncValidators"),Fb=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class qb{static min(t){return e=>{if(Mb(e.value)||Mb(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Mb(e.value)||Mb(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Mb(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Mb(t.value)||Fb.test(t.value)?null:{email:!0}}static minLength(t){return e=>Mb(e.value)||!Vb(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>Vb(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return qb.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Mb(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Hb);return 0==e.length?null:function(t){return Bb(Gb(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(Hb);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(pe.a)(e))return Ab(e,null);if(Object(xb.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Ab(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Ab(t=1===t.length&&Object(pe.a)(t[0])?t[0]:t,null).pipe(Object(It.a)(t=>e(...t)))}return Ab(t,null)}(Gb(t,e).map(zb)).pipe(Object(It.a)(Bb))}}}function Hb(t){return null!=t}function zb(t){const e=Object(r.rb)(t)?Object(bt.a)(t):t;return Object(r.qb)(e),e}function Bb(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Gb(t,e){return e.map(e=>e(t))}function $b(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function Wb(t){return null!=t?qb.compose($b(t)):null}function Kb(t){return null!=t?qb.composeAsync($b(t)):null}function Qb(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Xb(t){return t._rawValidators}function Yb(t){return t._rawAsyncValidators}let Zb=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Wb(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Kb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Fb({type:t}),t})(),Jb=(()=>{class t extends Zb{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return t_(e||t)},t.\u0275dir=r.Fb({type:t,features:[r.xb]}),t})();const t_=r.Pb(Jb);class e_ extends Zb{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class n_{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}let r_=(()=>{class t extends n_{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(e_,2))},t.\u0275dir=r.Fb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Cb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.xb]}),t})(),i_=(()=>{class t extends n_{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Jb,10))},t.\u0275dir=r.Fb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Cb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.xb]}),t})();const o_={provide:jb,useExisting:Object(r.U)(()=>s_),multi:!0};let s_=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.E),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Ub("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.zb([o_])]}),t})();const a_={provide:jb,useExisting:Object(r.U)(()=>c_),multi:!0};let u_=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),c_=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(e_),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.E),r.Kb(r.l),r.Kb(u_),r.Kb(r.s))},t.\u0275dir=r.Fb({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Ub("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.zb([a_])]}),t})();const l_={provide:jb,useExisting:Object(r.U)(()=>h_),multi:!0};let h_=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.E),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Ub("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.zb([l_])]}),t})();const f_={provide:jb,useExisting:Object(r.U)(()=>p_),multi:!0};function d_(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let p_=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=d_(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.E),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Ub("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.zb([f_])]}),t})(),g_=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(d_(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.l),r.Kb(r.E),r.Kb(p_,9))},t.\u0275dir=r.Fb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const v_={provide:jb,useExisting:Object(r.U)(()=>m_),multi:!0};function y_(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let m_=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.E),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Ub("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.zb([v_])]}),t})(),b_=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(y_(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(y_(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.l),r.Kb(r.E),r.Kb(m_,9))},t.\u0275dir=r.Fb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();function __(t,e){E_(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&I_(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&I_(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function w_(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),C_(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function O_(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function E_(t,e,n){const r=Xb(t);null!==e.validator?t.setValidators(Qb(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=Yb(t);if(null!==e.asyncValidator?t.setAsyncValidators(Qb(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();O_(e._rawValidators,n),O_(e._rawAsyncValidators,n)}}function C_(t,e,n){let r=!1;if(null!==t){if(null!==e.validator){const n=Xb(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.validator);i.length!==n.length&&(r=!0,t.setValidators(i))}}if(null!==e.asyncValidator){const n=Yb(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.asyncValidator);i.length!==n.length&&(r=!0,t.setAsyncValidators(i))}}}if(n){const t=()=>{};O_(e._rawValidators,t),O_(e._rawAsyncValidators,t)}return r}function I_(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const S_=[Nb,h_,s_,p_,m_,c_];function T_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const x_="VALID",A_="INVALID",j_="PENDING",k_="DISABLED";function N_(t){return(M_(t)?t.validators:t)||null}function P_(t){return Array.isArray(t)?Wb(t):t||null}function R_(t,e){return(M_(e)?e.asyncValidators:t)||null}function D_(t){return Array.isArray(t)?Kb(t):t||null}function M_(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class V_{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=P_(this._rawValidators),this._composedAsyncValidatorFn=D_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===x_}get invalid(){return this.status===A_}get pending(){return this.status==j_}get disabled(){return this.status===k_}get enabled(){return this.status!==k_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=P_(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=D_(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=j_,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=k_,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=x_,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==x_&&this.status!==j_||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?k_:x_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=j_,this._hasOwnPendingAsyncValidator=!0;const e=zb(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof U_?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof F_&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?k_:this.errors?A_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(j_)?j_:this._anyControlsHaveStatus(A_)?A_:x_}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){M_(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class L_ extends V_{constructor(t=null,e,n){super(N_(e),R_(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){T_(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){T_(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class U_ extends V_{constructor(t,e,n){super(N_(e),R_(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof L_?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class F_ extends V_{constructor(t,e,n){super(N_(e),R_(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof L_?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}let q_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Fb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const H_=new r.r("NgModelWithFormControlWarning"),z_={provide:Jb,useExisting:Object(r.U)(()=>B_)};let B_=(()=>{class t extends Jb{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.n,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(C_(this.form,this,!1),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return __(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){w_(t.control||null,t,!1),T_(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(w_(t.control||null,t),e&&__(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const e=this.form.get(t.path);(function(t,e){E_(t,e,!1)})(e,t),e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const e=this.form.get(t.path);e&&function(t,e){return C_(t,e,!1)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){E_(this.form,this,!1),this._oldForm&&C_(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Lb,10),r.Kb(Ub,10))},t.\u0275dir=r.Fb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.Ub("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.zb([z_]),r.xb,r.yb]}),t})();const G_={provide:e_,useExisting:Object(r.U)(()=>$_)};let $_=(()=>{class t extends e_{constructor(t,e,n,i,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new r.n,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{var e;t.constructor===Db?n=t:(e=t,S_.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}(0,i)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return t=null==this.name?this.name:this.name.toString(),[...this._parent.path,t];var t}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Jb,13),r.Kb(Lb,10),r.Kb(Ub,10),r.Kb(jb,10),r.Kb(H_,8))},t.\u0275dir=r.Fb({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.zb([G_]),r.xb,r.yb]}),t._ngModelWarningSentOnce=!1,t})(),W_=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})(),K_=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r,i=null,o=null;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(i=null!=e.validators?e.validators:null,o=null!=e.asyncValidators?e.asyncValidators:null,r=null!=e.updateOn?e.updateOn:void 0):(i=null!=e.validator?e.validator:null,o=null!=e.asyncValidator?e.asyncValidator:null)),new U_(n,{asyncValidators:o,updateOn:r,validators:i})}control(t,e,n){return new L_(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new F_(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof L_||t instanceof U_||t instanceof F_?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),Q_=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:H_,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[K_,u_],imports:[W_]}),t})();function X_(t,e){1&t&&(r.Nb(0,"div"),r.fc(1," Field required "),r.Mb())}function Y_(t,e){1&t&&(r.Nb(0,"div"),r.fc(1," Use words and spaces (don't use spaces after the last word) "),r.Mb())}function Z_(t,e){if(1&t&&(r.Nb(0,"div",19),r.ec(1,X_,2,0,"div",20),r.ec(2,Y_,2,0,"div",20),r.Mb()),2&t){const t=r.Wb(2);r.Ab(1),r.Xb("ngIf",null==t.taskname.errors?null:t.taskname.errors.required),r.Ab(1),r.Xb("ngIf",null==t.taskname.errors?null:t.taskname.errors.pattern)}}function J_(t,e){if(1&t&&r.Lb(0,"input",22),2&t){const t=r.Wb().$implicit;r.Xb("value",t)}}function tw(t,e){if(1&t&&(r.Nb(0,"span"),r.fc(1),r.Mb()),2&t){const t=r.Wb().$implicit;r.Ab(1),r.gc(t)}}function ew(t,e){if(1&t&&(r.Nb(0,"label"),r.ec(1,J_,1,1,"input",21),r.ec(2,tw,2,1,"span",20),r.Mb()),2&t){const t=e.index;r.Ab(1),r.Xb("ngIf",0!=t&&1!=t),r.Ab(1),r.Xb("ngIf",0!=t&&1!=t)}}function nw(t,e){if(1&t){const t=r.Ob();r.Nb(0,"form",11),r.Ub("ngSubmit",function(){r.bc(t);const e=r.Wb();return e.submit(e.task)}),r.Nb(1,"span",12),r.Ub("click",function(){return r.bc(t),r.Wb().formVisibility()}),r.fc(2,"\u2716"),r.Mb(),r.Nb(3,"div",13),r.Nb(4,"label",14),r.fc(5,"Task Name"),r.Mb(),r.Lb(6,"input",15),r.ec(7,Z_,3,2,"div",16),r.Mb(),r.Nb(8,"div",17),r.Nb(9,"h2"),r.fc(10,"Task Priority"),r.Mb(),r.ec(11,ew,3,2,"label",18),r.Mb(),r.Nb(12,"button"),r.fc(13,"Add Task"),r.Mb(),r.Mb()}if(2&t){const t=r.Wb();r.Xb("formGroup",t.task),r.Ab(7),r.Xb("ngIf",t.taskname.invalid&&(t.taskname.dirty||t.taskname.touched)),r.Ab(4),r.Xb("ngForOf",t.selectOptions)}}function rw(t,e){if(1&t){const t=r.Ob();r.Nb(0,"span",23),r.Ub("click",function(){return r.bc(t),r.Wb().formVisibility()}),r.fc(1,"\u271a"),r.Mb()}}function iw(t,e){if(1&t&&(r.Nb(0,"option",24),r.fc(1),r.Mb()),2&t){const t=e.$implicit,n=e.index;r.Xb("value",t)("selected",0==n)("disabled",0==n)("hidden",0==n),r.Ab(1),r.gc(t)}}const ow=function(t){return{completed:t}};function sw(t,e){if(1&t){const t=r.Ob();r.Nb(0,"div",25),r.Nb(1,"div",26),r.fc(2),r.Mb(),r.Nb(3,"div",27),r.fc(4),r.Mb(),r.Nb(5,"input",28),r.Ub("change",function(n){r.bc(t);const i=e.$implicit;return r.Wb().checkBoxValue(n,i)}),r.Mb(),r.fc(6,"Completed "),r.Nb(7,"span",29),r.Ub("click",function(){r.bc(t);const n=e.$implicit;return r.Wb().removeTask(n)}),r.fc(8,"\u2716"),r.Mb(),r.Mb()}if(2&t){const t=e.$implicit,n=r.Wb();r.Xb("ngClass",t.priority.toLowerCase()),r.Ab(1),r.Xb("ngClass",r.Yb(5,ow,t.completed)),r.Ab(1),r.hc(" ",t.task," "),r.Ab(2),r.hc("Added at ",n.getTime(t.time.seconds),""),r.Ab(1),r.Xb("checked",t.completed)}}function aw(t,e){1&t&&(r.Nb(0,"div",30),r.fc(1," NO TASKS AVAILABLE"),r.Lb(2,"br"),r.fc(3,' ADD TASKS BY CLICKING "+" AT TOP LEFT CORNER '),r.Mb())}function uw(t,e){1&t&&(r.Nb(0,"div",9),r.Lb(1,"img",10),r.Mb())}function cw(t,e){if(1&t&&(r.Nb(0,"div",17),r.fc(1),r.Mb()),2&t){const t=r.Wb(2);r.Ab(1),r.hc("Tasks left: ",null==t.userInfo||null==t.userInfo.tasks?null:t.userInfo.tasks.length,"")}}function lw(t,e){if(1&t&&(r.Nb(0,"div",1),r.Lb(1,"img",11),r.Nb(2,"div",12),r.Nb(3,"div",13),r.fc(4),r.Mb(),r.Nb(5,"div",14),r.fc(6),r.Mb(),r.Nb(7,"div",15),r.fc(8),r.Mb(),r.ec(9,cw,2,1,"div",16),r.Mb(),r.Mb()),2&t){const t=r.Wb();r.Ab(1),r.Xb("src",null!=t.userInfo&&t.userInfo.photoURL?t.userInfo.photoURL:t.defaultIMG,r.cc),r.Ab(3),r.hc("Username: ",null==t.userInfo?null:t.userInfo.displayName,""),r.Ab(2),r.hc("Email: ",null==t.userInfo?null:t.userInfo.email,""),r.Ab(2),r.hc("ID: ",null==t.userInfo?null:t.userInfo.uid,""),r.Ab(1),r.Xb("ngIf",null==t.userInfo?null:t.userInfo.tasks)}}function hw(t,e){1&t&&(r.Nb(0,"div"),r.fc(1," Field required "),r.Mb())}function fw(t,e){1&t&&(r.Nb(0,"div"),r.fc(1," No spaces and special symbols allowed "),r.Mb())}function dw(t,e){if(1&t&&(r.Nb(0,"div",18),r.ec(1,hw,2,0,"div",19),r.ec(2,fw,2,0,"div",19),r.Mb()),2&t){const t=r.Wb();r.Ab(1),r.Xb("ngIf",null==t.username.errors?null:t.username.errors.required),r.Ab(1),r.Xb("ngIf",null==t.username.errors?null:t.username.errors.pattern)}}function pw(t,e){1&t&&(r.Nb(0,"div"),r.fc(1," Field required "),r.Mb())}function gw(t,e){1&t&&(r.Nb(0,"div"),r.fc(1," .jpg or .png format is allowed "),r.Mb())}function vw(t,e){if(1&t&&(r.Nb(0,"div",18),r.ec(1,pw,2,0,"div",19),r.ec(2,gw,2,0,"div",19),r.Mb()),2&t){const t=r.Wb();r.Ab(1),r.Xb("ngIf",null==t.imgURL.errors?null:t.imgURL.errors.required),r.Ab(1),r.Xb("ngIf",null==t.imgURL.errors?null:t.imgURL.errors.pattern)}}const yw=[{path:"",redirectTo:"tasks",pathMatch:"full"},{path:"signUp",component:Tb},{path:"tasks",component:(()=>{class t{constructor(t,e){this.fb=t,this.auth=e,this.formVisible=!1,this.selectOptions=["Select Priority","All","Low","Medium","High"],this.task=this.fb.group({task_name:["",[qb.required,qb.pattern(/^[a-zA-Z0-9_]+( [a-zA-Z0-9_]+)*$/)]],prio:["Medium",qb.required]})}ngOnInit(){this.userID=JSON.parse(localStorage.getItem("user")).uid,console.log(this.userID),this.getTasks()}submit(t){if("VALID"==t.status){let e=JSON.parse(localStorage.getItem("user")).uid,n={task:t.value.task_name,priority:t.value.prio,time:new Date,completed:!1};this.auth.updateTasksArray(e,n),this.getTasks(),this.formVisibility()}}get taskname(){return this.task.get("task_name")}getTasks(){this.auth.getCollection(this.userID).then(t=>{this.tasks=t.data().tasks?t.data().tasks:[],this.tasks!=[]&&this.tasks.sort(function(t,e){return t.time.seconds-e.time.seconds})})}formVisibility(){this.formVisible=!this.formVisible}removeTask(t){this.auth.removeTaskFromArray(this.userID,t),this.getTasks()}checkBoxValue(t,e){this.auth.removeTaskFromArray(this.userID,e),e.completed=t.target.checked,this.auth.updateTasksArray(this.userID,e)}filter(t){let e=t.target.value.toLowerCase();document.querySelectorAll(".task").forEach(t=>{t.style.display="all"==e||t.classList.contains(e)?"block":"none"})}getTime(t){return new Date(1e3*t).toString().split(" ").splice(0,5).join(" ")}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(K_),r.Kb(Cb))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-tasks"]],decls:11,vars:5,consts:[[1,"container"],[1,"tasks"],[1,"task_creation"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"create_and_filter"],["class","add-task",3,"click",4,"ngIf"],["name","prio","id","filter",3,"change"],[3,"value","selected","disabled","hidden",4,"ngFor","ngForOf"],[1,"tasks_wrap"],["class","task",3,"ngClass",4,"ngFor","ngForOf"],["class","no_tasks",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"close-form",3,"click"],[1,"task_name"],["for","task_name"],["type","text","id","task_name","formControlName","task_name","placeholder","Start coding"],["class","error",4,"ngIf"],[1,"task_priority"],[4,"ngFor","ngForOf"],[1,"error"],[4,"ngIf"],["type","radio","formControlName","prio",3,"value",4,"ngIf"],["type","radio","formControlName","prio",3,"value"],[1,"add-task",3,"click"],[3,"value","selected","disabled","hidden"],[1,"task",3,"ngClass"],[1,"task_name",3,"ngClass"],[1,"time"],["type","checkbox","name","completed","id","completed",3,"checked","change"],[3,"click"],[1,"no_tasks"]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.Nb(1,"div",1),r.Nb(2,"div",2),r.ec(3,nw,14,3,"form",3),r.Mb(),r.Nb(4,"div",4),r.ec(5,rw,2,0,"span",5),r.Nb(6,"select",6),r.Ub("change",function(t){return e.filter(t)}),r.ec(7,iw,2,5,"option",7),r.Mb(),r.Mb(),r.Nb(8,"div",8),r.ec(9,sw,9,7,"div",9),r.Mb(),r.ec(10,aw,4,0,"div",10),r.Mb(),r.Mb()),2&t&&(r.Ab(3),r.Xb("ngIf",e.formVisible),r.Ab(2),r.Xb("ngIf",!e.formVisible),r.Ab(2),r.Xb("ngForOf",e.selectOptions),r.Ab(2),r.Xb("ngForOf",e.tasks),r.Ab(1),r.Xb("ngIf",0==(null==e.tasks?null:e.tasks.length)))},directives:[N,j,q_,i_,B_,Db,r_,$_,c_,g_,b_,x],styles:[".task_creation[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;background-color:#e6e6e6;animation:slideIn 1s;flex-direction:column;width:300px;padding:10px;border:1px solid #000;position:relative;margin:0 auto}.task_creation[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .close-form[_ngcontent-%COMP%]{font-weight:700;position:absolute;right:10px;cursor:pointer}.task_creation[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .task_name[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:10px}.task_creation[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .task_name[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:20px;padding:5px;margin-top:10px}.task_creation[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .task_priority[_ngcontent-%COMP%]{display:flex;flex-direction:column}.task_creation[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .task_priority[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-top:10px}.task_creation[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:10px;padding:5px;text-transform:uppercase;width:40%}.error[_ngcontent-%COMP%]{font-size:14px;color:red}.tasks[_ngcontent-%COMP%]{padding:10px;min-height:calc(100vh - 62px);flex-direction:column;background-image:url(tasks_bg.f408a49853c67b56a152.jpg);background-size:cover}.tasks[_ngcontent-%COMP%], .tasks[_ngcontent-%COMP%]   .create_and_filter[_ngcontent-%COMP%]{display:flex}.tasks[_ngcontent-%COMP%]   .create_and_filter[_ngcontent-%COMP%]   .add-task[_ngcontent-%COMP%]{cursor:pointer;display:block;line-height:40px;width:40px;height:40px;margin-right:10px;text-align:center;background:#e6e6e6}.tasks[_ngcontent-%COMP%]   .create_and_filter[_ngcontent-%COMP%]   #filter[_ngcontent-%COMP%]{font-size:20px}.tasks[_ngcontent-%COMP%]   .tasks_wrap[_ngcontent-%COMP%]{margin-top:10px;display:flex;flex-wrap:wrap;justify-content:space-between;gap:5px}.tasks[_ngcontent-%COMP%]   .tasks_wrap[_ngcontent-%COMP%]   .task[_ngcontent-%COMP%]{background-color:#e6e6e6;flex-basis:calc((100% / 3 - 10px));padding:10px;border:2px solid #000;position:relative;margin-bottom:10px}.tasks[_ngcontent-%COMP%]   .tasks_wrap[_ngcontent-%COMP%]   .task[_ngcontent-%COMP%]   .task_name[_ngcontent-%COMP%]{margin:5px 0}.tasks[_ngcontent-%COMP%]   .tasks_wrap[_ngcontent-%COMP%]   .task[_ngcontent-%COMP%]   .task_name.completed[_ngcontent-%COMP%]{text-decoration:line-through;color:grey}.tasks[_ngcontent-%COMP%]   .tasks_wrap[_ngcontent-%COMP%]   .task.high[_ngcontent-%COMP%]{border-left:10px solid red}.tasks[_ngcontent-%COMP%]   .tasks_wrap[_ngcontent-%COMP%]   .task.medium[_ngcontent-%COMP%]{border-left:10px solid #ff0}.tasks[_ngcontent-%COMP%]   .tasks_wrap[_ngcontent-%COMP%]   .task.low[_ngcontent-%COMP%]{border-left:10px solid green}.tasks[_ngcontent-%COMP%]   .tasks_wrap[_ngcontent-%COMP%]   .task[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-right:5px}.tasks[_ngcontent-%COMP%]   .tasks_wrap[_ngcontent-%COMP%]   .task[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{margin:5px 0;font-size:12px}.tasks[_ngcontent-%COMP%]   .tasks_wrap[_ngcontent-%COMP%]   .task[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;cursor:pointer}option[selected][_ngcontent-%COMP%]{color:red}.container[_ngcontent-%COMP%]{position:relative}.no_tasks[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:30px;color:#fff;text-align:center}@keyframes slideIn{0%{transform:translateX(-250%)}to{transform:translateX(0)}}@media (max-width:1000px){.tasks_wrap[_ngcontent-%COMP%]{gap:5px}.task[_ngcontent-%COMP%]{flex-basis:calc(50% - 5px)!important}}@media (max-width:600px){.task[_ngcontent-%COMP%]{flex-basis:100%!important}}"]}),t})(),canActivate:[(()=>{class t{constructor(t,e){this.router=t,this.authService=e}canActivate(t,e){if(0!=this.authService.isSignedIn())return!0;this.router.navigate(["signUp"])}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(li),r.Rb(Cb))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()]},{path:"dashboard",component:(()=>{class t{constructor(t,e,n){this.afs=t,this.auth=e,this.fb=n,this.dataRecieved=!0,this.imgREGEXP="^https?://(?:[a-z0-9-]+.)+[a-z]{2,6}(?:/[^/#?]+)+.(?:jpg|png)$",this.defaultIMG="../../Task-App/assets/DefaultUser.svg",this.updateData=this.fb.group({username:["",[qb.required,qb.pattern(/^[a-zA-Z0-9]*$/)]],imgURL:["",[qb.required,qb.pattern(this.imgREGEXP)]]})}ngOnInit(){this.getUserData()}getUserData(){let t=JSON.parse(localStorage.getItem("user")).uid;this.auth.getCollection(t).then(t=>{this.userInfo=t.data(),console.log(this.userInfo),null==this.userInfo.displayName&&(this.userInfo.displayName="Unknown")})}submit(t){"VALID"==t.status&&(this.auth.updateUserProfile(t.value.username,t.value.imgURL),this.dataRecieved=!1,setTimeout(()=>{this.getUserData(),this.dataRecieved=!0},1e3))}get username(){return this.updateData.get("username")}get imgURL(){return this.updateData.get("imgURL")}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Ob),r.Kb(Cb),r.Kb(K_))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-dashboard"]],decls:19,vars:5,consts:[[1,"container"],[1,"loaded"],["class","loading",4,"ngIf"],["class","loaded",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"f_g"],["type","text","id","username","formControlName","username"],["class","error",4,"ngIf"],["type","url","id","userPhoto","formControlName","imgURL","placeholder","http(s)://example.jpg"],[1,"loading"],["src","../../assets/loading.gif"],[1,"userIMG",3,"src"],[1,"details"],[1,"username"],[1,"email"],[1,"user_id"],["class","tasks_left",4,"ngIf"],[1,"tasks_left"],[1,"error"],[4,"ngIf"]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.Nb(1,"div",1),r.ec(2,uw,2,0,"div",2),r.ec(3,lw,10,5,"div",3),r.Mb(),r.Nb(4,"form",4),r.Ub("ngSubmit",function(){return e.submit(e.updateData)}),r.Nb(5,"fieldset"),r.Nb(6,"legend"),r.fc(7,"Update username"),r.Mb(),r.Nb(8,"div",5),r.Lb(9,"input",6),r.ec(10,dw,3,2,"div",7),r.Mb(),r.Mb(),r.Nb(11,"fieldset"),r.Nb(12,"legend"),r.fc(13,"Update profile image"),r.Mb(),r.Nb(14,"div",5),r.Lb(15,"input",8),r.ec(16,vw,3,2,"div",7),r.Mb(),r.Mb(),r.Nb(17,"button"),r.fc(18,"Update"),r.Mb(),r.Mb(),r.Mb()),2&t&&(r.Ab(2),r.Xb("ngIf",!e.dataRecieved),r.Ab(1),r.Xb("ngIf",e.dataRecieved),r.Ab(1),r.Xb("formGroup",e.updateData),r.Ab(6),r.Xb("ngIf",e.username.invalid&&(e.username.dirty||e.username.touched)),r.Ab(6),r.Xb("ngIf",e.imgURL.invalid&&(e.imgURL.dirty||e.imgURL.touched)))},directives:[N,q_,i_,B_,Db,r_,$_],styles:["form[_ngcontent-%COMP%]{width:300px;margin:0 auto}form[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]{padding:5px}form[_ngcontent-%COMP%]   .f_g[_ngcontent-%COMP%]{display:flex;flex-direction:column}form[_ngcontent-%COMP%]   .f_g[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:5px 0;padding:5px}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:5px;font-size:20px;cursor:pointer;margin-top:10px}.error[_ngcontent-%COMP%]{font-size:14px;color:red}.container[_ngcontent-%COMP%]   .loaded[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:20px 0}.container[_ngcontent-%COMP%]   .loaded[_ngcontent-%COMP%]   .userIMG[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:50%}.container[_ngcontent-%COMP%]   .loaded[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;padding:0 5px;gap:5px}@media (max-width:500px){.loaded[_ngcontent-%COMP%]{flex-direction:column;align-items:center;text-align:center}.details[_ngcontent-%COMP%]{padding:5px 0!important}form[_ngcontent-%COMP%]{margin-bottom:20px}}"]}),t})()}];let mw=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[Ei.forRoot(yw,{relativeLinkResolution:"legacy"})],Ei]}),t})();function bw(t,e){1&t&&(r.Nb(0,"a",4),r.fc(1,"Sign up"),r.Mb())}function _w(t,e){1&t&&(r.Nb(0,"a",5),r.fc(1,"Dashboard"),r.Mb())}function ww(t,e){if(1&t&&(r.Nb(0,"span"),r.fc(1),r.Mb()),2&t){const t=r.Wb(2);r.Ab(1),r.gc(t.User.email)}}function Ow(t,e){if(1&t&&(r.Nb(0,"span"),r.fc(1),r.Mb()),2&t){const t=r.Wb(2);r.Ab(1),r.gc(t.User.displayName)}}function Ew(t,e){if(1&t){const t=r.Ob();r.Nb(0,"div",6),r.Lb(1,"img",7),r.ec(2,ww,2,1,"span",8),r.ec(3,Ow,2,1,"span",8),r.Nb(4,"i",9),r.Ub("click",function(){return r.bc(t),r.Wb().auth.signOut()}),r.Mb(),r.Mb()}if(2&t){const t=r.Wb();r.Ab(1),r.Xb("src",t.User.photoURL?t.User.photoURL:t.defaultIMGPath,r.cc),r.Ab(1),r.Xb("ngIf",!t.User.displayName),r.Ab(1),r.Xb("ngIf",t.User.displayName)}}let Cw=(()=>{class t{constructor(t){this.auth=t,this.title="TaskApp",this.defaultIMGPath="../Task-App/assets/DefaultUser.svg"}get User(){return JSON.parse(localStorage.getItem("user"))}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Cb))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-root"]],decls:7,vars:3,consts:[["routerLink","tasks"],["routerLink","signUp",4,"ngIf"],["routerLink","dashboard",4,"ngIf"],["class","signOut",4,"ngIf"],["routerLink","signUp"],["routerLink","dashboard"],[1,"signOut"],["alt","UserImage",3,"src"],[4,"ngIf"],[1,"fas","fa-sign-out-alt",3,"click"]],template:function(t,e){1&t&&(r.Nb(0,"nav"),r.Nb(1,"a",0),r.fc(2,"Tasks"),r.Mb(),r.ec(3,bw,2,0,"a",1),r.ec(4,_w,2,0,"a",2),r.ec(5,Ew,5,3,"div",3),r.Mb(),r.Lb(6,"router-outlet")),2&t&&(r.Ab(3),r.Xb("ngIf",!e.auth.isSignedIn()),r.Ab(1),r.Xb("ngIf",e.auth.isSignedIn()),r.Ab(1),r.Xb("ngIf",e.auth.isSignedIn()))},directives:[hi,N,di],styles:["nav[_ngcontent-%COMP%]{display:flex;padding:10px;background-color:#222;height:62px}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#e6e6e6;margin-right:10px;align-self:center;text-transform:uppercase;font-weight:700;letter-spacing:1px;display:block}nav[_ngcontent-%COMP%]   .signOut[_ngcontent-%COMP%]{margin-left:auto;display:flex;color:#e6e6e6}nav[_ngcontent-%COMP%]   .signOut[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;border:3px solid #e6e6e6;border-radius:50%}nav[_ngcontent-%COMP%]   .signOut[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:10px;align-self:center;font-size:18px}nav[_ngcontent-%COMP%]   .signOut[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding:5px;align-self:center;cursor:pointer}"]}),t})(),Iw=(()=>{class t{}return t.\u0275mod=r.Ib({type:t,bootstrap:[Cw]}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[],imports:[[pt,mw,re.a.initializeApp(gt),he,Eb,Q_]]}),t})();Object(r.T)(),ft().bootstrapModule(Iw).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);